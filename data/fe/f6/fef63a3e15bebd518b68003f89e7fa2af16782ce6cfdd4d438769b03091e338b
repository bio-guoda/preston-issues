[{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/596024978","html_url":"https://github.com/bio-guoda/preston/issues/39#issuecomment-596024978","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/39","id":596024978,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjAyNDk3OA==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-07T01:02:49Z","updated_at":"2020-03-07T01:04:59Z","body":"Hey @mielliott - \r\n\r\nI've made some changes to introduce (graph name / dataset name) support for nquads with some light refactoring. \r\n\r\nI found that the ```QuadLike``` interface extends the ```TripleLike``` interface, not the ```Triple``` interface. The ```QuadLike``` interface is implemented by the ```Quad``` class. So, to get things started, I've introduced ```TripleLike``` interfaces across the code base. Also, the factory used to create statements now produced quads instead of triples, while still returning them as ```TripleLike```-s. By default, you can create a statement with default (or empty) graph name using:\r\n\r\n```java\r\nTripleLike statement = RefNodeFactory.createStatement(subj, verb, obj)\r\n``` \r\nSetting the graph name can be done using:\r\n```\r\nTripleLike statement = RefNodeFactory.createStatementWithGraphName(someIRI, subj, verb, obj)\r\n```\r\n\r\nRetrieving the graph name made simple by using:\r\n\r\n```java\r\nOptional<BlankNodeOrIRI> graphName = RefNodeFactory.graphNameOf(someTripleLike);\r\n```\r\nSoon, we'd probably want to use the QuadLike interface. \r\n\r\nAlso, the logging (nquads + tsv) include the graph name / dataset name. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/596024978/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/596653036","html_url":"https://github.com/bio-guoda/preston/issues/39#issuecomment-596653036","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/39","id":596653036,"node_id":"MDEyOklzc3VlQ29tbWVudDU5NjY1MzAzNg==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-09T17:00:44Z","updated_at":"2020-03-09T17:00:44Z","body":"hey @mielliott, I've just completed the interface migrations from TripleLike to Quad . Please comment or re-open is you feel more discussion or work is needed to address this issue.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/596653036/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/600168796","html_url":"https://github.com/bio-guoda/preston/issues/39#issuecomment-600168796","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/39","id":600168796,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDE2ODc5Ng==","user":{"login":"mielliott","id":9602463,"node_id":"MDQ6VXNlcjk2MDI0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9602463?v=4","gravatar_id":"","url":"https://api.github.com/users/mielliott","html_url":"https://github.com/mielliott","followers_url":"https://api.github.com/users/mielliott/followers","following_url":"https://api.github.com/users/mielliott/following{/other_user}","gists_url":"https://api.github.com/users/mielliott/gists{/gist_id}","starred_url":"https://api.github.com/users/mielliott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mielliott/subscriptions","organizations_url":"https://api.github.com/users/mielliott/orgs","repos_url":"https://api.github.com/users/mielliott/repos","events_url":"https://api.github.com/users/mielliott/events{/privacy}","received_events_url":"https://api.github.com/users/mielliott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T16:30:03Z","updated_at":"2020-03-17T16:30:03Z","body":"@jhpoelen I don't see the ```RefNodeFactory.graphNameOf()``` function implemented, did you decide against it? Should I use ```statement.getGraphName()``` instead?\r\n\r\nIt might be convenient to have graph name retrieval functions that behave in the same fashion as the ```hasVersionStatement``` and ```getVersion``` functions, something like:\r\n\r\n```java\r\npublic static boolean hasGraphName(Quad statement) {\r\n    return statement.getGraphName().isPresent();\r\n}\r\n\r\npublic static BlankNodeOrIRI getGraphName(Quad statement) {\r\n    return (statement.getGraphName().orElse(null);\r\n}\r\n```\r\n\r\nEspecially since ```toStatement``` accepts ```null``` as a graph name. Thoughts?","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/600168796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/600175764","html_url":"https://github.com/bio-guoda/preston/issues/39#issuecomment-600175764","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/39","id":600175764,"node_id":"MDEyOklzc3VlQ29tbWVudDYwMDE3NTc2NA==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-03-17T16:43:12Z","updated_at":"2020-03-17T16:43:12Z","body":"My thoughts are to use the Quad API using ```statement.getGraphName()``` . It seems to me that ```RefNodeFactory.hasGraphName(quad)``` is as compact as ```statement.getGraphName.isPresent()```. Also, the ```<Optional>``` help to understand that the graphname might not be present. But. . . I am happy to be convinced.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/600175764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]