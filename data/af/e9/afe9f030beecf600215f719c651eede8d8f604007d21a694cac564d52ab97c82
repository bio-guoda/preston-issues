[{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1170333034","html_url":"https://github.com/bio-guoda/preston/issues/178#issuecomment-1170333034","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/178","id":1170333034,"node_id":"IC_kwDOCMmefs5Fwd1q","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-29T18:16:28Z","updated_at":"2022-06-29T18:16:28Z","body":"in the background the client is issuing queries to the remote like:\r\n\r\nhttps://localhost:8888/abc1234....\r\n\r\nwhere abc1234 is a sha256 hash","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1170333034/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1170334420","html_url":"https://github.com/bio-guoda/preston/issues/178#issuecomment-1170334420","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/178","id":1170334420,"node_id":"IC_kwDOCMmefs5FweLU","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-06-29T18:17:39Z","updated_at":"2022-06-29T18:17:39Z","body":"so, you can also just use curl to get content, if you know the mapping between the content id and the hash .\r\n\r\ne.g.,\r\n\r\ncurl http://localhost:8888/abc123...\r\n\r\nwould return content associated with hash://sha256/abc123...","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1170334420/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1176652621","html_url":"https://github.com/bio-guoda/preston/issues/178#issuecomment-1176652621","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/178","id":1176652621,"node_id":"IC_kwDOCMmefs5GIktN","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T20:04:59Z","updated_at":"2022-07-06T20:04:59Z","body":"after recent changes, you can now make preston web-accessible via the preston command-line:\r\n\r\ntrack UC Santa Barbara's IZC catalog:\r\n\r\n```\r\npreston track \"https://serv.biokic.asu.edu/ecdysis/content/dwca/UCSB-IZC_DwC-A.zip\"\r\n```\r\n\r\nand verify that some track record was created:\r\n\r\n```\r\n$ preston history\r\n<urn:uuid:0659a54f-b713-4f86-a917-5be166a14110> <http://purl.org/pav/hasVersion> <hash://sha256/bad68b85040751e31fd37aba519a57faeb413dda2181f765c621d4703c105278> .\r\n```\r\n\r\nnow, in the same directory, start a web server hosting a tracked copy of the UCSB-IZC catalog by running:\r\n\r\n```\r\n$ preston s --port 8080 --host localhost\r\n[main] INFO org.eclipse.jetty.util.log - Logging initialized @549ms to org.eclipse.jetty.util.log.Slf4jLog\r\n[main] INFO org.eclipse.jetty.server.Server - jetty-9.4.43.v20210629; built: 2021-06-30T11:07:22.254Z; git: 526006ecfa3af7f1a27ef3a288e2bef7ea9dd7e8; jvm 1.8.0_171-b11\r\n[main] INFO org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@1d29cf23{HTTP/1.1, (http/1.1)}{localhost:8080}\r\n[main] INFO org.eclipse.jetty.server.Server - Started @702ms\r\n```\r\n\r\nnow, go into an empty directory, simulating a client, and run:\r\n\r\n```\r\n$ preston history\r\n[main] WARN bio.guoda.preston.cmd.CmdHistory - No history found. Suggest to update first.\r\n```\r\n\r\nthen use the recently started preston remote as a remote using:\r\n\r\n```\r\n$ preston history --remote http://localhost:8080/\r\n<urn:uuid:0659a54f-b713-4f86-a917-5be166a14110> <http://purl.org/pav/hasVersion> <hash://sha256/bad68b85040751e31fd37aba519a57faeb413dda2181f765c621d4703c105278> .\r\n```\r\n\r\nnow you can do all regular transactions using the newly created preston remote (e.g., ls, cat, clone)\r\n\r\n@mielliott can you reproduce?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1176652621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1176655502","html_url":"https://github.com/bio-guoda/preston/issues/178#issuecomment-1176655502","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/178","id":1176655502,"node_id":"IC_kwDOCMmefs5GIlaO","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-06T20:07:10Z","updated_at":"2022-07-06T20:07:10Z","body":"PS Note that the server can also have remotes . . . allowing for building all sorts of fun network topologies.\r\n\r\ne.g.,\r\n\r\n```\r\npreston s --remote https://linker.bio,https://zenodo.org \r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1176655502/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1189623041","html_url":"https://github.com/bio-guoda/preston/issues/178#issuecomment-1189623041","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/178","id":1189623041,"node_id":"IC_kwDOCMmefs5G6DUB","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-19T22:45:58Z","updated_at":"2022-07-19T22:45:58Z","body":"I've deployed preston servers for the md5/sha256 content universes on https://linker.bio . \r\n\r\nNow for the next version (0.4.1 not yet released), you can do:\r\n\r\n```\r\npreston cat --remote https://linker.bio hash://sha256/edde5b2b45961e356f27b81a3aa51584de4761ad9fa678c4b9fa3230808ea356 > bee.jpg\r\n ```\r\n\r\nwhere the bee image with content hash is proxied by linker.bio with requests being relayed to our friends at the https://softwareheritage.org 'cause the https://github.com/jhpoelen/bees, of which hash://sha256/edde5b2b45961e356f27b81a3aa51584de4761ad9fa678c4b9fa3230808ea356 is a part, is archived by the software heritage library. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1189623041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1189623814","html_url":"https://github.com/bio-guoda/preston/issues/178#issuecomment-1189623814","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/178","id":1189623814,"node_id":"IC_kwDOCMmefs5G6DgG","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-19T22:47:29Z","updated_at":"2022-07-19T22:47:29Z","body":"For configuration, see https://github.com/bio-guoda/preston-service/blob/9ccb3e0aef19d70d631000679100b07b60c8690c/nginx/repo.jhpoelen.nl#L38\r\n\r\nand \r\n\r\nhttps://github.com/bio-guoda/preston-service/blob/9ccb3e0aef19d70d631000679100b07b60c8690c/systemd/system/preston-server-sha256.service\r\nand \r\nhttps://github.com/bio-guoda/preston-service/blob/9ccb3e0aef19d70d631000679100b07b60c8690c/systemd/system/preston-server-md5.service\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1189623814/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1219847260","html_url":"https://github.com/bio-guoda/preston/issues/178#issuecomment-1219847260","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/178","id":1219847260,"node_id":"IC_kwDOCMmefs5ItWRc","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-18T19:08:22Z","updated_at":"2022-08-18T19:08:22Z","body":"```preston server``` feature has been available since https://github.com/bio-guoda/preston/releases/tag/0.4.0 .\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1219847260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]