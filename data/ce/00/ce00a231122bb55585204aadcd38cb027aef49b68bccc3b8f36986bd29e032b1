[{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/718261743","html_url":"https://github.com/bio-guoda/preston/issues/91#issuecomment-718261743","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/91","id":718261743,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODI2MTc0Mw==","user":{"login":"mielliott","id":9602463,"node_id":"MDQ6VXNlcjk2MDI0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9602463?v=4","gravatar_id":"","url":"https://api.github.com/users/mielliott","html_url":"https://github.com/mielliott","followers_url":"https://api.github.com/users/mielliott/followers","following_url":"https://api.github.com/users/mielliott/following{/other_user}","gists_url":"https://api.github.com/users/mielliott/gists{/gist_id}","starred_url":"https://api.github.com/users/mielliott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mielliott/subscriptions","organizations_url":"https://api.github.com/users/mielliott/orgs","repos_url":"https://api.github.com/users/mielliott/repos","events_url":"https://api.github.com/users/mielliott/events{/privacy}","received_events_url":"https://api.github.com/users/mielliott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-28T23:15:39Z","updated_at":"2020-10-28T23:15:39Z","body":"Thanks for using `preston match` and finding more bugs!\r\n\r\nIt is supposed to match across new lines. That's the whole reason why the matching code is as complicated as it is. I suppose I should have added a test case for that. I'll look into it.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/718261743/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/718266770","html_url":"https://github.com/bio-guoda/preston/issues/91#issuecomment-718266770","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/91","id":718266770,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODI2Njc3MA==","user":{"login":"mielliott","id":9602463,"node_id":"MDQ6VXNlcjk2MDI0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9602463?v=4","gravatar_id":"","url":"https://api.github.com/users/mielliott","html_url":"https://github.com/mielliott","followers_url":"https://api.github.com/users/mielliott/followers","following_url":"https://api.github.com/users/mielliott/following{/other_user}","gists_url":"https://api.github.com/users/mielliott/gists{/gist_id}","starred_url":"https://api.github.com/users/mielliott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mielliott/subscriptions","organizations_url":"https://api.github.com/users/mielliott/orgs","repos_url":"https://api.github.com/users/mielliott/repos","events_url":"https://api.github.com/users/mielliott/events{/privacy}","received_events_url":"https://api.github.com/users/mielliott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-28T23:30:45Z","updated_at":"2020-10-28T23:31:02Z","body":"Matching text across line boundaries seems to work (see new test in the commit above). I think the issue is that, in your regex, \".\" by default doesn't match line endings. See https://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#lt:\r\n\r\n> The regular expression . matches any character except a line terminator unless the DOTALL flag is specified.\r\n\r\nMaybe try something like `one[.\\r\\n]*two` instead?","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/718266770/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/718270622","html_url":"https://github.com/bio-guoda/preston/issues/91#issuecomment-718270622","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/91","id":718270622,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODI3MDYyMg==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-28T23:43:11Z","updated_at":"2020-10-28T23:43:11Z","body":"Ah! Thanks. Confirmed with\r\n\r\n```\r\n$ preston ls | preston match \"one[.\\r\\n]*two\"\r\n<urn:uuid:ac3a0d1b-38ca-416d-8ef0-48bfe8b4d892> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www.w3.org/ns/prov#Activity> <urn:uuid:ac3a0d1b-38ca-416d-8ef0-48bfe8b4d892> .\r\n<urn:uuid:ac3a0d1b-38ca-416d-8ef0-48bfe8b4d892> <http://www.w3.org/ns/prov#wasInformedBy> <urn:uuid:c47f6636-13e3-42e5-b7b2-5e6bca2bd45e> <urn:uuid:ac3a0d1b-38ca-416d-8ef0-48bfe8b4d892> .\r\n<urn:uuid:ac3a0d1b-38ca-416d-8ef0-48bfe8b4d892> <http://www.w3.org/ns/prov#used> <hash://sha256/b6285c57e8797db5d4c51c80d6f11938afda9b11c6a003549709189e9b4b92a2> <urn:uuid:ac3a0d1b-38ca-416d-8ef0-48bfe8b4d892> .\r\n<urn:uuid:ac3a0d1b-38ca-416d-8ef0-48bfe8b4d892> <http://purl.org/dc/terms/description> \"An activity that finds the locations of text matching the regular expression 'one[.\\\\r\\\\n]*two' inside any encountered content (e.g., hash://sha256/... identifiers).\"@en <urn:uuid:ac3a0d1b-38ca-416d-8ef0-48bfe8b4d892> .\r\n<cut:hash://sha256/b6285c57e8797db5d4c51c80d6f11938afda9b11c6a003549709189e9b4b92a2!/b1-7> <http://www.w3.org/ns/prov#value> \"one\\ntwo\" <urn:uuid:ac3a0d1b-38ca-416d-8ef0-48bfe8b4d892> .\r\n```\r\n\r\nNote that the \"\\t\" do not appear to be escaped (i.e. ```\"one\ttwo\"````), but the \"\\n\" are (\"one\\ntwo\"). ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/718270622/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/718272299","html_url":"https://github.com/bio-guoda/preston/issues/91#issuecomment-718272299","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/91","id":718272299,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODI3MjI5OQ==","user":{"login":"mielliott","id":9602463,"node_id":"MDQ6VXNlcjk2MDI0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9602463?v=4","gravatar_id":"","url":"https://api.github.com/users/mielliott","html_url":"https://github.com/mielliott","followers_url":"https://api.github.com/users/mielliott/followers","following_url":"https://api.github.com/users/mielliott/following{/other_user}","gists_url":"https://api.github.com/users/mielliott/gists{/gist_id}","starred_url":"https://api.github.com/users/mielliott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mielliott/subscriptions","organizations_url":"https://api.github.com/users/mielliott/orgs","repos_url":"https://api.github.com/users/mielliott/repos","events_url":"https://api.github.com/users/mielliott/events{/privacy}","received_events_url":"https://api.github.com/users/mielliott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-28T23:48:52Z","updated_at":"2020-10-28T23:48:52Z","body":"> Ah! Thanks. Confirmed with\r\n\r\nNice!\r\n\r\n> Note that the \"\\t\" do not appear to be escaped (i.e. ```\"one two\"````), but the \"\\n\" are (\"one\\ntwo\").\r\n\r\nInteresting... looks like the `LiteralImpl` class is programmed to do exactly what you describe:\r\n\r\n```java\r\nfinal class LiteralImpl implements Literal, SimpleRDF.SimpleRDFTerm {\r\n    ...\r\n    @Override\r\n    public String ntriplesString() {\r\n        final StringBuilder sb = new StringBuilder();\r\n        sb.append(QUOTE);\r\n        // Escape special characters\r\n        sb.append(getLexicalForm().replace(\"\\\\\", \"\\\\\\\\\"). // escaped to \\\\\r\n                replace(\"\\\"\", \"\\\\\\\"\"). // escaped to \\\"\r\n                replace(\"\\r\", \"\\\\r\"). // escaped to \\r\r\n                replace(\"\\n\", \"\\\\n\")); // escaped to \\n\r\n        sb.append(QUOTE);\r\n        ...\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nMight be something to keep in mind.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/718272299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]