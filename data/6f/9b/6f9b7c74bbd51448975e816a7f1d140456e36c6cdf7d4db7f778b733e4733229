[{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1631410711","html_url":"https://github.com/bio-guoda/preston/issues/253#issuecomment-1631410711","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/253","id":1631410711,"node_id":"IC_kwDOCMmefs5hPVoX","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-11T19:40:22Z","updated_at":"2024-03-15T18:59:20Z","body":"from https://docs.google.com/document/d/1_vL-hxsHGcy85g7EIUdLesztXFofQ9QW4VdZG3K5J8g/edit \r\n\r\n`#5` – 13 June, 16:00 CEST\r\nPresent: Philipp von Essen, Tobias Kuhn, Erik van Winkle, Axana Scherbeijn, [Jorrit Poelen](https://jhpoelen.nl/), Lauren Grieco, Louis ter Meer, Lyubomir Penev, Ronen Tamari, Steffen De Jong\r\n\r\nAgenda:\r\n[Erik van Winkle](https://www.linkedin.com/in/erik-van-winkle/) on \"Atomic Units of Knowledge in Research Objects: How FDOs Targeting Different Use Cases Can Collaborate\"\r\n[Presentation](https://beta.dpid.org/53)\r\n[Nodes-Demo-Document](https://beta.dpid.org/54) \r\n\r\n\r\nwith demo document attached and retrieved from https://nodes.desci.com/PZIlDkMRS_iM3HF3rAPZe1E8UsCDa-ncbM4dnsgfxA4 .\r\n\r\n```bash\r\n./ipfs add Demo_Research_Report.pdf \r\n```\r\n\r\nproduced:\r\n\r\n```\r\nadded QmUMs6LdCNXugG489dt64Tjd4oT1BJuE4DqQtF8JSF12Y7 Demo_Research_Report.pdf\r\n 891.43 KiB / 891.43 KiB [=============================================] 100.00%\r\n```\r\n\r\nwith \r\n\r\n```\r\ncat Demo_Research_Report.pdf | sha256sum\r\n```\r\n\r\nproducing:\r\n\r\n```\r\n003e19ab870d338fbd3983c17904cfbdaa4dca3ca89493756519afb15a39ad0c  -\r\n```\r\n\r\nso, again, the challenge is to generate `QmUMs6LdCNXugG489dt64Tjd4oT1BJuE4DqQtF8JSF12Y7` independently given the file, so we can say something like:\r\n\r\n003e19ab870d338fbd3983c17904cfbdaa4dca3ca89493756519afb15a39ad0c isHashOf X\r\nQmUMs6LdCNXugG489dt64Tjd4oT1BJuE4DqQtF8JSF12Y7 isHashOf X\r\n\r\nso we can say that hash://sha256/003e19ab870d338fbd3983c17904cfbdaa4dca3ca89493756519afb15a39ad0c and QmUMs6LdCNXugG489dt64Tjd4oT1BJuE4DqQtF8JSF12Y7 are hashes derived from the same content.\r\n\r\n[Demo_Research_Report.pdf](https://github.com/bio-guoda/preston/files/12018543/Demo_Research_Report.pdf)\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1631410711/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1631437029","html_url":"https://github.com/bio-guoda/preston/issues/253#issuecomment-1631437029","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/253","id":1631437029,"node_id":"IC_kwDOCMmefs5hPcDl","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-11T20:02:49Z","updated_at":"2023-07-11T20:04:18Z","body":"see also https://github.com/BMDSoftware/dicoogle-ipfs-storage/issues/7 and https://github.com/Peergos/Peergos/blob/65c1ece32964a585bf024992913313aff3f58bd0/src/peergos/shared/io/ipfs/cid/Cid.java ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1631437029/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1631525999","html_url":"https://github.com/bio-guoda/preston/issues/253#issuecomment-1631525999","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/253","id":1631525999,"node_id":"IC_kwDOCMmefs5hPxxv","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-11T21:19:02Z","updated_at":"2023-07-11T21:19:02Z","body":"see also https://github.com/sliard/java-ipfs-tools","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1631525999/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1983978517","html_url":"https://github.com/bio-guoda/preston/issues/253#issuecomment-1983978517","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/253","id":1983978517,"node_id":"IC_kwDOCMmefs52QRwV","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-07T16:45:32Z","updated_at":"2024-03-07T16:45:52Z","body":"It appears that content in IPFS cannot be easily bridged to something outside of IPFS land. \r\n\r\nIf there's examples out there that do build this bridge, I'd be happy to reconsider construction of a IPFS integration.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1983978517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2000314360","html_url":"https://github.com/bio-guoda/preston/issues/253#issuecomment-2000314360","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/253","id":2000314360,"node_id":"IC_kwDOCMmefs53Ol_4","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-15T19:23:41Z","updated_at":"2024-03-15T19:34:02Z","body":"Note that the difficulties of bridge to/from IPFS-land is not a new topic, see e.g., https://github.com/ipfs/kubo/issues/1953 . \r\n\r\nThis is why I was a bit surprised to read DeSci contributors say in Hill et al. 2024 \"Guest Post — Navigating the Drift: Persistence Challenges in the Digital Scientific Record and the Promise of dPIDs\" in the Scholarly Kitchen accessed via https://scholarlykitchen.sspnet.org/2024/03/14/guest-post-navigating-the-drift-persistence-challenges-in-the-digital-scientific-record-and-the-promise-of-dpids/ \r\n\r\n> [...] Furthermore, it’s [easy to check](https://xorbin.com/tools/sha256-hash-calculator) if the content you received from the IPFS network matches its hash, eliminating the risk of downloading content from unknown network peers. [...]\r\n\r\nYes, it is easy to calculate a sha256 hash, but . . . not so easy to calculate their associated address in IPFS land (the CID). \r\n\r\nNote that the authors did disclose their business associations with DeSci via \r\n\r\n> [...] Full disclosure: The authors are affiliated with DeSci Labs AG and the DeSci Foundation. dPID is an open-source software solution distributed under an MIT license, developed by DeSci Labs AG (https://github.com/desci-labs/nodes/). [...]\r\n\r\nand that their product is built on IPFS. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2000314360/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2000315800","html_url":"https://github.com/bio-guoda/preston/issues/253#issuecomment-2000315800","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/253","id":2000315800,"node_id":"IC_kwDOCMmefs53OmWY","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-15T19:24:43Z","updated_at":"2024-03-15T19:24:43Z","body":"fyi @mielliott @cboettig @mbjones - a continuation of IPFS and sha256 discussion.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2000315800/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2003599305","html_url":"https://github.com/bio-guoda/preston/issues/253#issuecomment-2003599305","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/253","id":2003599305,"node_id":"IC_kwDOCMmefs53bH_J","user":{"login":"m0ar","id":479022,"node_id":"MDQ6VXNlcjQ3OTAyMg==","avatar_url":"https://avatars.githubusercontent.com/u/479022?v=4","gravatar_id":"","url":"https://api.github.com/users/m0ar","html_url":"https://github.com/m0ar","followers_url":"https://api.github.com/users/m0ar/followers","following_url":"https://api.github.com/users/m0ar/following{/other_user}","gists_url":"https://api.github.com/users/m0ar/gists{/gist_id}","starred_url":"https://api.github.com/users/m0ar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/m0ar/subscriptions","organizations_url":"https://api.github.com/users/m0ar/orgs","repos_url":"https://api.github.com/users/m0ar/repos","events_url":"https://api.github.com/users/m0ar/events{/privacy}","received_events_url":"https://api.github.com/users/m0ar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-18T10:56:22Z","updated_at":"2024-03-18T10:58:22Z","body":"Hello @jhpoelen @mielliott @cboetting @mbjones :wave: I work with engineering at DeSci Labs. For the sake of knowledge sharing, I'll take the liberty of posting here after I was forwarded your email touching on the scholarly kitchen article.\r\n\r\nCID's are capable of expressing rich information about data encoding, while allowing content validation of partial transfers, while being agnostic to the hashing scheme. This is a superpower, but unfortunately it means that it's not as simple as running a hash function over the entire set of data.\r\n\r\nHowever, under certain constraints, there can be a 1-1 relationship between sha256sum and the IPFS CID. Under a limit called the chunk size, IPFS will not break the file into smaller pieces and build a DAG out of it.\r\n\r\n```bash\r\n/tmp\r\n❯ head -c 256KB /dev/urandom > 256kb.txt      \r\n\r\n/tmp\r\n❯ ipfs add --only-hash --cid-version 1 --raw-leaves 256kb.txt                \r\nadded bafkreid2flnnm6jvoxrowuuzpsvk4ppjtwl3p6mr2fsqg4l7mag64qllya 256kb.txt\r\n\r\n/tmp\r\n❯ ipfs cid format bafkreid2flnnm6jvoxrowuuzpsvk4ppjtwl3p6mr2fsqg4l7mag64qllya -b base16\r\nf015512207a2adad6793575e2eb52997caaae3de99d97b7f991d16503717f600dee416bc0\r\n#     sha|--------------------------------------------------------------|\r\n\r\n/tmp\r\n❯ sha256sum 256kb.txt\r\n7a2adad6793575e2eb52997caaae3de99d97b7f991d16503717f600dee416bc0  256kb.txt\r\n```\r\n\r\nThose extra bytes as the front of the CID (`f01551220` in hex) are describing the context of the content hash. In this case, it signals that the hash encodes the raw bytes of the file. This neat litte webapp breaks the format down for you: https://cid.ipfs.tech/#bafkreid2flnnm6jvoxrowuuzpsvk4ppjtwl3p6mr2fsqg4l7mag64qllya\r\n\r\n\r\nIf we add a file larger than the default chunk size (256kb), the resulting CID says that it's now encoding something different, namely a dag-pb structure. See breakdown of CID at https://cid.ipfs.tech/#bafybeibs3xpg4jkoytj4vdqkiymipixfikfyfo45ywpnfdowj2meb64kxy.  IPFS has split the file into a tree of chunks, each with its own CID.\r\n\r\n```bash\r\n/tmp\r\n❯ head -c 1MB /dev/urandom > 1mb.txt  \r\n\r\n/tmp\r\n❯ ipfs add --only-hash --cid-version 1 --raw-leaves 1mb.txt\r\nadded bafybeibs3xpg4jkoytj4vdqkiymipixfikfyfo45ywpnfdowj2meb64kxy 1mb.txt\r\n\r\n/tmp\r\n❯ ipfs cid format bafybeibs3xpg4jkoytj4vdqkiymipixfikfyfo45ywpnfdowj2meb64kxy -b base16\r\nf0170122032ddde6e254ec4d3ca8e0a461887a2e5428b82bb9dc59ed28dd64e9840fb8abe\r\n# NOT the sha below, because file split into chunk tree\r\n\r\n/tmp\r\n❯ sha256sum 1mb.txt  \r\n143252d3384e455625e3ab709a50ab08f9f7472e2a610384157aef610d631ba5  1mb.txt\r\n```\r\n\r\n\r\nWe can explicitly chunk the file in 1 MB segments, under which the correlation with sha256 still holds. 1 MB is however the ceiling, as this is the size where the practicalities of the transport layer bitswap comes in. IPFS clients simply communicate in content-addressed 1 MB chunks, so after that point things will always be DAG's of pieces rather than uniform files. This is key; IPFS CID's aren't built just for file integrity checking, they are built to express file structures that allow piecewise download from multiple sources, while allowing continuous integrity checking of the individual pieces.\r\n\r\n```bash\r\n/tmp\r\n❯ ipfs --only-hash --cid-version 1 --raw-leaves --chunker size-1048576 1mb.txt\r\nadded bafkreiaugjjngocoivlcly5locnfbkyi7h3uolrkmebyifl255qq2yy3uu 1mb.txt\r\n\r\n/tmp\r\n❯ ipfs cid format bafkreiaugjjngocoivlcly5locnfbkyi7h3uolrkmebyifl255qq2yy3uu -b base16\r\nf01551220143252d3384e455625e3ab709a50ab08f9f7472e2a610384157aef610d631ba5\r\n#     sha|--------------------------------------------------------------|\r\n```\r\n\r\nThe intuition here is that there is an n-1 relation between CID's and data, as you can describe the same data in different encodings and under different hashing schemes. A CID is expressing richer information than a hash, out of which you are looking for a smaller subset.\r\n\r\nPutting these pieces together, by taking the sha256 hash of data under 1 MB, one can create the (hex) CID through this function:\r\n\r\n```bash\r\n❯ cat <(echo -n \"f01551220\") <(sha256sum 256kb.txt)\r\nf015512207a2adad6793575e2eb52997caaae3de99d97b7f991d16503717f600dee416bc0  256kb.txt\r\n```\r\n\r\nThis is a CID identifying a single-chunk, binary encoded file with the sha256 hash 7a2adad6793575e2eb52997caaae3de99d97b7f991d16503717f600dee416bc0. Here is the breakdown: https://cid.ipfs.tech/#f015512207a2adad6793575e2eb52997caaae3de99d97b7f991d16503717f600dee416bc0\r\n\r\nNote that since this CID contains information about the format of the CID itself (i.e., is self-describing), so one can't just run `base32` on the CID to convert it. This is the transformation that `ipfs cid format` performs, it's not magic, just changing the non-hash digest parts of the CID to describe the encoding you should use to get the content hash:\r\n\r\n```bash\r\n/tmp\r\n❯ ipfs cid format f015512207a2adad6793575e2eb52997caaae3de99d97b7f991d16503717f600dee416bc0 -b base32\r\nbafkreid2flnnm6jvoxrowuuzpsvk4ppjtwl3p6mr2fsqg4l7mag64qllya\r\n```\r\n\r\nI hope this information was useful in building a better understanding of how these mysterious CID's work :)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2003599305/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2003646172","html_url":"https://github.com/bio-guoda/preston/issues/253#issuecomment-2003646172","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/253","id":2003646172,"node_id":"IC_kwDOCMmefs53bTbc","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-18T11:19:48Z","updated_at":"2024-03-18T11:20:20Z","body":"@m0ar Thanks for providing the example. \r\n\r\nI agree that calculating CIDs is not magic, and your example confirms my understanding of the complexities related to calculating CIDs. \r\n\r\nI'd urge to update the blog post to reflect these complexities in https://scholarlykitchen.sspnet.org/2024/03/14/guest-post-navigating-the-drift-persistence-challenges-in-the-digital-scientific-record-and-the-promise-of-dpids/ . \r\n\r\nRight now, the text makes it seem like the calculation of a CID is as easy as calculating a sha256 hash, and I think this is misleading especially given your example above. \r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2003646172/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2003670195","html_url":"https://github.com/bio-guoda/preston/issues/253#issuecomment-2003670195","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/253","id":2003670195,"node_id":"IC_kwDOCMmefs53bZSz","user":{"login":"m0ar","id":479022,"node_id":"MDQ6VXNlcjQ3OTAyMg==","avatar_url":"https://avatars.githubusercontent.com/u/479022?v=4","gravatar_id":"","url":"https://api.github.com/users/m0ar","html_url":"https://github.com/m0ar","followers_url":"https://api.github.com/users/m0ar/followers","following_url":"https://api.github.com/users/m0ar/following{/other_user}","gists_url":"https://api.github.com/users/m0ar/gists{/gist_id}","starred_url":"https://api.github.com/users/m0ar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/m0ar/subscriptions","organizations_url":"https://api.github.com/users/m0ar/orgs","repos_url":"https://api.github.com/users/m0ar/repos","events_url":"https://api.github.com/users/m0ar/events{/privacy}","received_events_url":"https://api.github.com/users/m0ar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-18T11:31:16Z","updated_at":"2024-03-18T11:31:16Z","body":"@jhpoelen In my opinion, this is splitting hairs. The CID is indeed a digital fingerprint, and it is created using sha256. In the context of IPFS, it's as easy as `ipfs add file.txt`. In the consumer end, you resolve a PID to some CID, and when you fetch that file you know that you are getting the correct content as IPFS clients verify it for you.\r\n\r\nThe complexity you mention only appears when popping the hood and trying to translate between different ways of hashing things, which is a discussion both interesting and worth having. This discussion, or technical documentation, is probably a better forum though.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2003670195/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2004057748","html_url":"https://github.com/bio-guoda/preston/issues/253#issuecomment-2004057748","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/253","id":2004057748,"node_id":"IC_kwDOCMmefs53c36U","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-18T14:23:43Z","updated_at":"2024-03-18T14:23:43Z","body":"@m0ar thanks for taking the time to reply. \r\n\r\n> In the context of IPFS, it's as easy as ipfs add file.txt\r\n\r\nYes, if the ipfs client was universally accessible (which it is not) as sha256/md5/sha1 algorithms, this may be the case. However, as far as I understand, there's many implicit variables required to verify a CID (e.g., blocksize). \r\n\r\n> [...] you resolve a PID to some CID, and when you fetch that file you know that you are getting the correct content as IPFS clients verify it for you [...]\r\n\r\nI'd like to be able to *independently* verify the retrieved CID content, and the design of IPFS to combine content addressing, content graph, content blocking along with a content exchange protocol, makes it difficult for me to implement IPFS support. \r\n\r\nSo, equating IPFS CID computation with sha256 content hashing is far from spitting hairs in my mind:  as you demonstrated, the CID computations involves many (implicitly configured) processing steps (e.g., content blocking, content hashing, putting blocks in a content graph). In contrast, hashing digital content using a sha256 algorithm is an parameter-free operation supported by a diverse collection of software libraries across many platforms. \r\n\r\nBut hey, I can be convinced otherwise if you are willing to add some IPFS bridge for Preston. This way, you can demonstrate how to retrieve independently verifiable content from the IPFS universe. I got stuck on the complexities \r\n and configurability of the IPFS CID calculations along with the lack of software libraries that help add this functionality to Preston. \r\n\r\nThanks again for engaging in discussion - I feel that we have a lot in common in realizing that content addressing is a useful way to point to digital content regardless of where/how they may be stored in the future. \r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2004057748/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2004328696","html_url":"https://github.com/bio-guoda/preston/issues/253#issuecomment-2004328696","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/253","id":2004328696,"node_id":"IC_kwDOCMmefs53d6D4","user":{"login":"cboettig","id":222586,"node_id":"MDQ6VXNlcjIyMjU4Ng==","avatar_url":"https://avatars.githubusercontent.com/u/222586?v=4","gravatar_id":"","url":"https://api.github.com/users/cboettig","html_url":"https://github.com/cboettig","followers_url":"https://api.github.com/users/cboettig/followers","following_url":"https://api.github.com/users/cboettig/following{/other_user}","gists_url":"https://api.github.com/users/cboettig/gists{/gist_id}","starred_url":"https://api.github.com/users/cboettig/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cboettig/subscriptions","organizations_url":"https://api.github.com/users/cboettig/orgs","repos_url":"https://api.github.com/users/cboettig/repos","events_url":"https://api.github.com/users/cboettig/events{/privacy}","received_events_url":"https://api.github.com/users/cboettig/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-18T16:04:08Z","updated_at":"2024-03-18T16:04:08Z","body":"@m0ar thanks for sharing, and thanks to @jhpoelen and all for an engaging discussion.  \r\n\r\n\r\nI think @jhpoelen 's suggested test that these systems based on SHA hashes should be interoperable is a good one.  As another case in point, you are probably all familiar with the Open Container Registry spec which also tracks objects based on the SHA hashes.  I think we can all agree the spec has proven it's ability to scale and be replicated independently -- for instance, GitHub notes that Homebrew project alone uses OCI-compatible GHCR to \r\n\r\n> distribute over a half a petabyte of binary packages to their users every month  ([1])\r\n\r\nand we have seen many independent software implementations of the spec by major players.  Because OCI is transparently SHA-256-based, it is also easy for third-party tools to retrieve content from these registries by sha-256 checksums (e.g. I believe @jhpoelen has done this already in preston).  \r\n\r\n[1]: https://github.blog/2021-06-21-github-packages-container-registry-generally-available/","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2004328696/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2004356587","html_url":"https://github.com/bio-guoda/preston/issues/253#issuecomment-2004356587","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/253","id":2004356587,"node_id":"IC_kwDOCMmefs53eA3r","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-18T16:16:33Z","updated_at":"2024-03-18T16:19:54Z","body":"The OCI support that @cboettig mentioned can be found at https://github.com/bio-guoda/preston/issues/255 and describes some events that led to the OCI support first being introduced in Preston v0.7.2 in July 2023.\r\n\r\nThis enabled content retrieval using:\r\n\r\n```\r\npreston cat\\\r\n --remote https://ghcr.io/cboettig/content-store\\\r\n hash://sha256/9412325831dab22aeebdd674b6eb53ba6b7bdd04bb99a4dbb21ddff646287e37\r\n```\r\n\r\nwith \r\n\r\nfirst 24 lines being:\r\n\r\n```\r\n*******************************************************************************\r\n*** Historical CO2 Record from the Vostok Ice Core                          ***\r\n***                                                                         ***\r\n*** Source: J.M. Barnola                                                    ***\r\n***         D. Raynaud                                                      ***\r\n***         C. Lorius                                                       ***\r\n***         Laboratoire de Glaciologie et de Geophysique de l'Environnement ***\r\n***         38402 Saint Martin d'Heres Cedex, France                        ***\r\n***                                                                         ***\r\n***         N. I. Barkov                                                    ***\r\n***         Arctic and Antarctic Research Institute                         ***\r\n***         Beringa Street 38                                               ***\r\n***         St. Petersburg 199226, Russia                                   ***\r\n***                                                                         ***\r\n*** January 2003                                                             ***\r\n*******************************************************************************\r\n                Mean\r\n       Age of   age of    CO2\r\nDepth  the ice  the air concentration\r\n (m)   (yr BP)  (yr BP)  (ppmv)\r\n\r\n149.1\t5679\t2342\t284.7\r\n173.1\t6828\t3634\t272.8\r\n177.4\t7043\t3833\t268.1\r\n```\r\n\r\n@m0ar What would it take to implement a similar bridge to IPFS with the same (exact) dataset to be retrieved from DeSci's IPFS universe allowing:\r\n\r\n```\r\npreston cat\\\r\n --remote https://nodes.desci.com/\\\r\n hash://sha256/9412325831dab22aeebdd674b6eb53ba6b7bdd04bb99a4dbb21ddff646287e37\\\r\n | sha256sum\r\n```\r\n\r\nto produce the independently verified (via sha256sum) fingerprint of the retrieved content:\r\n\r\n```\r\n9412325831dab22aeebdd674b6eb53ba6b7bdd04bb99a4dbb21ddff646287e37\r\n```\r\n\r\n?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2004356587/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]