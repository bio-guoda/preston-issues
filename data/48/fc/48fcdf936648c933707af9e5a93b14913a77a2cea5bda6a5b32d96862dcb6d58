[{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/937988936","html_url":"https://github.com/bio-guoda/preston/issues/137#issuecomment-937988936","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/137","id":937988936,"node_id":"IC_kwDOCMmefs436JNI","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-07T17:07:55Z","updated_at":"2021-10-07T17:07:55Z","body":"Snippets look like:\r\n\r\n```\r\n// list-of-publications table\r\nsparqlToDataTable(`# tool: scholia\r\n#defaultView:Table\r\nSELECT\r\n  (MIN(?dates) AS ?date)\r\n  ?work ?workLabel\r\n  (GROUP_CONCAT(DISTINCT ?type_label; separator=\", \") AS ?type)\r\n  (SAMPLE(?pages_) AS ?pages)\r\n  ?venue ?venueLabel\r\n  (GROUP_CONCAT(DISTINCT ?author_label; separator=\", \") AS ?authors)\r\n  (CONCAT(\"../authors/\", GROUP_CONCAT(DISTINCT SUBSTR(STR(?author), 32); separator=\",\")) AS ?authorsUrl)\r\nWHERE {\r\n  ?work wdt:P50 wd:Q3675789 .\r\n  ?work wdt:P50 ?author .\r\n  OPTIONAL {\r\n    ?author rdfs:label ?author_label_ . FILTER (LANG(?author_label_) = 'en')\r\n  }\r\n  BIND(COALESCE(?author_label_, SUBSTR(STR(?author), 32)) AS ?author_label)\r\n  OPTIONAL { ?work wdt:P31 ?type_ . ?type_ rdfs:label ?type_label . FILTER (LANG(?type_label) = 'en') }\r\n  ?work wdt:P577 ?datetimes .\r\n  BIND(xsd:date(?datetimes) AS ?dates)\r\n  OPTIONAL { ?work wdt:P1104 ?pages_ }\r\n  OPTIONAL { ?work wdt:P1433 ?venue }\r\n  SERVICE wikibase:label { bd:serviceParam wikibase:language \"en,da,de,es,fr,jp,no,ru,sv,zh\". }  \r\n}\r\nGROUP BY ?work ?workLabel ?venue ?venueLabel\r\nORDER BY DESC(?date)  \r\n`,\r\n\"#list-of-publications-table\", \"author_list-of-publications.sparql\",\r\n```\r\n\r\n```\r\n// venue-statistics table\r\nsparqlToDataTable(`# tool: scholia\r\n# Venue statistics for a specific author\r\nSELECT\r\n  ?count (SAMPLE(?short_name_) AS ?short_name)\r\n  ?venue ?venueLabel\r\n  ?topics ?topicsUrl\r\nWITH {\r\n  SELECT\r\n    (COUNT(DISTINCT ?work) as ?count)\r\n    ?venue\r\n    (GROUP_CONCAT(DISTINCT ?topic_label; separator=\", \") AS ?topics)\r\n    (CONCAT(\"../topics/\", GROUP_CONCAT(DISTINCT SUBSTR(STR(?topic), 32); separator=\",\")) AS ?topicsUrl)\r\n  WHERE {\r\n    ?work wdt:P50 wd:Q3675789 .\r\n    ?work wdt:P1433 ?venue .\r\n    OPTIONAL {\r\n      ?venue wdt:P921 ?topic .\r\n      ?topic rdfs:label ?topic_label . FILTER(LANG(?topic_label) = 'en') }\r\n  }\r\n  GROUP BY ?venue\r\n} AS %result\r\nWHERE {\r\n  INCLUDE %result\r\n  OPTIONAL { ?venue wdt:P1813 ?short_name_ . }\r\n  SERVICE wikibase:label { bd:serviceParam wikibase:language \"en,da,de,es,fr,jp,nl,no,ru,sv,zh\". }  \r\n} \r\nGROUP BY ?count ?venue ?venueLabel ?topics ?topicsUrl\r\nORDER BY DESC(?count)\r\n`\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/937988936/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/937990064","html_url":"https://github.com/bio-guoda/preston/issues/137#issuecomment-937990064","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/137","id":937990064,"node_id":"IC_kwDOCMmefs436Jew","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-07T17:09:28Z","updated_at":"2021-10-07T17:09:28Z","body":"Scholia would like to:\r\n\r\n1. render the web pages as seen at some point in time\r\n2. retrieve the data as seen at some point in time.\r\n3. compare the data from different points in time","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/937990064/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/937991012","html_url":"https://github.com/bio-guoda/preston/issues/137#issuecomment-937991012","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/137","id":937991012,"node_id":"IC_kwDOCMmefs436Jtk","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-07T17:10:45Z","updated_at":"2021-10-07T17:10:45Z","body":"Note that the Scholia pages change, which may make the diff complicated (html layout changes, data schema changes).","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/937991012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/937992461","html_url":"https://github.com/bio-guoda/preston/issues/137#issuecomment-937992461","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/137","id":937992461,"node_id":"IC_kwDOCMmefs436KEN","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-07T17:12:46Z","updated_at":"2021-10-07T17:12:46Z","body":"In discussion with @Daniel-Mietchen \r\n\r\nfyi @mielliott ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/937992461/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/937997521","html_url":"https://github.com/bio-guoda/preston/issues/137#issuecomment-937997521","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/137","id":937997521,"node_id":"IC_kwDOCMmefs436LTR","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-07T17:19:53Z","updated_at":"2021-10-07T17:19:53Z","body":"Idea for offline rendering of pages using a wikidata snapshot:\r\n\r\n1. track a copy of a wiki data snapshot\r\n2. have Preston (or some other program) dynamically load the snapshot into some triple store\r\n3. render the raw data / html content of scholia pages using the local sparql endpoint of the triple store\r\n\r\nNow you have a copy of scholia that does not effect the live wikidata sparql endpoint, and is tried to a *specific* version of wikidata.  ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/937997521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/942811191","html_url":"https://github.com/bio-guoda/preston/issues/137#issuecomment-942811191","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/137","id":942811191,"node_id":"IC_kwDOCMmefs44Mig3","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-14T00:07:51Z","updated_at":"2021-10-14T00:09:08Z","body":"hey @Daniel-Mietchen - I had some fun with SPARQL queries sent from Scholia to wikipedia. \r\n\r\nSome observations:\r\n1. due to ordering issues, the results returned from wikidata are not the same (the order in author list changes seemingly randomly)\r\n2. sparql used in Scholia is not formally correct sparql due to missing prefixes (e.g., wd: prefix not explicitly defined)\r\n\r\nSome ideas:\r\n\r\nI see your website Scholia as a service that:\r\n1. knows how to ask questions\r\n2. knows how to interpret answers\r\n\r\nIt just so happens to be that you are using wikidata connect answers to your questions. \r\n\r\nIf I look at the nuts and bolts: I see a query entity (the sparql query) that is used in some activity (the query process) and has some result (the query result). \r\n\r\nThe query Q and result R are simply strings that can be expressed as content. \r\n\r\nThe activity can be described in the provenance ontology (e.g., \"process X used query Q to invoke service Y which resulted in result R). \r\n\r\nWhat Preston can offer is a way to related specific queries Q1,Q2,Q3, to their results R1, R2, R3, ... through a well-defined activity. \r\n\r\nNow, in your webpages, you can choose to do a live query (send query Q to the wikidata black box and be surprised by the results).\r\n\r\nOr, you can choose to lookup a known result R associated with a query Q through a \"query result registry\".\r\n\r\nNow, through configuration (e.g., live query, or wikidata from 2021-04-21 as seen from a server in Germany), you can actively choose your perspective on the data universe that you are interested in. Are you looking for an unpredictable data university to explore, do a live query. If you are looking to do research, you'd want to have your data universe controlled, predictable and well-behaved (something that the internet cannot guarantee, but abstract data graphs like those created by Preston can). \r\n\r\nCurious to hear your thoughts,\r\n-jorrit\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/942811191/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/942812337","html_url":"https://github.com/bio-guoda/preston/issues/137#issuecomment-942812337","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/137","id":942812337,"node_id":"IC_kwDOCMmefs44Miyx","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-14T00:10:22Z","updated_at":"2021-10-14T00:10:22Z","body":"btw - I can imagine you can populate a query cache ad-hoc (a pull-through cache) or systematically by tracking content (e.g., compute results for all known/registered queries for all authors periodically). ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/942812337/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]