{"url":"https://api.github.com/repos/bio-guoda/preston/issues/255","repository_url":"https://api.github.com/repos/bio-guoda/preston","labels_url":"https://api.github.com/repos/bio-guoda/preston/issues/255/labels{/name}","comments_url":"https://api.github.com/repos/bio-guoda/preston/issues/255/comments","events_url":"https://api.github.com/repos/bio-guoda/preston/issues/255/events","html_url":"https://github.com/bio-guoda/preston/issues/255","id":1806572231,"node_id":"I_kwDOCMmefs5rrhrH","number":255,"title":"support Open container initiative compatible package registries as Preston remote (or content registries)","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-07-16T12:56:02Z","updated_at":"2023-07-25T21:00:03Z","closed_at":"2023-07-25T21:00:02Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"from @cboettig https://github.com/cboettig/contentid/issues/94\r\n\r\n> @jeroen pointed out to me that (docker or OCI) container registries like [GitHub Package Registry](https://github.com/features/packages) are really just a bunch of sha256 addressed blobs. Moreover, that existing open-source tools like [oras](https://oras.land/) already make it pretty easy to push arbitrary content there.\r\n> \r\n> Notably, the docker/OCI registry is already a widely adopted standard, easy to self-host and readily found on any major cloud provider. GitHub package registry is 'free for public packages' -- Jeroen notes that large projects like `brew` use it as their back-end storage and distribution medium.\r\n> \r\n> For instance, here's a command to grab my favorite example from the GitHub content registry, you can merely request it by it's sha256 hash:\r\n> \r\n> ```\r\n> curl -fL --header \"Authorization: Bearer QQ==\"  \"https://ghcr.io/v2/cboettig/content-store/blobs/sha256:9412325831dab22aeebdd674b6eb53ba6b7bdd04bb99a4dbb21ddff646287e37\" -o test.txt\r\n> ```\r\n> \r\n> and verify this is indeed the Vostok ice core file. To push to the content store I've used the `oras` client tool:\r\n> \r\n> ```\r\n> oras login ghcr.io\r\n> oras push ghcr.io/cboettig/content-store ./vostok.co2\r\n> ```\r\n> \r\n> Container registeries actually have a nice manifest system for associating different files with a single manifest, and adding metadata, including file names, tags (i.e. version tags), and (I think) MIME types, as well as generic extensible metadata in labels, which all can facilitate much more discovery than the approach above where I just use opaque blobs. These features could be particularly interesting but maybe beyond the scope/generality of `contentid`?\r\n> \r\n> Anyway, does seem like an intriguing way to deploy (public) data to a system that acts both as a content store and registry addressable by SHA256 hash, using a mechanism that is easily deployed locally (self-hosted container registry) and already in use by so many major providers. @jhpoelen @mbjones thoughts?\r\n\r\n","closed_by":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bio-guoda/preston/issues/255/timeline","performed_via_github_app":null,"state_reason":"completed"}