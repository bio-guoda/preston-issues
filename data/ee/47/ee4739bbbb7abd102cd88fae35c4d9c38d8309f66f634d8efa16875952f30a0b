[{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/608015616","html_url":"https://github.com/bio-guoda/preston/issues/56#issuecomment-608015616","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/56","id":608015616,"node_id":"MDEyOklzc3VlQ29tbWVudDYwODAxNTYxNg==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-02T18:02:53Z","updated_at":"2020-04-02T18:02:53Z","body":"I took some time to see what it would look like to make preston provenance logs comply with the 2005 ```URI``` of https://tools.ietf.org/html/rfc3986 . And, I just reverted a couple of hours of work realizing that adding schemes does not actually improve our ability to create biodiversity dataset graphs.\r\n\r\nFor instance, I found my self thinking : \r\n\r\nWhat is the benefit of writing \r\n\r\n```urn:uuid:b8d1b213-81fb-416c-87b1-01ca0dc8f322```\r\n\r\ninstead of\r\n\r\n```b8d1b213-81fb-416c-87b1-01ca0dc8f322```\r\n\r\nisn't the latter unique enough? Who's going to bother using and validating that the value with the ```urn:uuid:``` prefix conform to the https://tools.ietf.org/html/rfc4122 ? And, the unix tool  ```uuidgen``` returns ```b8d1b213-81fb-416c-87b1-01ca0dc8f322```, not ```urn:uuid:b8d1b213-81fb-416c-87b1-01ca0dc8f322```. \r\n\r\nAlso, API responses from GBIF (see https://github.com/bio-guoda/preston/blob/57e0dd4ee0b089fd0860ba373fdd1c2b87ce6b57/src/test/resources/bio/guoda/preston/process/gbif-dataset-single.json)  and iDigBio (see https://github.com/bio-guoda/preston/blob/57e0dd4ee0b089fd0860ba373fdd1c2b87ce6b57/src/test/resources/bio/guoda/preston/process/idigbio-publishers.json) that include uuids without including the ```urn:uuid``` prefix. \r\n\r\nAnother example showing issues with introducing the more strict ```[scheme]:``` URI syntax from a resource obtained from DataONE  https://github.com/bio-guoda/preston/blob/aa2d39662df0e81a88bd84fa89cb9650621ae9f9/src/test/resources/bio/guoda/preston/process/dataone-object-location-list.xml : \r\n\r\n```xml\r\n<ns2:objectLocationList xmlns:ns2=\"http://ns.dataone.org/service/types/v1\">\r\n    <identifier>aekos.org.au/collection/nsw.gov.au/nsw_atlas/vis_flora_module/NOMBIN.20150515</identifier>\r\n    <objectLocation>\r\n        <nodeIdentifier>urn:node:TERN</nodeIdentifier>\r\n        <baseURL>https://dataone.tern.org.au/mn</baseURL>\r\n        <version>v1</version>\r\n        <version>v2</version>\r\n        <url>https://dataone.tern.org.au/mn/v2/object/aekos.org.au%2Fcollection%2Fnsw.gov.au%2Fnsw_atlas%2Fvis_flora_module%2FNOMBIN.20150515</url>\r\n    </objectLocation>\r\n    <objectLocation>\r\n...\r\n```\r\n\r\nHere, an identifier ```aekos.org.au/collection/nsw.gov.au/nsw_atlas/vis_flora_module/NOMBIN.20150515``` is used to refer to this dataset. However, the identifier is not a valid 2005 URI and from the context, it is unclear in what kind of base URI might be appropriate to append (e.g., ```https://example.org/aekos.org.au/collection/nsw.gov.au/nsw_atlas/vis_flora_module/NOMBIN.20150515``` ). However, the identifier seems useful to keep around and refer to.\r\n\r\nSo, some remaining questions are: \r\n\r\nWhat _value_ does the mandatory 2005 URI scheme actually add?\r\n\r\nWould users benefit from applying schemes to these named resources? \r\n\r\nIf a perfectly useful custom identifier is used that does not happen to have a scheme, why would we have to invent some scheme just to comply with the 2005 URI spec?  \r\n\r\nIsn't the URI scheme adding semantics that should be expressed in quads themselves using \"is a\" relations? \r\n\r\nWhy aren't well-established triple stores like Jena bothered by enforcing 2005 URIs in their IRIs?\r\n\r\nWhat am I missing? \r\n\r\nI probably have to further develop my understanding of the intent and adoption of nquads and their related IRI/URI spec. And that needs a little more time.\r\n\r\n@mielliott curious to hear your thoughts.\r\n\r\nfyi @cboettig ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/608015616/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/609993012","html_url":"https://github.com/bio-guoda/preston/issues/56#issuecomment-609993012","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/56","id":609993012,"node_id":"MDEyOklzc3VlQ29tbWVudDYwOTk5MzAxMg==","user":{"login":"melliott1220","id":7401910,"node_id":"MDQ6VXNlcjc0MDE5MTA=","avatar_url":"https://avatars.githubusercontent.com/u/7401910?v=4","gravatar_id":"","url":"https://api.github.com/users/melliott1220","html_url":"https://github.com/melliott1220","followers_url":"https://api.github.com/users/melliott1220/followers","following_url":"https://api.github.com/users/melliott1220/following{/other_user}","gists_url":"https://api.github.com/users/melliott1220/gists{/gist_id}","starred_url":"https://api.github.com/users/melliott1220/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/melliott1220/subscriptions","organizations_url":"https://api.github.com/users/melliott1220/orgs","repos_url":"https://api.github.com/users/melliott1220/repos","events_url":"https://api.github.com/users/melliott1220/events{/privacy}","received_events_url":"https://api.github.com/users/melliott1220/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T19:31:57Z","updated_at":"2020-04-06T19:31:57Z","body":"I need to chew on this more, @jhpoelen, but I do have some initial \"easy\" answers.\r\n\r\n> What value does the mandatory 2005 URI scheme actually add?\r\n\r\nI think, generally, the idea is to make different RDF datasets compatible by enforcing global identifiers, leaving non-skolemized blank nodes as the only possible local identifiers. In the case of UUIDs, if one dataset uses the `urn:uuid` prefix but another doesn't, resolving such discrepancies across datasets might be nontrivial. Although, I get that different identifiers might be used to refer to the same entity (especially across datasets), and identifying those duplicates would raise similar complications.\r\n\r\n> Would users benefit from applying schemes to these named resources?\r\n\r\nOne benefit to users is the ability to use Preston-generated provenance with software that enforces absolute URIs (e.g. https://github.com/RDFLib/rdflib). I acknowledge that the benefit here is not a product of enforcing schemes.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/609993012/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/610016449","html_url":"https://github.com/bio-guoda/preston/issues/56#issuecomment-610016449","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/56","id":610016449,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDAxNjQ0OQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-06T20:21:59Z","updated_at":"2020-04-06T20:21:59Z","body":"@mielliott thanks for sharing your thoughts. \r\n\r\nI agree that using the absolute URIs would reduce friction when strict parsers are used. \r\n\r\nAbout the added value - in theory it sounds like a great idea to force *all* identifiers into some scheme. However, as you know, many identifiers are not expressed in 2005 URI compatible schemes, leaving them cut-off from the (theoretical) RDF universe. \r\n\r\nOne way to avoid having to deal with non-conforming identifiers extracted from external resources is to . . . not include them ; ) . The downside of this is that the discovery of the content of the resources referenced in the provenance logs needs third party parsers and processors. \r\n\r\nSo, rather than saying:\r\n\r\n```\r\n<https://api.gbif.org/v1/dataset/bbe844d6-89b6-4c9b-9cd1-4b7a8c332dc5> <http://purl.org/pav/hasVersion> <hash://sha256/e2b636444ae4f7330026b1fec8f4f8354d33315173d52188d13509c509453dbf> .\r\n<hash://sha256/e2b636444ae4f7330026b1fec8f4f8354d33315173d52188d13509c509453dbf> <http://www.w3.org/ns/prov#hadMember> <bbe844d6-89b6-4c9b-9cd1-4b7a8c332dc5> .\r\n<bbe844d6-89b6-4c9b-9cd1-4b7a8c332dc5> <http://www.w3.org/ns/prov#hadMember> <http://tb.plazi.org/GgServer/dwca/FFF76241FFB3B773A711FF98DF6BFFF3.zip> .\r\n<http://tb.plazi.org/GgServer/dwca/FFF76241FFB3B773A711FF98DF6BFFF3.zip> <http://purl.org/pav/hasVersion> ...\r\n```\r\n\r\nwe'd say:\r\n\r\n```\r\n<https://api.gbif.org/v1/dataset/bbe844d6-89b6-4c9b-9cd1-4b7a8c332dc5> <http://purl.org/pav/hasVersion> <hash://sha256/e2b636444ae4f7330026b1fec8f4f8354d33315173d52188d13509c509453dbf> .\r\n<hash://sha256/e2b636444ae4f7330026b1fec8f4f8354d33315173d52188d13509c509453dbf> <http://www.w3.org/ns/prov#hadMember> <http://tb.plazi.org/GgServer/dwca/FFF76241FFB3B773A711FF98DF6BFFF3.zip> .\r\n<http://tb.plazi.org/GgServer/dwca/FFF76241FFB3B773A711FF98DF6BFFF3.zip> <http://purl.org/pav/hasVersion> ...\r\n```\r\n\r\nLeaving out the intermediate uuid provided by the network and instead focusing only on the URLs provided by the networks. \r\n\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/610016449/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/610657898","html_url":"https://github.com/bio-guoda/preston/issues/56#issuecomment-610657898","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/56","id":610657898,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDY1Nzg5OA==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-07T22:49:33Z","updated_at":"2020-04-07T22:49:33Z","body":"Curious to hear your comments @mielliott before I start moving on this.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/610657898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/610695632","html_url":"https://github.com/bio-guoda/preston/issues/56#issuecomment-610695632","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/56","id":610695632,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDY5NTYzMg==","user":{"login":"mielliott","id":9602463,"node_id":"MDQ6VXNlcjk2MDI0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9602463?v=4","gravatar_id":"","url":"https://api.github.com/users/mielliott","html_url":"https://github.com/mielliott","followers_url":"https://api.github.com/users/mielliott/followers","following_url":"https://api.github.com/users/mielliott/following{/other_user}","gists_url":"https://api.github.com/users/mielliott/gists{/gist_id}","starred_url":"https://api.github.com/users/mielliott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mielliott/subscriptions","organizations_url":"https://api.github.com/users/mielliott/orgs","repos_url":"https://api.github.com/users/mielliott/repos","events_url":"https://api.github.com/users/mielliott/events{/privacy}","received_events_url":"https://api.github.com/users/mielliott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T01:07:38Z","updated_at":"2020-04-08T01:07:53Z","body":"To preserve the structure provided by the intermediate uuids, we could use blank nodes. The original uuid could be linked to the blank node as a string literal if/when it's useful to preserve it. I don't know what relationship would be used to do that though (below I made up \"hadLabel\").\r\n```\r\n<hash://sha256/aaaaa> <hadMember> _:b .\r\n_:b <hadLabel> \"ac9673fa-73cf-42db-a352-e1848f12e483\" .\r\n```\r\nAn even crazier (but kinda neat) idea: when an identifier is found inside a resource, append the identifier as a fragment onto the hash URI. Like,\r\n```\r\n<hash://sha256/aaaaa> <hadMember> <hash://sha256/aaaaa#someUUID> .\r\n<hash://sha256/aaaaa#someUUID> <hadMember> <http://example.com/dwca> .\r\n```\r\nNote that the use of fragment identifiers is non-normative according to https://www.w3.org/TR/rdf11-concepts/#section-fragID. They seem to fit the bill though: \"They identify a secondary resource that is usually a part of, view of, defined in, or described in the primary resource.\" And even though their use is non-normative, their presence is totally compatible with 2005 URIs.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/610695632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/610697571","html_url":"https://github.com/bio-guoda/preston/issues/56#issuecomment-610697571","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/56","id":610697571,"node_id":"MDEyOklzc3VlQ29tbWVudDYxMDY5NzU3MQ==","user":{"login":"mielliott","id":9602463,"node_id":"MDQ6VXNlcjk2MDI0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9602463?v=4","gravatar_id":"","url":"https://api.github.com/users/mielliott","html_url":"https://github.com/mielliott","followers_url":"https://api.github.com/users/mielliott/followers","following_url":"https://api.github.com/users/mielliott/following{/other_user}","gists_url":"https://api.github.com/users/mielliott/gists{/gist_id}","starred_url":"https://api.github.com/users/mielliott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mielliott/subscriptions","organizations_url":"https://api.github.com/users/mielliott/orgs","repos_url":"https://api.github.com/users/mielliott/repos","events_url":"https://api.github.com/users/mielliott/events{/privacy}","received_events_url":"https://api.github.com/users/mielliott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-08T01:14:15Z","updated_at":"2020-04-08T01:22:55Z","body":"For the record, an example of the structure would be nice to preserve is when DWCA and EML file locations are grouped together under the UUID.\r\n\r\nThe more I think about using fragments for this purpose, the more I like them. Unless you have any objections or wisdom against using them? @jhpoelen\r\n\r\nEssentially, they allow us to use local identifiers by explicitly giving them context within a global identifier. And the fact that their use is non-normative is not to discourage them.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/610697571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1984536367","html_url":"https://github.com/bio-guoda/preston/issues/56#issuecomment-1984536367","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/56","id":1984536367,"node_id":"IC_kwDOCMmefs52SZ8v","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-07T21:31:28Z","updated_at":"2024-03-07T21:31:28Z","body":"As far as I know, Preston is now generating well-formed IRIs. And, I am starting to appreciate \"relaxed\" rdf/nquad parsers that have an option to skip malformed rdf/nquads statements.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1984536367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]