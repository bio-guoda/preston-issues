[{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/607456059","html_url":"https://github.com/bio-guoda/preston/issues/55#issuecomment-607456059","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/55","id":607456059,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzQ1NjA1OQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T19:49:19Z","updated_at":"2020-04-01T19:49:19Z","body":"As discussed with @mielliott - \r\n\r\n0. implement a check on creating nquads to make sure that IRIs are up to spec (feature)\r\n1. patch existing provenance logs to ensure that uuid etc are up to spec (patch)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/607456059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/607457569","html_url":"https://github.com/bio-guoda/preston/issues/55#issuecomment-607457569","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/55","id":607457569,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzQ1NzU2OQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T19:52:47Z","updated_at":"2020-04-01T19:52:47Z","body":"Proposed patch process:\r\n\r\n1. create a new preston provenance graph \r\n2. first version would only include reference to the first version of the provenance graph. \r\n3. reprocess old provenance version one provenance log at a time \r\n\r\ndone. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/607457569/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/607530299","html_url":"https://github.com/bio-guoda/preston/issues/55#issuecomment-607530299","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/55","id":607530299,"node_id":"MDEyOklzc3VlQ29tbWVudDYwNzUzMDI5OQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-04-01T22:58:27Z","updated_at":"2020-04-01T22:58:27Z","body":"For historical perspective, from https://cr.openjdk.java.net/~dfuchs/writeups/updating-uri/ - \r\n\r\n----\r\nUpdating URI support for RFC 3986 and RFC 3987 in the JDK\r\nMotivation\r\n\r\njava.net.URI claims conformance to RFC 2396 (Uniform Resource Identifiers (URI): Generic Syntax) and RFC 2732 (Format for Literal IPv6 Addresses in URLs), with deviations. These two RFCs have been obsoleted by RFC 3986, which is now an Internet Standard. In addition, java.net.URI supports non US-ASCII characters in URIs, which has been later formalized by RFC 3987. Because java.net.URI predates both RFC 3986 and RFC 3987 the documentation makes no mention on how java.net.URI deviates from these two RFCs.\r\n\r\nMany bugs and confusion could be avoided if java.net.URI could be upgraded to support the newer RFCs.\r\nHistorical consideration\r\n\r\nAn attempt was made in the past to upgrade java.net.URI to support RFC 3986 and RFC 3987. This caused many JCK tests failures and compatibility issues and the change had to be backed out (see JDK-6394131). To reduce the risk of incompatibilities arising again several roads have been explored.\r\n[...]","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/607530299/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/716907122","html_url":"https://github.com/bio-guoda/preston/issues/55#issuecomment-716907122","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/55","id":716907122,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjkwNzEyMg==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-27T00:52:31Z","updated_at":"2020-10-27T00:52:50Z","body":"@mielliott Please note that recent commits introduced ```urn:uuid:``` prefix whenever UUID are serialized to rdf/nquads\r\n\r\nexample, notice the activity/datagraph name uuid:\r\n\r\n```terminal\r\n$ preston track \"https://google.com\"\r\n...\r\n<https://google.com> ... <urn:uuid:1b368364-3939-4d2a-94e3-a87e0ef84eaf> .\r\n```\r\n\r\nNext up: have a way to detect relative IRIs generated by statement emitters. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/716907122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/716907454","html_url":"https://github.com/bio-guoda/preston/issues/55#issuecomment-716907454","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/55","id":716907454,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNjkwNzQ1NA==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-27T00:53:38Z","updated_at":"2020-10-27T00:53:38Z","body":"Another example:\r\n\r\n```\r\n$ preston history\r\n<urn:uuid:0659a54f-b713-4f86-a917-5be166a14110> <http://purl.org/pav/hasVersion> <hash://sha256/d8f72bd865686e99eac413b36d198fd15f305966d2864091320f1868279451ff> .\r\n<hash://sha256/d7b73e3472d5a1989598f2a46116a4fc11dfb9ceacdf0a2b2f7f69737883c951> <http://purl.org/pav/previousVersion> <hash://sha256/d8f72bd865686e99eac413b36d198fd15f305966d2864091320f1868279451ff> .\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/716907454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/717935991","html_url":"https://github.com/bio-guoda/preston/issues/55#issuecomment-717935991","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/55","id":717935991,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzkzNTk5MQ==","user":{"login":"mielliott","id":9602463,"node_id":"MDQ6VXNlcjk2MDI0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9602463?v=4","gravatar_id":"","url":"https://api.github.com/users/mielliott","html_url":"https://github.com/mielliott","followers_url":"https://api.github.com/users/mielliott/followers","following_url":"https://api.github.com/users/mielliott/following{/other_user}","gists_url":"https://api.github.com/users/mielliott/gists{/gist_id}","starred_url":"https://api.github.com/users/mielliott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mielliott/subscriptions","organizations_url":"https://api.github.com/users/mielliott/orgs","repos_url":"https://api.github.com/users/mielliott/repos","events_url":"https://api.github.com/users/mielliott/events{/privacy}","received_events_url":"https://api.github.com/users/mielliott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-28T13:33:58Z","updated_at":"2020-10-28T13:33:58Z","body":"> Next up: have a way to detect relative IRIs generated by statement emitters.\r\n\r\nAre you just thinking about having `preston ls` (the printing logger) automatically prefix relative UUID IRIs with urn:uuid? Or are you also considering adding a prefix fixing step to the archiving logger?","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/717935991/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/717950147","html_url":"https://github.com/bio-guoda/preston/issues/55#issuecomment-717950147","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/55","id":717950147,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzk1MDE0Nw==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-28T13:56:16Z","updated_at":"2020-10-28T13:56:16Z","body":"Thanks for your comments!\n\nPrefixing the uuid when printing sounds like an idea. You can still to ```preston cat``` to get the original provenance log. \n\nNote also, that some uuids come from parsed iDigBio/GBIF data. Also, I remember that some of the DataONE dataset identifiers are treated are URI while some do not qualify at a \"new\" >2005 (?) URI.\n\nWhat does your gut tell you? Auto-fix or explicit fix with something like ```preston ls --strict-uris```\n\n\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/717950147/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/717978637","html_url":"https://github.com/bio-guoda/preston/issues/55#issuecomment-717978637","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/55","id":717978637,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNzk3ODYzNw==","user":{"login":"mielliott","id":9602463,"node_id":"MDQ6VXNlcjk2MDI0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9602463?v=4","gravatar_id":"","url":"https://api.github.com/users/mielliott","html_url":"https://github.com/mielliott","followers_url":"https://api.github.com/users/mielliott/followers","following_url":"https://api.github.com/users/mielliott/following{/other_user}","gists_url":"https://api.github.com/users/mielliott/gists{/gist_id}","starred_url":"https://api.github.com/users/mielliott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mielliott/subscriptions","organizations_url":"https://api.github.com/users/mielliott/orgs","repos_url":"https://api.github.com/users/mielliott/repos","events_url":"https://api.github.com/users/mielliott/events{/privacy}","received_events_url":"https://api.github.com/users/mielliott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-28T14:40:32Z","updated_at":"2020-10-28T14:40:32Z","body":"I think I favor auto-fixing, since this would probably be our default option to keep old logs \"compatible\" with new logs. In case we need the original URIs (e.g. if those DataONE dataset identifiers need to be kept intact), we can have an option to use the verbatim URIs. I don't think there's any perfect solution here, we'll probably always need to be careful to handle formatting inconsistencies when using UUIDs shared by different datasets/provenance logs.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/717978637/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/718133918","html_url":"https://github.com/bio-guoda/preston/issues/55#issuecomment-718133918","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/55","id":718133918,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODEzMzkxOA==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-28T18:42:52Z","updated_at":"2020-10-28T18:42:52Z","body":"Ok, I am ok with opt-out fixing. \r\n\r\nI was thinking that for non-compliant URI terms for things other than UUID, we can add the ```urn:example:``` prefix instead. See https://en.wikipedia.org/wiki/Uniform_Resource_Name#Experimental . Note that Apache Jena is using the now deprecated ```urn:x-``` prefix. We could also do that . . . ```urn:x-preston:``` 'because hey . . . if Apache does it . . .   ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/718133918/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/718151754","html_url":"https://github.com/bio-guoda/preston/issues/55#issuecomment-718151754","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/55","id":718151754,"node_id":"MDEyOklzc3VlQ29tbWVudDcxODE1MTc1NA==","user":{"login":"mielliott","id":9602463,"node_id":"MDQ6VXNlcjk2MDI0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9602463?v=4","gravatar_id":"","url":"https://api.github.com/users/mielliott","html_url":"https://github.com/mielliott","followers_url":"https://api.github.com/users/mielliott/followers","following_url":"https://api.github.com/users/mielliott/following{/other_user}","gists_url":"https://api.github.com/users/mielliott/gists{/gist_id}","starred_url":"https://api.github.com/users/mielliott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mielliott/subscriptions","organizations_url":"https://api.github.com/users/mielliott/orgs","repos_url":"https://api.github.com/users/mielliott/repos","events_url":"https://api.github.com/users/mielliott/events{/privacy}","received_events_url":"https://api.github.com/users/mielliott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-28T19:14:59Z","updated_at":"2020-10-28T19:14:59Z","body":"> 'because hey . . . if Apache does it . . .\r\n\r\nApache's way of doing things got us into this mess ;)\r\n\r\n`urn:example` sounds fine to me.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/718151754/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1984534256","html_url":"https://github.com/bio-guoda/preston/issues/55#issuecomment-1984534256","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/55","id":1984534256,"node_id":"IC_kwDOCMmefs52SZbw","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-03-07T21:29:49Z","updated_at":"2024-03-07T21:29:49Z","body":"closing stale discussion re: relative URIs. Currently, as far as I know, preston logs are generating well formed URIs.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1984534256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]