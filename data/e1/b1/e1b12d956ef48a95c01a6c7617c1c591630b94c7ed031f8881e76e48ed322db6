{"url":"https://api.github.com/repos/bio-guoda/preston/issues/319","repository_url":"https://api.github.com/repos/bio-guoda/preston","labels_url":"https://api.github.com/repos/bio-guoda/preston/issues/319/labels{/name}","comments_url":"https://api.github.com/repos/bio-guoda/preston/issues/319/comments","events_url":"https://api.github.com/repos/bio-guoda/preston/issues/319/events","html_url":"https://github.com/bio-guoda/preston/issues/319","id":2831431556,"node_id":"I_kwDOCMmefs6oxDeE","number":319,"title":"support streaming of non-compliant dwc meta.xml with objections . . .","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-02-04T22:32:49Z","updated_at":"2025-06-25T19:01:58Z","closed_at":"2025-06-25T19:01:58Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"@jhammock @katjaschulz publish trait data in publications like:\n\nEncyclopedia of Life. (2024). Kubitzki et al [Data set]. Zenodo. https://doi.org/10.5281/zenodo.13320393\n\nwith associated non-starmeta.xml \n\n```\npreston cat --remote https://zenodo.org 'zip:hash://md5/cc0baf60be3e3715faa723c948081523!/meta.xml'\n```\n\nbeing \n\n\n```xml\n<?xml version=\"1.0\"?>\n<archive xmlns=\"http://rs.tdwg.org/dwc/text/\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://rs.tdwg.org/dwc/text/  http://services.eol.org/schema/dwca/tdwg_dwc_text.xsd\">\n  <table encoding=\"UTF-8\" fieldsTerminatedBy=\"\\t\" linesTerminatedBy=\"\\n\" ignoreHeaderLines=\"1\" rowType=\"http://rs.tdwg.org/dwc/terms/Taxon\">\n    <files><location>taxa.tsv</location></files>\n    <field index=\"0\" term=\"http://rs.tdwg.org/dwc/terms/taxonID\"/>\n    <field index=\"1\" term=\"http://rs.tdwg.org/dwc/terms/scientificName\"/>\n    <field index=\"2\" term=\"http://eol.org/schema/EOLid\"/>\n  </table>\n  <table encoding=\"UTF-8\" fieldsTerminatedBy=\"\\t\" linesTerminatedBy=\"\\n\" ignoreHeaderLines=\"1\" rowType=\"http://rs.tdwg.org/dwc/terms/Occurrence\">\n    <files><location>occurrences.tsv</location></files>\n    <field index=\"0\" term=\"http://rs.tdwg.org/dwc/terms/occurrenceID\"/>\n    <field index=\"1\" term=\"http://rs.tdwg.org/dwc/terms/taxonID\"/>\n  </table>\n  <table encoding=\"UTF-8\" fieldsTerminatedBy=\"\\t\" linesTerminatedBy=\"\\n\" ignoreHeaderLines=\"1\" rowType=\"http://rs.tdwg.org/dwc/terms/MeasurementOrFact\">\n    <files><location>measurementsorfacts.txt</location></files>\n    <field index=\"0\" term=\"http://rs.tdwg.org/dwc/terms/measurementID\"/>\n    <field index=\"1\" term=\"http://rs.tdwg.org/dwc/terms/occurrenceID\"/>\n    <field index=\"2\" term=\"http://eol.org/schema/measurementOfTaxon\"/>\n    <field index=\"3\" term=\"http://eol.org/schema/parentMeasurementID\"/>\n    <field index=\"4\" term=\"http://rs.tdwg.org/dwc/terms/measurementType\"/>\n    <field index=\"5\" term=\"http://rs.tdwg.org/dwc/terms/measurementValue\"/>\n    <field index=\"6\" term=\"http://rs.tdwg.org/dwc/terms/measurementUnit\"/>\n    <field index=\"7\" term=\"http://eol.org/schema/terms/statisticalMethod\"/>\n    <field index=\"8\" term=\"http://rs.tdwg.org/dwc/terms/measurementRemarks\"/>\n    <field index=\"9\" term=\"http://purl.org/dc/terms/source\"/>\n    <field index=\"10\" term=\"http://purl.org/dc/terms/bibliographicCitation\"/>\n    <field index=\"11\" term=\"http://eol.org/schema/reference/referenceID\"/>\n  </table>\n  <table encoding=\"UTF-8\" fieldsTerminatedBy=\"\\t\" linesTerminatedBy=\"\\n\" ignoreHeaderLines=\"1\" rowType=\"http://eol.org/schema/reference/Reference\">\n    <files><location>references.txt</location></files>\n    <field index=\"0\" term=\"http://purl.org/dc/terms/identifier\"/>\n    <field index=\"1\" term=\"http://eol.org/schema/reference/publicationType\"/>\n    <field index=\"2\" term=\"http://eol.org/schema/reference/full_reference\"/>\n  </table>\n</archive>\n```\n\ncausing \n\n```\npreston cat --remote https://zenodo.org hash://md5/cc0baf60be3e3715faa723c948081523\\\n | preston track\\\n | preston dwc-stream \n```\n\nto come up empty and complaining \n\n```\n[main] WARN org.gbif.dwc.meta.MetaXMLSaxHandler2 - field found outside of an archive file\n[main] WARN org.gbif.dwc.meta.MetaXMLSaxHandler2 - field found outside of an archive file\n[...]\n```\n\nsuggest to complain *and* stream the records anyway. . . ","closed_by":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/319/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bio-guoda/preston/issues/319/timeline","performed_via_github_app":null,"state_reason":"completed"}