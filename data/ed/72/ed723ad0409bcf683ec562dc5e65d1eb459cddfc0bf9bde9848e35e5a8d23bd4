{"url":"https://api.github.com/repos/bio-guoda/preston/issues/38","repository_url":"https://api.github.com/repos/bio-guoda/preston","labels_url":"https://api.github.com/repos/bio-guoda/preston/issues/38/labels{/name}","comments_url":"https://api.github.com/repos/bio-guoda/preston/issues/38/comments","events_url":"https://api.github.com/repos/bio-guoda/preston/issues/38/events","html_url":"https://github.com/bio-guoda/preston/issues/38","id":575592377,"node_id":"MDU6SXNzdWU1NzU1OTIzNzc=","number":38,"title":"Suggestion - parse iDigBio recordsets to find dataset URLs","user":{"login":"mielliott","id":9602463,"node_id":"MDQ6VXNlcjk2MDI0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9602463?v=4","gravatar_id":"","url":"https://api.github.com/users/mielliott","html_url":"https://github.com/mielliott","followers_url":"https://api.github.com/users/mielliott/followers","following_url":"https://api.github.com/users/mielliott/following{/other_user}","gists_url":"https://api.github.com/users/mielliott/gists{/gist_id}","starred_url":"https://api.github.com/users/mielliott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mielliott/subscriptions","organizations_url":"https://api.github.com/users/mielliott/orgs","repos_url":"https://api.github.com/users/mielliott/repos","events_url":"https://api.github.com/users/mielliott/events{/privacy}","received_events_url":"https://api.github.com/users/mielliott/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1045930075,"node_id":"MDU6TGFiZWwxMDQ1OTMwMDc1","url":"https://api.github.com/repos/bio-guoda/preston/labels/enhancement","name":"enhancement","color":"a2eeef","default":true,"description":"New feature or request"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-03-04T17:17:53Z","updated_at":"2020-04-29T17:45:10Z","closed_at":"2020-04-29T17:45:10Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"See the emails below. Currently, Preston parses https://search.idigbio.org/v2/search/publishers to find dataset URLs used by iDigBio. However, after chatting with iDigBio folks, I believe the iDigBio data network is actually described in http://search.idigbio.org/v2/search/recordsets, and that https://search.idigbio.org/v2/search/publishers is only used to discover new datasets and catalog them to the recordsets file. Even after RSS feeds listed in the publishers file stop working, their associated dataset URLs stored in the recordsets list are still monitored by iDigBio for updates.\r\n\r\n> On 3/4/20 6:19 AM, Elliott,Michael J wrote:\r\n> Hi Jorrit,\r\n> \r\n> After some poking around, I found that ~20% of the RSS feed links at https://search.idigbio.org/v2/search/publishers do not actually work (either dead, 404, 503, or point to a non-rss file). I brought it up with the iDigBio folks and they're looking into it, but I overheard something interesting: iDigBio only uses that publishers list to discover new dataset URLs and add them to http://search.idigbio.org/v2/search/recordsets, then periodically queries the URLs in the recordsets file to retrieve datasets. Because of this, the iDigBio folks don't seem too concerned about their publishers list having some issues, since they're still able to update existing datasets (as long as those links still work).\r\n> \r\n> So, since Preston is only parsing the publishers file, it's not actually getting a full picture of the iDigBio data network (there may be many dataset URLs that are not listed in the working RSS feeds). Here's a radical idea: Preston could parse http://search.idigbio.org/v2/search/recordsets instead to find dataset URLs. It's a .json file and lists links to the source EML and DWCA files for each of iDigBio's datasets.\r\n> \r\n> Thanks,\r\n> Michael\r\n\r\n> Hey Michael -\r\n>\r\n> \r\n> Thanks for sharing. Please open an issue to express your idea to have Preston use the iDigBio record sets.\r\n> \r\n> As far as I understand, the publishers list casts a wider net than the record sets. Also, many datasets are hosted via IPTs or Symbiota instances. These instances expose the RSS feeds that are included in the publishers. So, if a RSS feed for a publisher goes down, very likely the hosting of the individual datasets goes down also.\r\n> \r\n> Now, more generally, this exchange you had was the result of introducing a measurement device (preston) to keep track of a data network (iDigBio). Because no one has done this before (as far as I know), we are opening up conversations that either never happened or usually happen behind closed doors.\r\n> \r\n> This is just to say that I am encouraged by your conversations with the iDigBio team: the exchanges tell me that they care about their data and eager to improve the way Preston is tracking the network.\r\n> \r\n> thx,\r\n> \r\n> -jorrit\r\n> \r\n> \r\n> PS I am interested how the iDigBio team is keeping track of broken datasets and broken RSS feeds. Why are known broken RSS feeds still on the list? Is there some kind of expiration date on being broken? What happens if datasets haven't been served by their hosting institutions for a long period of time?","closed_by":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/38/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bio-guoda/preston/issues/38/timeline","performed_via_github_app":null,"state_reason":"completed"}