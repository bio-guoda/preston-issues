[{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/902307863","html_url":"https://github.com/bio-guoda/preston/issues/130#issuecomment-902307863","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/130","id":902307863,"node_id":"IC_kwDOCMmefs41yCAX","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-19T23:03:37Z","updated_at":"2021-08-19T23:03:37Z","body":"@mielliott I can see how the current output doesn't make sense: how can an activity use something that was not inspected, could not be resolved, or does not exist?\r\n\r\nI like your idea 1. to crash the process and quit for now, because I can imagine the implementation.\r\n\r\nAnd, idea 2. sounds more elegant. Did you have any ideas on what statements to generate to describe the non-existing or non-resolvable hash uri?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/902307863/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/958082455","html_url":"https://github.com/bio-guoda/preston/issues/130#issuecomment-958082455","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/130","id":958082455,"node_id":"IC_kwDOCMmefs45Gy2X","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-11-02T19:05:26Z","updated_at":"2021-11-02T19:05:26Z","body":"After a first attempt to implement idea 1. (crash on grepping content that is unavailable via content id), I was able to generate:\r\n\r\n```\r\n$ echo \"<blah> <http://purl.org/pav/hasVersion> <hash://sha256/0000000000000000000000000000000000000000000000000000000000000000>\r\n.\" | preston grep\r\n[main] ERROR bio.guoda.preston.cmd.CmdLine - unexpected exception\r\njava.lang.RuntimeException: failed to get [hash://sha256/0000000000000000000000000000000000000000000000000000000000000000]\r\n\tat bio.guoda.preston.process.TextMatcher.on(TextMatcher.java:70)\r\n\tat bio.guoda.preston.cmd.CmdGrep$1.emit(CmdGrep.java:66)\r\n\tat bio.guoda.preston.process.EmittingStreamRDF.copyOnEmit(EmittingStreamRDF.java:45)\r\n\tat bio.guoda.preston.process.EmittingStreamRDF.parseAndEmit(EmittingStreamRDF.java:34)\r\n\tat bio.guoda.preston.cmd.CmdGrep.run(CmdGrep.java:71)\r\n\tat bio.guoda.preston.cmd.CmdGrep.run(CmdGrep.java:44)\r\n\tat bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:18)\r\n\tat bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:26)\r\n\tat bio.guoda.preston.Preston.main(Preston.java:19)\r\nCaused by: bio.guoda.preston.store.DereferenceException: failed to dereference [hash://sha256/0000000000000000000000000000000000000000000000000000000000000000]\r\n\tat bio.guoda.preston.store.AliasDereferencer.dereferenceAliasedHash(AliasDereferencer.java:51)\r\n\tat bio.guoda.preston.store.AliasDereferencer.get(AliasDereferencer.java:44)\r\n\tat bio.guoda.preston.store.AliasDereferencer.get(AliasDereferencer.java:14)\r\n\tat bio.guoda.preston.process.ProcessorReadOnly.get(ProcessorReadOnly.java:33)\r\n\tat bio.guoda.preston.process.TextMatcher.on(TextMatcher.java:63)\r\n\t... 8 more\r\nCaused by: bio.guoda.preston.store.DereferenceException: failed to dereference [hash://sha256/0000000000000000000000000000000000000000000000000000000000000000]\r\n\tat bio.guoda.preston.store.ContentHashDereferencer.get(ContentHashDereferencer.java:25)\r\n\tat bio.guoda.preston.store.ContentHashDereferencer.get(ContentHashDereferencer.java:10)\r\n\tat bio.guoda.preston.store.AliasDereferencer.dereferenceAliasedHash(AliasDereferencer.java:49)\r\n\t... 12 more\r\nCaused by: java.io.IOException: failed to find content identified by [<hash://sha256/0000000000000000000000000000000000000000000000000000000000000000>]\r\n\tat bio.guoda.preston.stream.ContentStreamFactory.create(ContentStreamFactory.java:27)\r\n\tat bio.guoda.preston.store.ContentHashDereferencer.get(ContentHashDereferencer.java:23)\r\n\t... 14 more\r\njava.lang.RuntimeException: failed to get [hash://sha256/0000000000000000000000000000000000000000000000000000000000000000]\r\n\tat bio.guoda.preston.process.TextMatcher.on(TextMatcher.java:70)\r\n\tat bio.guoda.preston.cmd.CmdGrep$1.emit(CmdGrep.java:66)\r\n\tat bio.guoda.preston.process.EmittingStreamRDF.copyOnEmit(EmittingStreamRDF.java:45)\r\n\tat bio.guoda.preston.process.EmittingStreamRDF.parseAndEmit(EmittingStreamRDF.java:34)\r\n\tat bio.guoda.preston.cmd.CmdGrep.run(CmdGrep.java:71)\r\n\tat bio.guoda.preston.cmd.CmdGrep.run(CmdGrep.java:44)\r\n\tat bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:18)\r\n\tat bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:26)\r\n\tat bio.guoda.preston.Preston.main(Preston.java:19)\r\nCaused by: bio.guoda.preston.store.DereferenceException: failed to dereference [hash://sha256/0000000000000000000000000000000000000000000000000000000000000000]\r\n\tat bio.guoda.preston.store.AliasDereferencer.dereferenceAliasedHash(AliasDereferencer.java:51)\r\n\tat bio.guoda.preston.store.AliasDereferencer.get(AliasDereferencer.java:44)\r\n\tat bio.guoda.preston.store.AliasDereferencer.get(AliasDereferencer.java:14)\r\n\tat bio.guoda.preston.process.ProcessorReadOnly.get(ProcessorReadOnly.java:33)\r\n\tat bio.guoda.preston.process.TextMatcher.on(TextMatcher.java:63)\r\n\t... 8 more\r\nCaused by: bio.guoda.preston.store.DereferenceException: failed to dereference [hash://sha256/0000000000000000000000000000000000000000000000000000000000000000]\r\n\tat bio.guoda.preston.store.ContentHashDereferencer.get(ContentHashDereferencer.java:25)\r\n\tat bio.guoda.preston.store.ContentHashDereferencer.get(ContentHashDereferencer.java:10)\r\n\tat bio.guoda.preston.store.AliasDereferencer.dereferenceAliasedHash(AliasDereferencer.java:49)\r\n\t... 12 more\r\nCaused by: java.io.IOException: failed to find content identified by [<hash://sha256/0000000000000000000000000000000000000000000000000000000000000000>]\r\n\tat bio.guoda.preston.stream.ContentStreamFactory.create(ContentStreamFactory.java:27)\r\n\tat bio.guoda.preston.store.ContentHashDereferencer.get(ContentHashDereferencer.java:23)\r\n\t... 14 more\r\n```\r\n\r\n@mielliott curious to hear thought if you have any.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/958082455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]