[{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/685957846","html_url":"https://github.com/bio-guoda/preston/issues/71#issuecomment-685957846","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/71","id":685957846,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NTk1Nzg0Ng==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T19:45:51Z","updated_at":"2020-09-02T19:45:51Z","body":"https://www.idigbio.org/portal/mediarecords/04ce79b3-7d26-4b78-b2d0-f6a05c54f746#data-table \r\n\r\n\"raw\" image:\r\nhttp://digitalgallery.nhm.org:8085/invertpaleo_nhm/api/v1/asset/738296/preview\r\n\r\nwith webview: \r\nhttps://api.idigbio.org/v2/media/04ce79b3-7d26-4b78-b2d0-f6a05c54f746?size=webview\r\n\r\nand thumbnail ? \r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/685957846/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/686046819","html_url":"https://github.com/bio-guoda/preston/issues/71#issuecomment-686046819","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/71","id":686046819,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjA0NjgxOQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T21:47:41Z","updated_at":"2020-09-02T21:55:43Z","body":"More examples:\r\n\r\nrecord:\r\nhttps://www.idigbio.org/portal/records/c98df68c-a32b-4c8e-b9e8-e57d20e67dea\r\n\r\nshows thumbnail:\r\n\r\nhttps://api.idigbio.org/v2/media/ab0e3f3d-b758-418b-8cf1-ed85d893fd65?size=thumbnail\r\n![thumbnail](https://api.idigbio.org/v2/media/ab0e3f3d-b758-418b-8cf1-ed85d893fd65?size=thumbnail)\r\n\r\nwebview:\r\nhttps://api.idigbio.org/v2/media/ab0e3f3d-b758-418b-8cf1-ed85d893fd65?size=webview\r\n![webview](https://api.idigbio.org/v2/media/ab0e3f3d-b758-418b-8cf1-ed85d893fd65?size=webview)\r\n\r\nclicking on the thumbnail takes to:\r\nhttps://www.idigbio.org/portal/mediarecords/ab0e3f3d-b758-418b-8cf1-ed85d893fd65\r\n\r\nthat includes iDigBio webview image:\r\nhttps://s.idigbio.org/idigbio-images-prod-webview/400c92a515dbeefb3eef8526dbcbb5e2.jpg\r\n\r\nclicking on the webview image links to the original, raw image:\r\nhttp://data.huh.harvard.edu/23097057-6561-4dbe-81ec-1be2133f1b7d/image\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/686046819/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/686054891","html_url":"https://github.com/bio-guoda/preston/issues/71#issuecomment-686054891","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/71","id":686054891,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjA1NDg5MQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T22:09:15Z","updated_at":"2020-09-02T22:09:15Z","body":"note that - \r\nhttps://api.idigbio.org/v2/media/ab0e3f3d-b758-418b-8cf1-ed85d893fd65?size=webview \r\n\r\nredirects to:\r\n\r\nhttps://s.idigbio.org/idigbio-images-prod-webview/400c92a515dbeefb3eef8526dbcbb5e2.jpg \r\n\r\nresolve to same content with hash://sha256/5b960b8282c39f835d65b8574ef1c02a0ed387802f57077250ce926678f11f3b .\r\n\r\nSimilarly, \r\nhttps://api.idigbio.org/v2/media/ab0e3f3d-b758-418b-8cf1-ed85d893fd65?size=thumbnail\r\n\r\nresolves to \r\nhttps://s.idigbio.org/idigbio-images-prod-thumbnail/400c92a515dbeefb3eef8526dbcbb5e2.jpg\r\n\r\nwith hash://sha256/37b4504da1b471f35acd0b39a3e7bb5a3f711d60d2eec22220fffc79e0d69b15\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/686054891/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/686058182","html_url":"https://github.com/bio-guoda/preston/issues/71#issuecomment-686058182","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/71","id":686058182,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjA1ODE4Mg==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T22:18:04Z","updated_at":"2020-09-02T22:18:29Z","body":"Also,\r\n\r\nhttps://api.idigbio.org/v2/media/ab0e3f3d-b758-418b-8cf1-ed85d893fd65?size=fullsize\r\n\r\nresolves to \r\n\r\nhttps://s.idigbio.org/idigbio-images-prod-fullsize/400c92a515dbeefb3eef8526dbcbb5e2.jpg \r\n\r\nwith hash://sha256/e35df5a12bc6b4f977b815c9ec5d35dedbab1ba01b6aaef23db10ecc4ca4d7c8\r\n\r\nAnd, the raw original image at \r\n\r\nhttp://data.huh.harvard.edu/23097057-6561-4dbe-81ec-1be2133f1b7d/image \r\n\r\nhas same hash as the fullsize image served by iDigBio:\r\n\r\nhash;//sha256/e35df5a12bc6b4f977b815c9ec5d35dedbab1ba01b6aaef23db10ecc4ca4d7c8\r\n\r\nWith byte count:\r\n\r\n37802973\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/686058182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/686066055","html_url":"https://github.com/bio-guoda/preston/issues/71#issuecomment-686066055","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/71","id":686066055,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjA2NjA1NQ==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T22:41:53Z","updated_at":"2020-09-02T22:41:53Z","body":"related api call \r\n\r\nhttps://api.idigbio.org/v2/view/records/c98df68c-a32b-4c8e-b9e8-e57d20e67dea\r\n\r\n```json\r\n{\r\n  \"data\": {\r\n    \"dcterms:accessRights\": \"https://huh.harvard.edu/access-digital-reproductions-works-public-domain\",\r\n    \"dcterms:language\": \"en\",\r\n    \"dcterms:license\": \"https://huh.harvard.edu/pages/use\",\r\n    \"dcterms:modified\": \"2020-02-11 16:50:48.0\",\r\n    \"dcterms:references\": \"http://data.huh.harvard.edu/23097057-6561-4dbe-81ec-1be2133f1b7d/image\",\r\n    \"dcterms:rightsHolder\": \"President and Fellows of Harvard College\",\r\n    \"dcterms:type\": \"http://purl.org/dc/dcmitype/PhysicalObject\",\r\n    \"dwc:Identification\": [\r\n      {\r\n        \"coreid\": \"23097057-6561-4dbe-81ec-1be2133f1b7d\",\r\n        \"dwc:family\": \"Orchidaceae\",\r\n        \"dwc:genus\": \"Aa\",\r\n        \"dwc:scientificName\": \"Aa fiebrigii (Schlechter) Schlechter\",\r\n        \"dwc:scientificNameAuthorship\": \"(Schlechter) Schlechter\",\r\n        \"dwc:specificEpithet\": \"fiebrigii\",\r\n        \"dwc:taxonRank\": \"Species\"\r\n      }\r\n    ],\r\n    \"dwc:ResourceRelationship\": [\r\n      {\r\n        \"coreid\": \"23097057-6561-4dbe-81ec-1be2133f1b7d\",\r\n        \"dwc:relatedResourceID\": \"http://purl.oclc.org/net/edu.harvard.huh/guid/uuid/23097057-6561-4dbe-81ec-1be2133f1b7d\",\r\n        \"dwc:relationshipOfResource\": \"sameAs\"\r\n      }\r\n    ],\r\n    \"dwc:associatedMedia\": \"[see Simple Media extension]\",\r\n    \"dwc:basisOfRecord\": \"PreservedSpecimen\",\r\n    \"dwc:catalogNumber\": \"barcode-02162424\",\r\n    \"dwc:collectionCode\": \"AMES\",\r\n    \"dwc:collectionID\": \"urn:lsid:biocol.org:col:15408\",\r\n    \"dwc:continent\": \"South America\",\r\n    \"dwc:country\": \"Argentina\",\r\n    \"dwc:countryCode\": \"AR\",\r\n    \"dwc:datasetName\": \"Harvard University Herbaria: All Records\",\r\n    \"dwc:disposition\": \"in collection\",\r\n    \"dwc:dynamicProperties\": \"{\\\"huh_taxonomic_group\\\": \\\"Vascular\\\", \\\"huh_project_id\\\": 9, \\\"huh_project_name\\\": \\\"Plants on Edge/Endless Forms\\\"}\",\r\n    \"dwc:eventDate\": \"1927-01\",\r\n    \"dwc:family\": \"Orchidaceae\",\r\n    \"dwc:fieldNumber\": \"4782\",\r\n    \"dwc:genus\": \"Aa\",\r\n    \"dwc:higherGeography\": \"South America;Argentina;Tucumán;\",\r\n    \"dwc:institutionCode\": \"AMES\",\r\n    \"dwc:institutionID\": \"urn:lsid:biocol.org:col:15408\",\r\n    \"dwc:locality\": \"Dept. Chichigasti, Santa Rosa.\",\r\n    \"dwc:month\": \"1\",\r\n    \"dwc:occurrenceID\": \"23097057-6561-4dbe-81ec-1be2133f1b7d\",\r\n    \"dwc:occurrenceStatus\": \"present\",\r\n    \"dwc:otherCatalogNumbers\": \"AMES-accession-39219\",\r\n    \"dwc:preparations\": \"Sheet\",\r\n    \"dwc:recordNumber\": \"4782\",\r\n    \"dwc:recordedBy\": \"Sant. Venturi\",\r\n    \"dwc:reproductiveCondition\": \"NotDetermined\",\r\n    \"dwc:scientificName\": \"Aa fiebrigii (Schlechter) Schlechter\",\r\n    \"dwc:scientificNameAuthorship\": \"(Schlechter) Schlechter\",\r\n    \"dwc:sex\": \"undetermined\",\r\n    \"dwc:specificEpithet\": \"fiebrigii\",\r\n    \"dwc:stateProvince\": \"Tucumán\",\r\n    \"dwc:verbatimElevation\": \"3600 m.\",\r\n    \"dwc:verbatimLocality\": \"Dept. Chichigasti, Santa Rosa.\",\r\n    \"dwc:year\": \"1927\",\r\n    \"id\": \"23097057-6561-4dbe-81ec-1be2133f1b7d\"\r\n  },\r\n  \"etag\": \"e5133811b819f5c82fd3c66c027a97dfc00de4dc\",\r\n  \"links\": {\r\n    \"mediarecords\": [\r\n      \"https://api.idigbio.org/v2/view/mediarecord/ab0e3f3d-b758-418b-8cf1-ed85d893fd65\"\r\n    ],\r\n    \"recordsets\": [\r\n      \"https://api.idigbio.org/v2/view/recordsets/7450a9e3-ef95-4f9e-8260-09b498d2c5e6\"\r\n    ]\r\n  },\r\n  \"modified\": \"2020-08-23T07:11:28.837888\",\r\n  \"recordIds\": [\r\n    \"7450a9e3-ef95-4f9e-8260-09b498d2c5e6\\\\23097057-6561-4dbe-81ec-1be2133f1b7d\",\r\n    \"7450a9e3-ef95-4f9e-8260-09b498d2c5e6\\\\http://purl.oclc.org/net/edu.harvard.huh/guid/uuid/23097057-6561-4dbe-81ec-1be2133f1b7d\"\r\n  ],\r\n  \"type\": \"records\",\r\n  \"uuid\": \"c98df68c-a32b-4c8e-b9e8-e57d20e67dea\",\r\n  \"version\": 0\r\n}\r\n```\r\n\r\nand https://api.idigbio.org/v2/view/mediarecords/ab0e3f3d-b758-418b-8cf1-ed85d893fd65\r\n\r\n```json\r\n{\r\n  \"data\": {\r\n    \"coreid\": \"23097057-6561-4dbe-81ec-1be2133f1b7d\",\r\n    \"dcterms:created\": \"2020-01-14 00:00:00.0\",\r\n    \"dcterms:format\": \"image/jpeg\",\r\n    \"dcterms:identifier\": \"http://data.huh.harvard.edu/23097057-6561-4dbe-81ec-1be2133f1b7d/image\",\r\n    \"dcterms:license\": \"https://huh.harvard.edu/access-digital-reproductions-works-public-domain\",\r\n    \"dcterms:references\": \"http://data.huh.harvard.edu/23097057-6561-4dbe-81ec-1be2133f1b7d\",\r\n    \"dcterms:rightsHolder\": \"President and Fellows of Harvard College\",\r\n    \"dcterms:type\": \"StillImage\"\r\n  },\r\n  \"etag\": \"f381092ccb300cf531878cb39ed3be62f19de77f\",\r\n  \"links\": {\r\n    \"records\": [\r\n      \"https://api.idigbio.org/v2/view/record/c98df68c-a32b-4c8e-b9e8-e57d20e67dea\"\r\n    ],\r\n    \"recordsets\": [\r\n      \"https://api.idigbio.org/v2/view/recordsets/7450a9e3-ef95-4f9e-8260-09b498d2c5e6\"\r\n    ]\r\n  },\r\n  \"modified\": \"2020-08-23T07:11:28.837888\",\r\n  \"recordIds\": [\r\n    \"7450a9e3-ef95-4f9e-8260-09b498d2c5e6\\\\media\\\\http://data.huh.harvard.edu/23097057-6561-4dbe-81ec-1be2133f1b7d/image\"\r\n  ],\r\n  \"type\": \"mediarecords\",\r\n  \"uuid\": \"ab0e3f3d-b758-418b-8cf1-ed85d893fd65\",\r\n  \"version\": 0\r\n}\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/686066055/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/686069054","html_url":"https://github.com/bio-guoda/preston/issues/71#issuecomment-686069054","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/71","id":686069054,"node_id":"MDEyOklzc3VlQ29tbWVudDY4NjA2OTA1NA==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-02T22:51:51Z","updated_at":"2020-09-02T22:52:05Z","body":"Note that image retrieval is by md5 of the image:\r\n\r\n```\r\n$ curl -L \"https://s.idigbio.org/idigbio-images-prod-fullsize/400c92a515dbeefb3eef8526dbcbb5e2.jpg\" | md5sum\r\n400c92a515dbeefb3eef8526dbcbb5e2\r\n```\r\nwith url pattern:\r\n\r\n```https://s.idigbio.org/idigbio-images-prod-fullsize/[md5 of image].jpg```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/686069054/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/690763673","html_url":"https://github.com/bio-guoda/preston/issues/71#issuecomment-690763673","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/71","id":690763673,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MDc2MzY3Mw==","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-10T22:22:59Z","updated_at":"2020-09-10T22:22:59Z","body":"That that, for some reason, the iDigBio API says 502 internal server error, on serving beyond 100k items. See known issue https://github.com/iDigBio/idigbio-search-api/issues/32 .","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/690763673/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069693881","html_url":"https://github.com/bio-guoda/preston/issues/71#issuecomment-1069693881","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/71","id":1069693881,"node_id":"IC_kwDOCMmefs4_wju5","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-16T22:19:32Z","updated_at":"2022-03-16T22:19:32Z","body":"Using newly introduced  ```preston dwc-stream``` (https://github.com/bio-guoda/preston/issues/148) \r\n\r\nyou can now track images inside darwin core archives as demonstrated in the UCSB-ICZ example at  https://github.com/bio-guoda/preston/issues/148#issuecomment-1063419783 - \r\n\r\n\r\n\r\n\r\nexample for extracting image urls for UC Santa Barbara's @seltmann invertebrate zoology collection - \r\n\r\n```\r\npreston track \"https://serv.biokic.asu.edu/ecdysis/content/dwca/UCSB-IZC_DwC-A.zip\"\\\r\n | preston dwc-stream\\\r\n | grep \"http://rs.tdwg.org/ac/terms/Multimedia\"\\\r\n | jq --raw-output '.[\"http://rs.tdwg.org/ac/terms/goodQualityAccessURI\"], .[\"http://rs.tdwg.org/ac/terms/accessURI\"]'\\\r\n | sort\\\r\n | uniq\r\n> ucsb-izc-image-urls.txt\r\n```\r\n\r\nwith \r\n\r\n```\r\n$ cat ucsb-izc-image-urls.txt\r\n45530\r\n$ head  ucsb-izc-image-urls.txt\r\nhttps://serv.biokic.asu.edu/imglib/ecdysis/UCSB_IZC/UCSB-IZC00000/UCSB-IZC_00000001.jpg\r\nhttps://serv.biokic.asu.edu/imglib/ecdysis/UCSB_IZC/UCSB-IZC00000/UCSB-IZC00000001.jpg\r\nhttps://serv.biokic.asu.edu/imglib/ecdysis/UCSB_IZC/UCSB-IZC00000/UCSB-IZC_00000002.jpg\r\nhttps://serv.biokic.asu.edu/imglib/ecdysis/UCSB_IZC/UCSB-IZC00000/UCSB-IZC00000002.jpg\r\nhttps://serv.biokic.asu.edu/imglib/ecdysis/UCSB_IZC/UCSB-IZC00000/UCSB-IZC_00000003.jpg\r\nhttps://serv.biokic.asu.edu/imglib/ecdysis/UCSB_IZC/UCSB-IZC00000/UCSB-IZC00000003.jpg\r\nhttps://serv.biokic.asu.edu/imglib/ecdysis/UCSB_IZC/UCSB-IZC00000/UCSB-IZC_00000003_lg.jpg\r\nhttps://serv.biokic.asu.edu/imglib/ecdysis/UCSB_IZC/UCSB-IZC00000/UCSB-IZC_00000004.jpg\r\nhttps://serv.biokic.asu.edu/imglib/ecdysis/UCSB_IZC/UCSB-IZC00000/UCSB-IZC00000004.jpg\r\nhttps://serv.biokic.asu.edu/imglib/ecdysis/UCSB_IZC/UCSB-IZC00000/UCSB-IZC_00000004_lg.jpg\r\n```\r\n\r\n[ucsb-izc-image-urls.txt](https://github.com/bio-guoda/preston/files/8218444/ucsb-izc-image-urls.txt)\r\n\r\nNow, tracking all image urls . . . would be:\r\n\r\n```\r\ncat ucsb-izc-image-urls.txt\\\r\n| xargs -L100 preston track \r\n```\r\n\r\nSo, putting it together, you'd be able to track the UCSB-IZC and its images using:\r\n\r\n```\r\npreston track \"https://serv.biokic.asu.edu/ecdysis/content/dwca/UCSB-IZC_DwC-A.zip\"\\\r\n>  | preston dwc-stream\\\r\n>  | grep \"http://rs.tdwg.org/ac/terms/Multimedia\"\\\r\n>  | jq --raw-output '.[\"http://rs.tdwg.org/ac/terms/goodQualityAccessURI\"], .[\"http://rs.tdwg.org/ac/terms/accessURI\"]'\\\r\n>  | sort\\\r\n>  | uniq\\\r\n>  | xargs -L100 preston track\r\n```\r\n\r\n_Originally posted by @jhpoelen in https://github.com/bio-guoda/preston/issues/148#issuecomment-1063419783_","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069693881/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]