[{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069560025","html_url":"https://github.com/bio-guoda/preston/issues/150#issuecomment-1069560025","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/150","id":1069560025,"node_id":"IC_kwDOCMmefs4_wDDZ","user":{"login":"mielliott","id":9602463,"node_id":"MDQ6VXNlcjk2MDI0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9602463?v=4","gravatar_id":"","url":"https://api.github.com/users/mielliott","html_url":"https://github.com/mielliott","followers_url":"https://api.github.com/users/mielliott/followers","following_url":"https://api.github.com/users/mielliott/following{/other_user}","gists_url":"https://api.github.com/users/mielliott/gists{/gist_id}","starred_url":"https://api.github.com/users/mielliott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mielliott/subscriptions","organizations_url":"https://api.github.com/users/mielliott/orgs","repos_url":"https://api.github.com/users/mielliott/repos","events_url":"https://api.github.com/users/mielliott/events{/privacy}","received_events_url":"https://api.github.com/users/mielliott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-16T19:59:17Z","updated_at":"2022-03-16T19:59:33Z","body":"Note that `cat` can currently handle an input stream of hashes. So making this change, it will be able to handle a mixed stream of hashes and hasVersion statements","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069560025/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069608532","html_url":"https://github.com/bio-guoda/preston/issues/150#issuecomment-1069608532","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/150","id":1069608532,"node_id":"IC_kwDOCMmefs4_wO5U","user":{"login":"mielliott","id":9602463,"node_id":"MDQ6VXNlcjk2MDI0NjM=","avatar_url":"https://avatars.githubusercontent.com/u/9602463?v=4","gravatar_id":"","url":"https://api.github.com/users/mielliott","html_url":"https://github.com/mielliott","followers_url":"https://api.github.com/users/mielliott/followers","following_url":"https://api.github.com/users/mielliott/following{/other_user}","gists_url":"https://api.github.com/users/mielliott/gists{/gist_id}","starred_url":"https://api.github.com/users/mielliott/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mielliott/subscriptions","organizations_url":"https://api.github.com/users/mielliott/orgs","repos_url":"https://api.github.com/users/mielliott/repos","events_url":"https://api.github.com/users/mielliott/events{/privacy}","received_events_url":"https://api.github.com/users/mielliott/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-16T20:38:49Z","updated_at":"2022-03-16T20:38:49Z","body":"Now you can do\r\n```bash\r\n$ echo \"<urn:uuid:0659a54f-b713-4f86-a917-5be166a14110> <http://purl.org/pav/hasVersion> <hash://sha256/d8f72bd865686e99eac413b36d198fd15f305966d2864091320f1868279451ff> .\" \\\r\n| preston cat --remote https://raw.githubusercontent.com/bio-guoda/preston-amazon/master/data/ \\\r\n| head\r\n<https://preston.guoda.org> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www.w3.org/ns/prov#SoftwareAgent> .\r\n<https://preston.guoda.org> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www.w3.org/ns/prov#Agent> .\r\n<https://preston.guoda.org> <http://purl.org/dc/terms/description> \"Preston is a software program that finds, archives and provides access to biodiversity datasets.\"@en .\r\n<a12738d5-22d3-4e2d-9e98-e8daab4c42bc> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www.w3.org/ns/prov#Activity> .\r\n<a12738d5-22d3-4e2d-9e98-e8daab4c42bc> <http://purl.org/dc/terms/description> \"A crawl event that discovers biodiversity archives.\"@en .\r\n<a12738d5-22d3-4e2d-9e98-e8daab4c42bc> <http://www.w3.org/ns/prov#startedAtTime> \"2018-09-05T08:34:18.958Z\"^^<http://www.w3.org/2001/XMLSchema#dateTime> .\r\n<a12738d5-22d3-4e2d-9e98-e8daab4c42bc> <http://www.w3.org/ns/prov#wasStartedBy> <https://preston.guoda.org> .\r\n<0659a54f-b713-4f86-a917-5be166a14110> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www.w3.org/ns/prov#Entity> .\r\n<0659a54f-b713-4f86-a917-5be166a14110> <http://purl.org/dc/terms/description> \"A biodiversity graph archive.\"@en .\r\n<hash://sha256/6d86c332b045e74fe4410f79655a1f47596808c057f30779b9584dba38fa25d5> <http://www.w3.org/ns/prov#generatedAtTime> \"2018-09-05T08:34:19.891Z\"^^<http://www.w3.org/2001/XMLSchema#dateTime> .\r\n```\r\n\r\nand these are the same-ish:\r\n\r\n```bash\r\n$ preston history --remote https://raw.githubusercontent.com/bio-guoda/preston-amazon/master/data/\r\n| preston cat --remote https://raw.githubusercontent.com/bio-guoda/preston-amazon/master/data/\r\n| wc -l\r\n758\r\n$ preston ls | wc -l\r\n758\r\n$ preston history | preston cat | sha256sum\r\n7cca137d2d90bed017427a8cf3c8a015299cb837a60816dd707e14565da71051  -\r\n$ preston ls | sha256sum\r\nf68c9e2d7f6cc7aca49856e655b56dd9cf8e05476dab1d539550326ae6a17c7d  -\r\n```\r\n\r\nThe output hashes are different because `preston ls` prefixes UUIDs with \"urn:uuid:\"","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069608532/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069669840","html_url":"https://github.com/bio-guoda/preston/issues/150#issuecomment-1069669840","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/150","id":1069669840,"node_id":"IC_kwDOCMmefs4_wd3Q","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-16T21:49:51Z","updated_at":"2022-03-16T21:52:41Z","body":"Neat! \r\n\r\n@mielliott I think you just turned preston into a universal biodiversity streaming service. \r\n\r\n```\r\n$ preston ls --remote https://deeplinker.bio \\\r\n| preston cat --remote https://deeplinker.bio\\\r\n| jq .\\\r\n| head\r\n{\r\n  \"itemCount\": 78,\r\n  \"items\": [\r\n    {\r\n      \"uuid\": \"51290816-f682-4e38-a06c-03bf5df2442d\",\r\n      \"type\": \"publishers\",\r\n      \"etag\": \"8042902af0c83d7de00d42711bd3e4420c44452a\",\r\n      \"data\": {\r\n        \"rss_url\": \"https://www.morphosource.org/rss/ms.rss\",\r\n        \"name\": \"MorphoSource RSS feed\",\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069669840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069677860","html_url":"https://github.com/bio-guoda/preston/issues/150#issuecomment-1069677860","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/150","id":1069677860,"node_id":"IC_kwDOCMmefs4_wf0k","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-16T22:01:49Z","updated_at":"2022-03-16T22:01:49Z","body":"PS. I wonder whether it'd be possible to separate all the concatenated content after the universal:\r\n\r\ngimme-all-the-data command:\r\n\r\n```preston ls | preston cat > all_data```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069677860/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]