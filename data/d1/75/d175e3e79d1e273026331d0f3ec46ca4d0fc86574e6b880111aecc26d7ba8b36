[{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2547094554","html_url":"https://github.com/bio-guoda/preston/issues/314#issuecomment-2547094554","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/314","id":2547094554,"node_id":"IC_kwDOCMmefs6X0ZQa","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-16T23:16:53Z","updated_at":"2024-12-16T23:16:53Z","body":"Root cause of this issue is that Zenodo's search by md5 hashes does not appear to support credentials - and excludes hashes of restricted content.\r\n\r\nHowever, you can work around Zenodo search index limitation by publishing content signatures (e.g., hash://md5/587f269cfa00aa40b7b50243ea8bdab9) as metadata in the Zenodo record. \r\n\r\nNow, you can get the hit for the restricted record (the metadata is openly available), and use access controlled download links to retrieve the content.\r\n\r\nThis approach was applied for https://batlit.org , https://taxodros.github.io etc. \r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2547094554/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2547100024","html_url":"https://github.com/bio-guoda/preston/issues/314#issuecomment-2547100024","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/314","id":2547100024,"node_id":"IC_kwDOCMmefs6X0al4","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-16T23:19:41Z","updated_at":"2024-12-16T23:19:41Z","body":"Example search for \"hash://md5/587f269cfa00aa40b7b50243ea8bdab9\" shown below points to restricted record (at time of writing 2024-12-16).\r\n\r\n![image](https://github.com/user-attachments/assets/4f58be5e-11b1-4d29-a771-8b4eb2149e45)\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2547100024/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2547121796","html_url":"https://github.com/bio-guoda/preston/issues/314#issuecomment-2547121796","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/314","id":2547121796,"node_id":"IC_kwDOCMmefs6X0f6E","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-16T23:30:28Z","updated_at":"2024-12-16T23:30:28Z","body":"The desired functionality is now available, e.g.,\r\n\r\n```\r\nZENODO_TOKEN=[some token] preston cat --remote https://zenodo.org --no-progress hash://md5/587f269cfa00aa40b7b50243ea8bdab9 | md5sum\r\n```\r\n\r\nproduces the expected\r\n\r\n```\r\n587f269cfa00aa40b7b50243ea8bdab9\r\n```\r\n\r\nonly if the ZENODO_TOKEN is associated with an account with access to the restricted file.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2547121796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2547134320","html_url":"https://github.com/bio-guoda/preston/issues/314#issuecomment-2547134320","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/314","id":2547134320,"node_id":"IC_kwDOCMmefs6X0i9w","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-16T23:36:47Z","updated_at":"2024-12-16T23:36:47Z","body":"fyi @cboettig ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/2547134320/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]