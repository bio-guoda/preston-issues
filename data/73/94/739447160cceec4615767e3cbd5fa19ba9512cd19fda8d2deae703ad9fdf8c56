{"url":"https://api.github.com/repos/bio-guoda/preston/issues/74","repository_url":"https://api.github.com/repos/bio-guoda/preston","labels_url":"https://api.github.com/repos/bio-guoda/preston/issues/74/labels{/name}","comments_url":"https://api.github.com/repos/bio-guoda/preston/issues/74/comments","events_url":"https://api.github.com/repos/bio-guoda/preston/issues/74/events","html_url":"https://github.com/bio-guoda/preston/issues/74","id":695914042,"node_id":"MDU6SXNzdWU2OTU5MTQwNDI=","number":74,"title":"re: recording redirects","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2020-09-08T14:19:31Z","updated_at":"2024-03-07T21:31:57Z","closed_at":"2024-03-07T21:31:57Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Some http urls are redirected. \r\n\r\nFor instance, ```http://arctos.database.museum/media/10581707?open``` redirects to ```https://web.corral.tacc.utexas.edu/UAF/uam_ento/2018_05_22/UAM100271836.jpg``` via a http code 303 ```see also```. See example below.\r\n\r\nIn the current provenance log only the original url is recorded, but not the redirected. Suggest to record the redirected url to more precisely trace the origin of the request. \r\n\r\n```\r\n$ curl --verbose -L \"http://arctos.database.museum/media/10581707?open\"\r\n*   Trying 129.114.52.13...\r\n* TCP_NODELAY set\r\n* Connected to arctos.database.museum (129.114.52.13) port 80 (#0)\r\n> GET /media/10581707?open HTTP/1.1\r\n> Host: arctos.database.museum\r\n> User-Agent: curl/7.58.0\r\n> Accept: */*\r\n> \r\n< HTTP/1.1 303 See Other\r\n< Location: https://web.corral.tacc.utexas.edu/UAF/uam_ento/2018_05_22/UAM100271836.jpg\r\n< Content-Type: text/html;charset=UTF-8\r\n< Content-Length: 6292\r\n< Date: Tue, 08 Sep 2020 14:11:59 GMT\r\n< Server: lighttpd/1.4.55\r\n< \r\n* Ignoring the response-body\r\n* Connection #0 to host arctos.database.museum left intact\r\n* Issue another request to this URL: 'https://web.corral.tacc.utexas.edu/UAF/uam_ento/2018_05_22/UAM100271836.jpg'\r\n*   Trying 129.114.52.11...\r\n* TCP_NODELAY set\r\n* Connected to web.corral.tacc.utexas.edu (129.114.52.11) port 443 (#1)\r\n> GET /UAF/uam_ento/2018_05_22/UAM100271836.jpg HTTP/1.1\r\n> Host: web.corral.tacc.utexas.edu\r\n> User-Agent: curl/7.58.0\r\n> Accept: */*\r\n> \r\n< HTTP/1.1 200 OK\r\n< Content-Type: image/jpeg\r\n< Accept-Ranges: bytes\r\n< ETag: \"1426913146\"\r\n< Last-Modified: Tue, 22 May 2018 19:13:16 GMT\r\n< Strict-Transport-Security: max-age=15768000;\r\n< Content-Length: 699053\r\n< Date: Tue, 08 Sep 2020 13:25:23 GMT\r\n< Server: lighttpd/1.4.55\r\n```","closed_by":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/74/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bio-guoda/preston/issues/74/timeline","performed_via_github_app":null,"state_reason":"completed"}