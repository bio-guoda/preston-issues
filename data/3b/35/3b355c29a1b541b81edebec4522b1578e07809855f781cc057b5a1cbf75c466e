[{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1094336046","html_url":"https://github.com/bio-guoda/preston/issues/158#issuecomment-1094336046","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/158","id":1094336046,"node_id":"IC_kwDOCMmefs5BOj4u","user":{"login":"pgasu","id":4916317,"node_id":"MDQ6VXNlcjQ5MTYzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/4916317?v=4","gravatar_id":"","url":"https://api.github.com/users/pgasu","html_url":"https://github.com/pgasu","followers_url":"https://api.github.com/users/pgasu/followers","following_url":"https://api.github.com/users/pgasu/following{/other_user}","gists_url":"https://api.github.com/users/pgasu/gists{/gist_id}","starred_url":"https://api.github.com/users/pgasu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgasu/subscriptions","organizations_url":"https://api.github.com/users/pgasu/orgs","repos_url":"https://api.github.com/users/pgasu/repos","events_url":"https://api.github.com/users/pgasu/events{/privacy}","received_events_url":"https://api.github.com/users/pgasu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-10T17:50:06Z","updated_at":"2022-04-10T22:56:06Z","body":"I ran the same operations for version 68, and I got another couple of errors (as shown below). Please note that if I don't use 'parallel' with dwc-stream, the overall script results in the first error and then stops 'dwc-stream' operation, and runs the rest of the following commands. So , may be we need to modify 'dwc-stream' such that if it it encounters an error or corrupted file, just print the warning/error, skip the file and continue with the rest of the datasets.\r\n\r\n```\r\ntime preston history --log tsv --remote https://deeplinker.bio | head -n68 | tail -n1 | cut -f3 |\\ \r\npreston cat --remote https://deeplinker.bio |\\ \r\nparallel --pipe preston dwc-stream --remote https://deeplinker.bio |\\ \r\njq --raw-output '.[\"http://rs.tdwg.org/dwc/terms/scientificName\"] + \",\" +\\ \r\n.[\"http://rs.tdwg.org/dwc/terms/taxonRank\"] + \",\" + .[\"http://rs.tdwg.org/dwc/terms/class\"] + \",\" +\\ \r\n.[\"rowType\"] + \",\" + .[\"contentId\"]' | \\\r\nsort | uniq > raw_68.txt\r\n```\r\n\r\n```\r\njava.lang.IllegalStateException: java.text.ParseException: Unexpected character ('.' (code 46)): Expected column separator character (',' (code 44)) or end-of-line\r\n at [Source: (BufferedReader); line: 114943, column: 489]\r\n        at org.gbif.dwc.DwcRecordIterator.hasNext(DwcRecordIterator.java:85)\r\n        at org.gbif.dwc.DwCArchiveStreamHandler.handle(DwCArchiveStreamHandler.java:73)\r\n        at bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n        at bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:99)\r\n        at bio.guoda.preston.stream.ArchiveStreamHandler.handleArchiveEntries(ArchiveStreamHandler.java:60)\r\n        at bio.guoda.preston.stream.ArchiveStreamHandler.handle(ArchiveStreamHandler.java:29)\r\n        at bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n        at bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:99)\r\n        at bio.guoda.preston.process.DwcRecordExtractor.on(DwcRecordExtractor.java:64)\r\n        at bio.guoda.preston.cmd.CmdDwcRecordStream$1.emit(CmdDwcRecordStream.java:50)\r\n        at bio.guoda.preston.process.EmittingStreamRDF.copyOnEmit(EmittingStreamRDF.java:45)\r\n        at bio.guoda.preston.process.EmittingStreamRDF.parseAndEmit(EmittingStreamRDF.java:34)\r\n        at bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:55)\r\n        at bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:29)\r\n        at bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:18)\r\n        at bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:26)\r\n        at bio.guoda.preston.Preston.main(Preston.java:14)\r\nCaused by: java.text.ParseException: Unexpected character ('.' (code 46)): Expected column separator character (',' (code 44)) or end-of-line\r\n at [Source: (BufferedReader); line: 114943, column: 489]\r\n        at org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:119)\r\n        at org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:38)\r\n        at org.gbif.dwc.DwcRecordIterator.hasNext(DwcRecordIterator.java:78)\r\n        ... 16 more\r\njava.lang.IllegalStateException: java.text.ParseException: Unexpected character ('.' (code 46)): Expected column separator character (',' (code 44)) or end-of-line\r\n at [Source: (BufferedReader); line: 114943, column: 489]\r\n        at org.gbif.dwc.DwcRecordIterator.hasNext(DwcRecordIterator.java:85)\r\n        at org.gbif.dwc.DwCArchiveStreamHandler.handle(DwCArchiveStreamHandler.java:73)\r\n        at bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n        at bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:99)\r\n        at bio.guoda.preston.stream.ArchiveStreamHandler.handleArchiveEntries(ArchiveStreamHandler.java:60)\r\n        at bio.guoda.preston.stream.ArchiveStreamHandler.handle(ArchiveStreamHandler.java:29)\r\n        at bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n        at bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:99)\r\n        at bio.guoda.preston.process.DwcRecordExtractor.on(DwcRecordExtractor.java:64)\r\n        at bio.guoda.preston.cmd.CmdDwcRecordStream$1.emit(CmdDwcRecordStream.java:50)\r\n        at bio.guoda.preston.process.EmittingStreamRDF.copyOnEmit(EmittingStreamRDF.java:45)\r\n        at bio.guoda.preston.process.EmittingStreamRDF.parseAndEmit(EmittingStreamRDF.java:34)\r\n        at bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:55)\r\n        at bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:29)\r\n        at bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:18)\r\n        at bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:26)\r\n        at bio.guoda.preston.Preston.main(Preston.java:14)\r\nCaused by: java.text.ParseException: Unexpected character ('.' (code 46)): Expected column separator character (',' (code 44)) or end-of-line\r\n at [Source: (BufferedReader); line: 114943, column: 489]\r\n        at org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:119)\r\n        at org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:38)\r\n        at org.gbif.dwc.DwcRecordIterator.hasNext(DwcRecordIterator.java:78)\r\n        ... 16 more\r\n```\r\n\r\n```\r\n[main] ERROR bio.guoda.preston.cmd.CmdLine - unexpected exception\r\njava.lang.RuntimeException: Input length = 1\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.databind.MappingIterator._handleIOException(MappingIterator.java:417)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.databind.MappingIterator.next(MappingIterator.java:203)\r\n        at org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:109)\r\n        at org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:38)\r\n        at org.gbif.dwc.DwcRecordIterator.hasNext(DwcRecordIterator.java:78)\r\n        at org.gbif.dwc.DwCArchiveStreamHandler.handle(DwCArchiveStreamHandler.java:73)\r\n        at bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n        at bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:99)\r\n        at bio.guoda.preston.stream.ArchiveStreamHandler.handleArchiveEntries(ArchiveStreamHandler.java:60)\r\n        at bio.guoda.preston.stream.ArchiveStreamHandler.handle(ArchiveStreamHandler.java:29)\r\n        at bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n        at bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:99)\r\n        at bio.guoda.preston.process.DwcRecordExtractor.on(DwcRecordExtractor.java:64)\r\n        at bio.guoda.preston.cmd.CmdDwcRecordStream$1.emit(CmdDwcRecordStream.java:50)\r\n        at bio.guoda.preston.process.EmittingStreamRDF.copyOnEmit(EmittingStreamRDF.java:45)\r\n        at bio.guoda.preston.process.EmittingStreamRDF.parseAndEmit(EmittingStreamRDF.java:34)\r\n        at bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:55)\r\n        at bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:29)\r\n        at bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:18)\r\n        at bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:26)\r\n        at bio.guoda.preston.Preston.main(Preston.java:14)\r\nCaused by: java.nio.charset.MalformedInputException: Input length = 1\r\n        at java.nio.charset.CoderResult.throwException(CoderResult.java:281)\r\n        at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:339)\r\n        at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n        at java.io.InputStreamReader.read(InputStreamReader.java:184)\r\n        at java.io.BufferedReader.fill(BufferedReader.java:161)\r\n        at java.io.BufferedReader.read1(BufferedReader.java:212)\r\n        at java.io.BufferedReader.read(BufferedReader.java:286)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.dataformat.csv.impl.CsvDecoder.loadMore(CsvDecoder.java:443)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.dataformat.csv.impl.CsvDecoder._nextQuotedString(CsvDecoder.java:813)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.dataformat.csv.impl.CsvDecoder.nextString(CsvDecoder.java:659)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.dataformat.csv.CsvParser._handleUnnamedValue(CsvParser.java:903)\r\njava.lang.RuntimeException: Input length = 1\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.dataformat.csv.CsvParser.nextToken(CsvParser.java:620)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:281)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:249)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:26)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.databind.MappingIterator.nextValue(MappingIterator.java:280)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.databind.MappingIterator.next(MappingIterator.java:199)\r\n        ... 19 more\r\njava.lang.RuntimeException: Input length = 1\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.databind.MappingIterator._handleIOException(MappingIterator.java:417)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.databind.MappingIterator.next(MappingIterator.java:203)\r\n        at org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:109)\r\n        at org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:38)\r\n        at org.gbif.dwc.DwcRecordIterator.hasNext(DwcRecordIterator.java:78)\r\n        at org.gbif.dwc.DwCArchiveStreamHandler.handle(DwCArchiveStreamHandler.java:73)\r\n        at bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n        at bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:99)\r\n        at bio.guoda.preston.stream.ArchiveStreamHandler.handleArchiveEntries(ArchiveStreamHandler.java:60)\r\n        at bio.guoda.preston.stream.ArchiveStreamHandler.handle(ArchiveStreamHandler.java:29)\r\n        at bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n        at bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:99)\r\n        at bio.guoda.preston.process.DwcRecordExtractor.on(DwcRecordExtractor.java:64)\r\n        at bio.guoda.preston.cmd.CmdDwcRecordStream$1.emit(CmdDwcRecordStream.java:50)\r\n        at bio.guoda.preston.process.EmittingStreamRDF.copyOnEmit(EmittingStreamRDF.java:45)\r\n        at bio.guoda.preston.process.EmittingStreamRDF.parseAndEmit(EmittingStreamRDF.java:34)\r\n        at bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:55)\r\n        at bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:29)\r\n        at bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:18)\r\n        at bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:26)\r\n        at bio.guoda.preston.Preston.main(Preston.java:14)\r\nCaused by: java.nio.charset.MalformedInputException: Input length = 1\r\n        at java.nio.charset.CoderResult.throwException(CoderResult.java:281)\r\n        at sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:339)\r\n        at sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n        at java.io.InputStreamReader.read(InputStreamReader.java:184)\r\n        at java.io.BufferedReader.fill(BufferedReader.java:161)\r\n        at java.io.BufferedReader.read1(BufferedReader.java:212)\r\n        at java.io.BufferedReader.read(BufferedReader.java:286)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.dataformat.csv.impl.CsvDecoder.loadMore(CsvDecoder.java:443)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.dataformat.csv.impl.CsvDecoder._nextQuotedString(CsvDecoder.java:813)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.dataformat.csv.impl.CsvDecoder.nextString(CsvDecoder.java:659)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.dataformat.csv.CsvParser._handleUnnamedValue(CsvParser.java:903)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.dataformat.csv.CsvParser.nextToken(CsvParser.java:620)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:281)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:249)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:26)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.databind.MappingIterator.nextValue(MappingIterator.java:280)\r\n        at org.gbif.common.shaded.com.fasterxml.jackson.databind.MappingIterator.next(MappingIterator.java:199)\r\n        ... 19 more\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1094336046/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1098288966","html_url":"https://github.com/bio-guoda/preston/issues/158#issuecomment-1098288966","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/158","id":1098288966,"node_id":"IC_kwDOCMmefs5Bdo9G","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T17:08:49Z","updated_at":"2022-04-13T17:08:49Z","body":"@pgasu I was able to reproduce the issue you found. To help identify the suspicious resource, I added some logging information to the upcoming Preston release. Note that in the error message below, the hash uri (or content id) is included. Now that we know the content ids, the exact provenance can be derived of the suspicious resources can be more easily derived.\r\n\r\n```\r\n[main] WARN bio.guoda.preston.process.DwcRecordExtractor - suspicious DwC resource [hash://sha256/bb95b5357711b8652ef0ea4dc36bfa48e5355ed5ab574b7c0b7e333b60232c89] caused errors in processing\r\nbio.guoda.preston.stream.ContentStreamException: failed to handle dwc records from [zip:hash://sha256/bb95b5357711b8652ef0ea4dc36bfa48e5355ed5ab574b7c0b7e333b60232c89!/occurrence.txt]\r\n\tat org.gbif.dwc.DwCArchiveStreamHandler.handleAssumedDwCArchive(DwCArchiveStreamHandler.java:87)\r\n\tat org.gbif.dwc.DwCArchiveStreamHandler.handle(DwCArchiveStreamHandler.java:55)\r\n\tat bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n\tat bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:98)\r\n\tat bio.guoda.preston.stream.ArchiveStreamHandler.handleArchiveEntries(ArchiveStreamHandler.java:60)\r\n\tat bio.guoda.preston.stream.ArchiveStreamHandler.handle(ArchiveStreamHandler.java:29)\r\n\tat bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n\tat bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:98)\r\n\tat bio.guoda.preston.process.DwcRecordExtractor.on(DwcRecordExtractor.java:62)\r\n\tat bio.guoda.preston.cmd.CmdDwcRecordStream$1.emit(CmdDwcRecordStream.java:47)\r\n\tat bio.guoda.preston.process.EmittingStreamRDF.copyOnEmit(EmittingStreamRDF.java:55)\r\n\tat bio.guoda.preston.process.EmittingStreamRDF.parseAndEmit(EmittingStreamRDF.java:44)\r\n\tat bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:52)\r\n\tat bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:27)\r\n\tat bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:18)\r\n\tat bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:26)\r\n\tat bio.guoda.preston.Preston.main(Preston.java:14)\r\nCaused by: java.lang.RuntimeException: Truncated ZIP file\r\n\tat org.gbif.common.shaded.com.fasterxml.jackson.databind.MappingIterator._handleIOException(MappingIterator.java:417)\r\n\tat org.gbif.common.shaded.com.fasterxml.jackson.databind.MappingIterator.next(MappingIterator.java:203)\r\n\tat org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:109)\r\n\tat org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:38)\r\n\tat org.gbif.dwc.DwcRecordIterator.hasNext(DwcRecordIterator.java:78)\r\n\tat org.gbif.dwc.DwCArchiveStreamHandler.handleAssumedDwCArchive(DwCArchiveStreamHandler.java:83)\r\n\t... 16 more\r\nCaused by: java.io.IOException: Truncated ZIP file\r\n\tat org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.readDeflated(ZipArchiveInputStream.java:636)\r\n\tat org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.read(ZipArchiveInputStream.java:528)\r\n\tat sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\r\n\tat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\r\n\tat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n\tat java.io.InputStreamReader.read(InputStreamReader.java:184)\r\n\tat java.io.BufferedReader.fill(BufferedReader.java:161)\r\n\tat java.io.BufferedReader.read1(BufferedReader.java:212)\r\n\tat java.io.BufferedReader.read(BufferedReader.java:286)\r\n\tat org.gbif.common.shaded.com.fasterxml.jackson.dataformat.csv.impl.CsvDecoder.loadMore(CsvDecoder.java:443)\r\n\tat org.gbif.common.shaded.com.fasterxml.jackson.dataformat.csv.impl.CsvDecoder._nextUnquotedString(CsvDecoder.java:764)\r\n\tat org.gbif.common.shaded.com.fasterxml.jackson.dataformat.csv.impl.CsvDecoder.nextString(CsvDecoder.java:714)\r\n\tat org.gbif.common.shaded.com.fasterxml.jackson.dataformat.csv.CsvParser._handleUnnamedValue(CsvParser.java:903)\r\n\tat org.gbif.common.shaded.com.fasterxml.jackson.dataformat.csv.CsvParser.nextToken(CsvParser.java:620)\r\n\tat org.gbif.common.shaded.com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:281)\r\n\tat org.gbif.common.shaded.com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:249)\r\n\tat org.gbif.common.shaded.com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:26)\r\n\tat org.gbif.common.shaded.com.fasterxml.jackson.databind.MappingIterator.nextValue(MappingIterator.java:280)\r\n\tat org.gbif.common.shaded.com.fasterxml.jackson.databind.MappingIterator.next(MappingIterator.java:199)\r\n\t... 20 more\r\n[main] WARN bio.guoda.preston.process.DwcRecordExtractor - suspicious DwC resource [hash://sha256/9e19b4069017c64a31d693fc5cf296e264c40aadaa475c35e36aea0e0348e6fb] caused errors in processing\r\nbio.guoda.preston.stream.ContentStreamException: failed to handle dwc records from [zip:hash://sha256/9e19b4069017c64a31d693fc5cf296e264c40aadaa475c35e36aea0e0348e6fb!/DarwinCore.txt]\r\n\tat org.gbif.dwc.DwCArchiveStreamHandler.handleAssumedDwCArchive(DwCArchiveStreamHandler.java:87)\r\n\tat org.gbif.dwc.DwCArchiveStreamHandler.handle(DwCArchiveStreamHandler.java:55)\r\n\tat bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n\tat bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:98)\r\n\tat bio.guoda.preston.stream.ArchiveStreamHandler.handleArchiveEntries(ArchiveStreamHandler.java:60)\r\n\tat bio.guoda.preston.stream.ArchiveStreamHandler.handle(ArchiveStreamHandler.java:29)\r\n\tat bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n\tat bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:98)\r\n\tat bio.guoda.preston.process.DwcRecordExtractor.on(DwcRecordExtractor.java:62)\r\n\tat bio.guoda.preston.cmd.CmdDwcRecordStream$1.emit(CmdDwcRecordStream.java:47)\r\n\tat bio.guoda.preston.process.EmittingStreamRDF.copyOnEmit(EmittingStreamRDF.java:55)\r\n\tat bio.guoda.preston.process.EmittingStreamRDF.parseAndEmit(EmittingStreamRDF.java:44)\r\n\tat bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:52)\r\n\tat bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:27)\r\n\tat bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:18)\r\n\tat bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:26)\r\n\tat bio.guoda.preston.Preston.main(Preston.java:14)\r\nCaused by: java.lang.IllegalStateException: java.text.ParseException: Unexpected character ('V' (code 86)): Expected column separator character (',' (code 44)) or end-of-line\r\n at [Source: (BufferedReader); line: 859, column: 193]\r\n\tat org.gbif.dwc.DwcRecordIterator.hasNext(DwcRecordIterator.java:85)\r\n\tat org.gbif.dwc.DwCArchiveStreamHandler.handleAssumedDwCArchive(DwCArchiveStreamHandler.java:83)\r\n\t... 16 more\r\nCaused by: java.text.ParseException: Unexpected character ('V' (code 86)): Expected column separator character (',' (code 44)) or end-of-line\r\n at [Source: (BufferedReader); line: 859, column: 193]\r\n\tat org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:119)\r\n\tat org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:38)\r\n\tat org.gbif.dwc.DwcRecordIterator.hasNext(DwcRecordIterator.java:78)\r\n\t... 17 more\r\n[main] WARN bio.guoda.preston.process.DwcRecordExtractor - suspicious DwC resource [hash://sha256/db5cd1d7c8738c6f5ad241878a4fdc9929b719e4261ef9e1b72bbe8275e6eb92] caused errors in processing\r\nbio.guoda.preston.stream.ContentStreamException: failed to handle dwc records from [zip:hash://sha256/db5cd1d7c8738c6f5ad241878a4fdc9929b719e4261ef9e1b72bbe8275e6eb92!/DarwinCore.txt]\r\n\tat org.gbif.dwc.DwCArchiveStreamHandler.handleAssumedDwCArchive(DwCArchiveStreamHandler.java:87)\r\n\tat org.gbif.dwc.DwCArchiveStreamHandler.handle(DwCArchiveStreamHandler.java:55)\r\n\tat bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n\tat bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:98)\r\n\tat bio.guoda.preston.stream.ArchiveStreamHandler.handleArchiveEntries(ArchiveStreamHandler.java:60)\r\n\tat bio.guoda.preston.stream.ArchiveStreamHandler.handle(ArchiveStreamHandler.java:29)\r\n\tat bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n\tat bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:98)\r\n\tat bio.guoda.preston.process.DwcRecordExtractor.on(DwcRecordExtractor.java:62)\r\n\tat bio.guoda.preston.cmd.CmdDwcRecordStream$1.emit(CmdDwcRecordStream.java:47)\r\n\tat bio.guoda.preston.process.EmittingStreamRDF.copyOnEmit(EmittingStreamRDF.java:55)\r\n\tat bio.guoda.preston.process.EmittingStreamRDF.parseAndEmit(EmittingStreamRDF.java:44)\r\n\tat bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:52)\r\n\tat bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:27)\r\n\tat bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:18)\r\n\tat bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:26)\r\n\tat bio.guoda.preston.Preston.main(Preston.java:14)\r\nCaused by: java.lang.IllegalStateException: java.text.ParseException: Unexpected character ('P' (code 80)): Expected column separator character (',' (code 44)) or end-of-line\r\n at [Source: (BufferedReader); line: 1961, column: 299]\r\n\tat org.gbif.dwc.DwcRecordIterator.hasNext(DwcRecordIterator.java:85)\r\n\tat org.gbif.dwc.DwCArchiveStreamHandler.handleAssumedDwCArchive(DwCArchiveStreamHandler.java:83)\r\n\t... 16 more\r\nCaused by: java.text.ParseException: Unexpected character ('P' (code 80)): Expected column separator character (',' (code 44)) or end-of-line\r\n at [Source: (BufferedReader); line: 1961, column: 299]\r\n\tat org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:119)\r\n\tat org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:38)\r\n\tat org.gbif.dwc.DwcRecordIterator.hasNext(DwcRecordIterator.java:78)\r\n\t... 17 more\r\n[main] WARN bio.guoda.preston.process.DwcRecordExtractor - suspicious DwC resource [hash://sha256/d47fa5353f0a5a78ac0eb74db37f89f1ac255b8065f75bc35bc124c62047035c] caused errors in processing\r\nbio.guoda.preston.stream.ContentStreamException: failed to handle dwc records from [zip:hash://sha256/d47fa5353f0a5a78ac0eb74db37f89f1ac255b8065f75bc35bc124c62047035c!/occurrence.txt]\r\n\tat org.gbif.dwc.DwCArchiveStreamHandler.handleAssumedDwCArchive(DwCArchiveStreamHandler.java:87)\r\n\tat org.gbif.dwc.DwCArchiveStreamHandler.handle(DwCArchiveStreamHandler.java:55)\r\n\tat bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n\tat bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:98)\r\n\tat bio.guoda.preston.stream.ArchiveStreamHandler.handleArchiveEntries(ArchiveStreamHandler.java:60)\r\n\tat bio.guoda.preston.stream.ArchiveStreamHandler.handle(ArchiveStreamHandler.java:29)\r\n\tat bio.guoda.preston.stream.ContentStreamHandlerImpl.handle(ContentStreamHandlerImpl.java:35)\r\n\tat bio.guoda.preston.process.DwcRecordExtractor$MyContentStreamHandlerImpl.handle(DwcRecordExtractor.java:98)\r\n\tat bio.guoda.preston.process.DwcRecordExtractor.on(DwcRecordExtractor.java:62)\r\n\tat bio.guoda.preston.cmd.CmdDwcRecordStream$1.emit(CmdDwcRecordStream.java:47)\r\n\tat bio.guoda.preston.process.EmittingStreamRDF.copyOnEmit(EmittingStreamRDF.java:55)\r\n\tat bio.guoda.preston.process.EmittingStreamRDF.parseAndEmit(EmittingStreamRDF.java:44)\r\n\tat bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:52)\r\n\tat bio.guoda.preston.cmd.CmdDwcRecordStream.run(CmdDwcRecordStream.java:27)\r\n\tat bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:18)\r\n\tat bio.guoda.preston.cmd.CmdLine.run(CmdLine.java:26)\r\n\tat bio.guoda.preston.Preston.main(Preston.java:14)\r\nCaused by: java.lang.IllegalStateException: java.text.ParseException: Unexpected character ('\"' (code 34)): Expected column separator character (',' (code 44)) or end-of-line\r\n at [Source: (BufferedReader); line: 2, column: 24]\r\n\tat org.gbif.dwc.DwcRecordIterator.hasNext(DwcRecordIterator.java:85)\r\n\tat org.gbif.dwc.DwCArchiveStreamHandler.handleAssumedDwCArchive(DwCArchiveStreamHandler.java:83)\r\n\t... 16 more\r\nCaused by: java.text.ParseException: Unexpected character ('\"' (code 34)): Expected column separator character (',' (code 44)) or end-of-line\r\n at [Source: (BufferedReader); line: 2, column: 24]\r\n\tat org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:119)\r\n\tat org.gbif.utils.file.tabular.JacksonCsvFileReader.read(JacksonCsvFileReader.java:38)\r\n\tat org.gbif.dwc.DwcRecordIterator.hasNext(DwcRecordIterator.java:78)\r\n\t... 17 more\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1098288966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1098299714","html_url":"https://github.com/bio-guoda/preston/issues/158#issuecomment-1098299714","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/158","id":1098299714,"node_id":"IC_kwDOCMmefs5BdrlC","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T17:20:50Z","updated_at":"2022-04-13T17:31:23Z","body":"The follow content ids were causing the issues seen\r\n\r\nhash://sha256/bb95b5357711b8652ef0ea4dc36bfa48e5355ed5ab574b7c0b7e333b60232c89 \r\n\r\nwas retrieved from http://ipt-inpn.gbif.fr/archive.do?r=IPT-6C62C6AA-288B-5AE0-E053-2614A8C0C021 on 2019-09-01T11:10:04.772Z . \r\n\r\nfrom provenance:\r\n\r\n```\r\n$ preston history --log tsv | head -n38 | tail -n1 | cut -f3 | preston cat | grep --after 10 --before 10 hash://sha256/bb95b5357711b8652ef0ea4dc36bfa48e5355ed5ab574b7c0b7e333b60232c89\r\n<hash://sha256/85997b54f8ad86e21b3b15ed392cd30280c0965feb2a63b467641f22b3c51db4> <http://www.w3.org/ns/prov#wasGeneratedBy> <501dadd3-0468-4a12-b6a9-1cd6c228be70> .\r\n<hash://sha256/85997b54f8ad86e21b3b15ed392cd30280c0965feb2a63b467641f22b3c51db4> <http://www.w3.org/ns/prov#qualifiedGeneration> <c0d6631a-1ec6-4bb1-a429-077791e63d47> .\r\n<c0d6631a-1ec6-4bb1-a429-077791e63d47> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www.w3.org/ns/prov#Generation> .\r\n<c0d6631a-1ec6-4bb1-a429-077791e63d47> <http://www.w3.org/ns/prov#activity> <501dadd3-0468-4a12-b6a9-1cd6c228be70> .\r\n<c0d6631a-1ec6-4bb1-a429-077791e63d47> <http://www.w3.org/ns/prov#used> <http://ipt-inpn.gbif.fr/eml.do?r=IPT-6386AA2E-7597-5FE3-E053-2614A8C00573> .\r\n<http://ipt-inpn.gbif.fr/eml.do?r=IPT-6386AA2E-7597-5FE3-E053-2614A8C00573> <http://purl.org/pav/hasVersion> <hash://sha256/85997b54f8ad86e21b3b15ed392cd30280c0965feb2a63b467641f22b3c51db4> .\r\n<hash://sha256/14afc84936c197ab0ce367dc20845aef9f85ba9c7c687f3ec90b8e6306de706c> <http://www.w3.org/ns/prov#hadMember> <66551429-5e35-4848-94f5-b13bcad669a5> .\r\n<66551429-5e35-4848-94f5-b13bcad669a5> <http://www.w3.org/1999/02/22-rdf-syntax-ns#seeAlso> <https://doi.org/10.15468/3kmwvz> .\r\n<66551429-5e35-4848-94f5-b13bcad669a5> <http://www.w3.org/ns/prov#hadMember> <http://ipt-inpn.gbif.fr/archive.do?r=IPT-6C62C6AA-288B-5AE0-E053-2614A8C0C021> .\r\n<http://ipt-inpn.gbif.fr/archive.do?r=IPT-6C62C6AA-288B-5AE0-E053-2614A8C0C021> <http://purl.org/dc/elements/1.1/format> \"application/dwca\" .\r\n<hash://sha256/bb95b5357711b8652ef0ea4dc36bfa48e5355ed5ab574b7c0b7e333b60232c89> <http://www.w3.org/ns/prov#generatedAtTime> \"2019-09-01T11:10:04.772Z\"^^<http://www.w3.org/2001/XMLSchema#dateTime> .\r\n<hash://sha256/bb95b5357711b8652ef0ea4dc36bfa48e5355ed5ab574b7c0b7e333b60232c89> <http://www.w3.org/ns/prov#wasGeneratedBy> <501dadd3-0468-4a12-b6a9-1cd6c228be70> .\r\n<hash://sha256/bb95b5357711b8652ef0ea4dc36bfa48e5355ed5ab574b7c0b7e333b60232c89> <http://www.w3.org/ns/prov#qualifiedGeneration> <726f1fa3-013d-4aaf-88f1-3b7913ef0b2b> .\r\n<726f1fa3-013d-4aaf-88f1-3b7913ef0b2b> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www.w3.org/ns/prov#Generation> .\r\n<726f1fa3-013d-4aaf-88f1-3b7913ef0b2b> <http://www.w3.org/ns/prov#activity> <501dadd3-0468-4a12-b6a9-1cd6c228be70> .\r\n<726f1fa3-013d-4aaf-88f1-3b7913ef0b2b> <http://www.w3.org/ns/prov#used> <http://ipt-inpn.gbif.fr/archive.do?r=IPT-6C62C6AA-288B-5AE0-E053-2614A8C0C021> .\r\n<http://ipt-inpn.gbif.fr/archive.do?r=IPT-6C62C6AA-288B-5AE0-E053-2614A8C0C021> <http://purl.org/pav/hasVersion> <hash://sha256/bb95b5357711b8652ef0ea4dc36bfa48e5355ed5ab574b7c0b7e333b60232c89> .\r\n<66551429-5e35-4848-94f5-b13bcad669a5> <http://www.w3.org/ns/prov#hadMember> <http://ipt-inpn.gbif.fr/eml.do?r=IPT-6C62C6AA-288B-5AE0-E053-2614A8C0C021> .\r\n<http://ipt-inpn.gbif.fr/eml.do?r=IPT-6C62C6AA-288B-5AE0-E053-2614A8C0C021> <http://purl.org/dc/elements/1.1/format> \"application/eml\" .\r\n<hash://sha256/587574aa16ade59c5320f403fccf3410cef403a21a24c4f830f336d8a7965484> <http://www.w3.org/ns/prov#generatedAtTime> \"2019-09-01T11:10:04.901Z\"^^<http://www.w3.org/2001/XMLSchema#dateTime> .\r\n<hash://sha256/587574aa16ade59c5320f403fccf3410cef403a21a24c4f830f336d8a7965484> <http://www.w3.org/ns/prov#wasGeneratedBy> <501dadd3-0468-4a12-b6a9-1cd6c228be70> .\r\n<hash://sha256/587574aa16ade59c5320f403fccf3410cef403a21a24c4f830f336d8a7965484> <http://www.w3.org/ns/prov#qualifiedGeneration> <cf62d96f-14fd-45bf-8847-5cccecdcb68c> .\r\n<cf62d96f-14fd-45bf-8847-5cccecdcb68c> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www.w3.org/ns/prov#Generation> .\r\n<cf62d96f-14fd-45bf-8847-5cccecdcb68c> <http://www.w3.org/ns/prov#activity> <501dadd3-0468-4a12-b6a9-1cd6c228be70> .\r\n<cf62d96f-14fd-45bf-8847-5cccecdcb68c> <http://www.w3.org/ns/prov#used> <http://ipt-inpn.gbif.fr/eml.do?r=IPT-6C62C6AA-288B-5AE0-E053-2614A8C0C021> .\r\n<http://ipt-inpn.gbif.fr/eml.do?r=IPT-6C62C6AA-288B-5AE0-E053-2614A8C0C021> <http://purl.org/pav/hasVersion> <hash://sha256/587574aa16ade59c5320f403fccf3410cef403a21a24c4f830f336d8a7965484> .\r\n<hash://sha256/14afc84936c197ab0ce367dc20845aef9f85ba9c7c687f3ec90b8e6306de706c> <http://www.w3.org/ns/prov#hadMember> <1fec2829-4ac0-4329-b448-6f768b8d3427> .\r\n```\r\n\r\n(truncated zip) (see attached)\r\n\r\nhash://sha256/d47fa5353f0a5a78ac0eb74db37f89f1ac255b8065f75bc35bc124c62047035c (unexpected character)  \r\n\r\nwas retrieved from https://drive.google.com/uc?export=download&id=0B-BbRNUB6S7aSVdYSjNpbkZsM1E on 2019-09-01T12:49:22.050Z . See also https://www.gbif.org/dataset/62d82928-dc6f-40dc-85b3-f2be47e7b49a and https://doi.org/10.15468/17e8en .\r\n\r\nfrom provenance - \r\n\r\n```\r\n$ preston history --log tsv | head -n38 | tail -n1 | cut -f3 | preston cat | grep --after 10 --before 10 hash://sha256/d47fa5353f0a5a78ac0eb74db37f89f1ac255b8065f75bc35bc124c62047035c \r\n<hash://sha256/7d4385886aa3e0ebd3533651b5fd9a1d6c06738fd66a87a20ec502aee077bfed> <http://www.w3.org/ns/prov#wasGeneratedBy> <501dadd3-0468-4a12-b6a9-1cd6c228be70> .\r\n<hash://sha256/7d4385886aa3e0ebd3533651b5fd9a1d6c06738fd66a87a20ec502aee077bfed> <http://www.w3.org/ns/prov#qualifiedGeneration> <c2b5356e-d594-4be4-abbf-eca37a66607e> .\r\n<c2b5356e-d594-4be4-abbf-eca37a66607e> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www.w3.org/ns/prov#Generation> .\r\n<c2b5356e-d594-4be4-abbf-eca37a66607e> <http://www.w3.org/ns/prov#activity> <501dadd3-0468-4a12-b6a9-1cd6c228be70> .\r\n<c2b5356e-d594-4be4-abbf-eca37a66607e> <http://www.w3.org/ns/prov#used> <http://tb.plazi.org/GgServer/dwca/FFB3092B7068BC729535FFB9FFA05F36.zip> .\r\n<http://tb.plazi.org/GgServer/dwca/FFB3092B7068BC729535FFB9FFA05F36.zip> <http://purl.org/pav/hasVersion> <hash://sha256/7d4385886aa3e0ebd3533651b5fd9a1d6c06738fd66a87a20ec502aee077bfed> .\r\n<hash://sha256/afdbe7a01bb39c510f0dee1c467541447e388adc7a35dd2d343029ed281f490a> <http://www.w3.org/ns/prov#hadMember> <62d82928-dc6f-40dc-85b3-f2be47e7b49a> .\r\n<62d82928-dc6f-40dc-85b3-f2be47e7b49a> <http://www.w3.org/1999/02/22-rdf-syntax-ns#seeAlso> <https://doi.org/10.15468/17e8en> .\r\n<62d82928-dc6f-40dc-85b3-f2be47e7b49a> <http://www.w3.org/ns/prov#hadMember> <https://drive.google.com/uc?export=download&id=0B-BbRNUB6S7aSVdYSjNpbkZsM1E> .\r\n<https://drive.google.com/uc?export=download&id=0B-BbRNUB6S7aSVdYSjNpbkZsM1E> <http://purl.org/dc/elements/1.1/format> \"application/dwca\" .\r\n<hash://sha256/d47fa5353f0a5a78ac0eb74db37f89f1ac255b8065f75bc35bc124c62047035c> <http://www.w3.org/ns/prov#generatedAtTime> \"2019-09-01T12:49:22.050Z\"^^<http://www.w3.org/2001/XMLSchema#dateTime> .\r\n<hash://sha256/d47fa5353f0a5a78ac0eb74db37f89f1ac255b8065f75bc35bc124c62047035c> <http://www.w3.org/ns/prov#wasGeneratedBy> <501dadd3-0468-4a12-b6a9-1cd6c228be70> .\r\n<hash://sha256/d47fa5353f0a5a78ac0eb74db37f89f1ac255b8065f75bc35bc124c62047035c> <http://www.w3.org/ns/prov#qualifiedGeneration> <4a553dbd-6d85-4cc4-9d02-db284af50b92> .\r\n<4a553dbd-6d85-4cc4-9d02-db284af50b92> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www.w3.org/ns/prov#Generation> .\r\n<4a553dbd-6d85-4cc4-9d02-db284af50b92> <http://www.w3.org/ns/prov#activity> <501dadd3-0468-4a12-b6a9-1cd6c228be70> .\r\n<4a553dbd-6d85-4cc4-9d02-db284af50b92> <http://www.w3.org/ns/prov#used> <https://drive.google.com/uc?export=download&id=0B-BbRNUB6S7aSVdYSjNpbkZsM1E> .\r\n<https://drive.google.com/uc?export=download&id=0B-BbRNUB6S7aSVdYSjNpbkZsM1E> <http://purl.org/pav/hasVersion> <hash://sha256/d47fa5353f0a5a78ac0eb74db37f89f1ac255b8065f75bc35bc124c62047035c> .\r\n<hash://sha256/afdbe7a01bb39c510f0dee1c467541447e388adc7a35dd2d343029ed281f490a> <http://www.w3.org/ns/prov#hadMember> <09cac3e8-42f4-41cf-a121-488602a8429d> .\r\n<09cac3e8-42f4-41cf-a121-488602a8429d> <http://www.w3.org/1999/02/22-rdf-syntax-ns#seeAlso> <https://doi.org/10.5281/zenodo.1048224> .\r\n<09cac3e8-42f4-41cf-a121-488602a8429d> <http://www.w3.org/ns/prov#hadMember> <http://tb.plazi.org/GgServer/dwca/FFCC8B0CFFA3FF80A43F537CFFC6F93F.zip> .\r\n<http://tb.plazi.org/GgServer/dwca/FFCC8B0CFFA3FF80A43F537CFFC6F93F.zip> <http://purl.org/dc/elements/1.1/format> \"application/dwca\" .\r\n<hash://sha256/a0cc1850821e1a9914e24fb7d6dff2bd9bb352afc269ed0c67220017cd520d44> <http://www.w3.org/ns/prov#generatedAtTime> \"2019-09-01T12:49:22.112Z\"^^<http://www.w3.org/2001/XMLSchema#dateTime> .\r\n<hash://sha256/a0cc1850821e1a9914e24fb7d6dff2bd9bb352afc269ed0c67220017cd520d44> <http://www.w3.org/ns/prov#wasGeneratedBy> <501dadd3-0468-4a12-b6a9-1cd6c228be70> .\r\n<hash://sha256/a0cc1850821e1a9914e24fb7d6dff2bd9bb352afc269ed0c67220017cd520d44> <http://www.w3.org/ns/prov#qualifiedGeneration> <cce9fc0e-9eb5-4919-b351-fb32ff077020> .\r\n<cce9fc0e-9eb5-4919-b351-fb32ff077020> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www.w3.org/ns/prov#Generation> .\r\n<cce9fc0e-9eb5-4919-b351-fb32ff077020> <http://www.w3.org/ns/prov#activity> <501dadd3-0468-4a12-b6a9-1cd6c228be70> .\r\n<cce9fc0e-9eb5-4919-b351-fb32ff077020> <http://www.w3.org/ns/prov#used> <http://tb.plazi.org/GgServer/dwca/FFCC8B0CFFA3FF80A43F537CFFC6F93F.zip> .\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1098299714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1098462448","html_url":"https://github.com/bio-guoda/preston/issues/158#issuecomment-1098462448","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/158","id":1098462448,"node_id":"IC_kwDOCMmefs5BeTTw","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T20:34:26Z","updated_at":"2022-04-13T20:34:26Z","body":"In validating the suspicious dwca file with content id hash://sha256/d47fa5353f0a5a78ac0eb74db37f89f1ac255b8065f75bc35bc124c62047035c \r\n\r\nwe found that the GBIF validator didn't like the content  served via https://deeplinker.bio/d47fa5353f0a5a78ac0eb74db37f89f1ac255b8065f75bc35bc124c62047035c  either. \r\n\r\nfrom https://www.gbif.org/tools/data-validator/1a026a9d-7441-457b-a032-1b212cb6d809 -\r\n![Screenshot from 2022-04-13 15-24-12](https://user-images.githubusercontent.com/1084872/163264167-d017f88d-345a-4a82-9f45-526d66662ea5.png)\r\n![Screenshot from 2022-04-13 15-26-11](https://user-images.githubusercontent.com/1084872/163264649-b45e6b46-3b71-457c-bc32-5b5a55aa2476.png)\r\n\r\nHowever, the content does appear to have a valid zip structure:\r\n\r\n```\r\n$ curl \"https://deeplinker.bio/d47fa5353f0a5a78ac0eb74db37f89f1ac255b8065f75bc35bc124c62047035c\" > tmp/some.zip\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100 9694k  100 9694k    0     0  3923k      0  0:00:02  0:00:02 --:--:-- 3923k\r\n$ unzip -l tmp/some.zip \r\nArchive:  tmp/some.zip\r\n  Length      Date    Time    Name\r\n---------  ---------- -----   ----\r\n     6635  2017-03-14 09:53   eml.xml\r\n     2583  2017-02-21 08:38   meta.xml\r\n 93838675  2017-02-22 17:46   occurrence.txt\r\n---------                     -------\r\n 93847893                     3 files\r\n```\r\n\r\nIn looking up offending line using \r\n\r\n```\r\n$ preston cat --remote https://deeplinker.bio 'line:zip:hash://sha256/9e19b4069017c64a31d693fc5cf296e264c40aadaa475c35e36aea0e0348e6fb!/DarwinCore.txt!/L859' \r\n\"39393998\",\"2019-04-18T14:40:14Z\",\"Type of sighting=Sighting of live animal;County=Louth;Vice-county=Louth;Abundance=One;Record comment=The sensor light came on and I looked up from reading \"Village\" magazine to see this wee beaut walk past.\",\"MammalsOfIreland2016-2025\",\"MammalsOfIreland2016-2025\",\"97209583948267984\",\"Brendan McSherry\",,\"2017-02-23\",,\"Mullatee\",\"54.0301013900\",\"-6.1579993300\",\"100\",\"Meles meles\",\"Species\",\"(Linnaeus, 1758)\",\"accepted\",\"Eurasian Badger\",\"ie.nbdc.dataset.MammalsOfIreland2016-2025.97209583948267984\"\r\n```\r\n\r\nit appears that the double quote is not properly escaped (e.g., ```[...] reading \"Village\" magazine [...]```)\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1098462448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1098469306","html_url":"https://github.com/bio-guoda/preston/issues/158#issuecomment-1098469306","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/158","id":1098469306,"node_id":"IC_kwDOCMmefs5BeU-6","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T20:44:14Z","updated_at":"2022-04-13T20:44:14Z","body":"unzip supports that  hash://sha256/bb95b5357711b8652ef0ea4dc36bfa48e5355ed5ab574b7c0b7e333b60232c89 is not a well formed zip file.\r\n\r\n```\r\n$ preston cat --remote https://deeplinker.bio hash://sha256/bb95b5357711b8652ef0ea4dc36bfa48e5355ed5ab574b7c0b7e333b60232c89 > badzip.zip\r\n$ unzip -l badzip.zip \r\nArchive:  badzip.zip\r\n  End-of-central-directory signature not found.  Either this file is not\r\n  a zipfile, or it constitutes one disk of a multi-part archive.  In the\r\n  latter case the central directory and zipfile comment will be found on\r\n  the last disk(s) of this archive.\r\nunzip:  cannot find zipfile directory in one of badzip.zip or\r\n        badzip.zip.zip, and cannot find badzip.zip.ZIP, period.\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1098469306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1098480445","html_url":"https://github.com/bio-guoda/preston/issues/158#issuecomment-1098480445","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/158","id":1098480445,"node_id":"IC_kwDOCMmefs5BeXs9","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T20:56:56Z","updated_at":"2022-04-13T20:56:56Z","body":"@pgasu so, it appears that the issues you noticed are actual issues with the integrity of the tracked content. \r\n\r\nIf you'd like you can further trace the provenance and contact the owners of the data to resolve the issue.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1098480445/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1098481128","html_url":"https://github.com/bio-guoda/preston/issues/158#issuecomment-1098481128","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/158","id":1098481128,"node_id":"IC_kwDOCMmefs5BeX3o","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T20:57:54Z","updated_at":"2022-04-13T20:57:54Z","body":"and preston will keep processing an archive until it hits a snag, then skips to the next archive. \r\n\r\nPlease advise on how to proceed.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1098481128/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1098495929","html_url":"https://github.com/bio-guoda/preston/issues/158#issuecomment-1098495929","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/158","id":1098495929,"node_id":"IC_kwDOCMmefs5Bebe5","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-13T21:18:28Z","updated_at":"2022-04-13T21:35:53Z","body":"Note that similarly:\r\n\r\n```\r\n$ preston cat --remote https://deeplinker.bio 'line:zip:hash://sha256/db5cd1d7c8738c6f5ad241878a4fdc9929b719e4261ef9e1b72bbe8275e6eb92!/DarwinCore.txt!/L1961'\r\n[https://deeplinker.bio/d...61ef9e1b72bbe8275e6eb92] 100.0% of 176 kB at 0.51 MB/s completed in < 1 minute\r\n\"37647418\",\"2018-07-30T13:40:26Z\",\"Determiner name=Phil Melly;Sampling method=Daytime observation;Record comment=On observation, consulted internet and is satisfied this was indeed a Hummingbird Hawk Moth.  Couldn't believe was watching a Hummingbird in Ireland!  Feeding that day on Verbena and \"Petunia Million Bells\".\",\"MothRecordsOfIreland\",\"MothRecordsOfIreland\",\"bc3eac8a-5507-11e7-a40d-00155d018200\",\"Phil Melly\",,\"2017-05-31\",,\"Bogganstown Culmullin\",\"53.4746220300\",\"-6.6114130600\",\"100\",\"Macroglossum stellatarum\",\"Species\",\"(Linnaeus, 1758)\",\"accepted\",\"Humming-bird Hawk-moth\",\"ie.nbdc.dataset.MothRecordsOfIreland.bc3eac8a-5507-11e7-a40d-00155d018200\"\r\n``` \r\n\r\nwhere un-escaped double quotes inside the darwin core archive (i.e. ```[...] Feeding that day on Verbena and \"Petunia Million Bells\".\",\"Mot [...]```) causes the csv parser to complain.\r\n\r\nThe associated url was http://gbif.biodiversityireland.ie/MothRecordsOfIreland.zip  GBIF dataset https://www.gbif.org/dataset/be6e251d-cdf4-4784-8054-9f4be19ce3d9 and a related eml.xml is:\r\n\r\n```\r\n$ preston cat --remote https://deeplinker.bio 'zip:hash://sha256/db5cd1d7c8738c6f5ad241878a4fdc9929b719e4261ef9e1b72bbe8275e6eb92!/eml.xml'\r\n[https://deeplinker.bio/d...61ef9e1b72bbe8275e6eb92] 27.1% of 176 kB at 0.38 MB/[https://deeplinker.bio/d...61ef9e1b72bbe8275e6eb92] 54.3% of 176 kB at 0.64 MB/[https://deeplinker.bio/d...61ef9e1b72bbe8275e6eb92] 81.5% of 176 kB at 0.56 MB/[https://deeplinker.bio/d...61ef9e1b72bbe8275e6eb92] 100.0% of 176 kB at 0.66 MB/s completed in < 1 minute\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<eml:eml xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:ds=\"eml://ecoinformatics.org/dataset-2.1.1\" packageId=\"ie.nbdc.dataset.MothRecordsOfIreland\" system=\"http://gbif.biodiversityireland.ie/\" scope=\"system\" xsi:schemaLocation=\"eml://ecoinformatics.org/eml-2.1.1 http://rs.gbif.org/schema/eml-gbif-profile/1.1/eml.xsd\" xmlns:eml=\"eml://ecoinformatics.org/eml-2.1.1\">\r\n  <dataset>\r\n    <alternateIdentifier>MothRecordsOfIreland</alternateIdentifier>\r\n    <title>Moth Records of Ireland</title>\r\n    <creator>\r\n      <individualName>\r\n        <surName>Michael O'Donnell</surName>\r\n      </individualName>\r\n      <organizationName>Collated by the National Biodiversity Data Centre from different sources</organizationName>\r\n      <address>\r\n        <country>Ireland</country>\r\n      </address>\r\n      <electronicMailAddress>micealodonnell@eircom.net</electronicMailAddress>\r\n      <onlineUrl>http://www.mothsireland.com/</onlineUrl>\r\n    </creator>\r\n    <metadataProvider>\r\n      <organizationName>National Biodiversity Data Centre, Ireland</organizationName>\r\n      <address>\r\n        <deliveryPoint>Beechfield house, Carriganore WIT West Campus</deliveryPoint>\r\n        <city>Waterford</city>\r\n        <administrativeArea>County Waterford</administrativeArea>\r\n        <country>Ireland</country>\r\n      </address>\r\n      <phone>+353 (0)51 306 240</phone>\r\n      <electronicMailAddress>info@biodiversityireland.ie</electronicMailAddress>\r\n      <onlineUrl>http://www.biodiversityireland.ie/</onlineUrl>\r\n    </metadataProvider>\r\n    <pubDate>2018-07-30Z</pubDate>\r\n    <language>en</language>\r\n    <abstract>\r\n      <para>Moth records collated from a variety of sources</para>\r\n    </abstract>\r\n    <additionalInfo>\r\n      <para>http://www.mothsireland.com/</para>\r\n    </additionalInfo>\r\n    <intellectualRights>\r\n      <para>This work is licensed under a<ulink url=\"http://creativecommons.org/licenses/by/4.0/legalcode\"><citetitle>Creative Commons Attribution (CC-BY) 4.0 License</citetitle></ulink></para>\r\n    </intellectualRights>\r\n    <distribution>\r\n      <online>\r\n        <url function=\"information\">http://maps.biodiversityireland.ie/DataSet/268</url>\r\n      </online>\r\n    </distribution>\r\n    <coverage>\r\n      <geographicCoverage>\r\n        <geographicDescription>The island of Ireland</geographicDescription>\r\n        <boundingCoordinates>\r\n          <westBoundingCoordinate>-10.5383265100</westBoundingCoordinate>\r\n          <eastBoundingCoordinate>-5.8212730500</eastBoundingCoordinate>\r\n          <northBoundingCoordinate>55.3117198200</northBoundingCoordinate>\r\n          <southBoundingCoordinate>51.4314347500</southBoundingCoordinate>\r\n        </boundingCoordinates>\r\n      </geographicCoverage>\r\n      <temporalCoverage>\r\n        <rangeOfDates>\r\n          <beginDate>\r\n            <calendarDate>2007</calendarDate>\r\n          </beginDate>\r\n          <endDate>\r\n            <calendarDate>2017</calendarDate>\r\n          </endDate>\r\n        </rangeOfDates>\r\n      </temporalCoverage>\r\n    </coverage>\r\n    <purpose>\r\n      <para>Record and understand the geographic distribution of moths in Ireland</para>\r\n    </purpose>\r\n    <contact>\r\n      <individualName>\r\n        <givenName>Barry</givenName>\r\n        <surName>O'Neill</surName>\r\n      </individualName>\r\n      <organizationName>National Biodiversity Data Centre, Ireland</organizationName>\r\n      <address>\r\n        <deliveryPoint>Beechfield house, Carriganore WIT West Campus</deliveryPoint>\r\n        <city>Waterford</city>\r\n        <administrativeArea>County Waterford</administrativeArea>\r\n        <country>Ireland</country>\r\n      </address>\r\n      <phone>+353 (0)51 306 240</phone>\r\n      <electronicMailAddress>boneill@biodiversityireland.ie</electronicMailAddress>\r\n      <onlineUrl>http://www.biodiversityireland.ie/</onlineUrl>\r\n    </contact>\r\n    <methods>\r\n      <methodStep>\r\n        <description>\r\n          <para>Field observations supported by photographs where necessary</para>\r\n        </description>\r\n      </methodStep>\r\n      <qualityControl>\r\n        <description>\r\n          <para>All records validated prior to submission to MothsIreland</para>\r\n        </description>\r\n      </qualityControl>\r\n    </methods>\r\n  </dataset>\r\n  <additionalMetadata>\r\n    <metadata>\r\n      <gbif>\r\n        <dateStamp>2018-07-30T14:43:18.6569988+01:00</dateStamp>\r\n        <citation>National Biodiversity Data Centre: Collated by the National Biodiversity Data Centre from different sources - Moth Records of Ireland. Dataset/Occurrence.</citation>\r\n      </gbif>\r\n    </metadata>\r\n  </additionalMetadata>\r\n</eml:eml>\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1098495929/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1099225768","html_url":"https://github.com/bio-guoda/preston/issues/158#issuecomment-1099225768","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/158","id":1099225768,"node_id":"IC_kwDOCMmefs5BhNqo","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T14:08:39Z","updated_at":"2022-04-14T14:08:39Z","body":"@pgasu I just released preston v0.3.7 . This release includes a fix for the #161 and improves the error logging when encountering funny dwca (truncated zip files, invalid csv files). \r\n\r\nSo, as far as I can tell, your issues have been addressed. It is now up to the data providers to fix their data archives. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1099225768/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1099464757","html_url":"https://github.com/bio-guoda/preston/issues/158#issuecomment-1099464757","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/158","id":1099464757,"node_id":"IC_kwDOCMmefs5BiIA1","user":{"login":"pgasu","id":4916317,"node_id":"MDQ6VXNlcjQ5MTYzMTc=","avatar_url":"https://avatars.githubusercontent.com/u/4916317?v=4","gravatar_id":"","url":"https://api.github.com/users/pgasu","html_url":"https://github.com/pgasu","followers_url":"https://api.github.com/users/pgasu/followers","following_url":"https://api.github.com/users/pgasu/following{/other_user}","gists_url":"https://api.github.com/users/pgasu/gists{/gist_id}","starred_url":"https://api.github.com/users/pgasu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pgasu/subscriptions","organizations_url":"https://api.github.com/users/pgasu/orgs","repos_url":"https://api.github.com/users/pgasu/repos","events_url":"https://api.github.com/users/pgasu/events{/privacy}","received_events_url":"https://api.github.com/users/pgasu/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-04-14T17:48:07Z","updated_at":"2022-04-14T17:48:07Z","body":"Thanks @jhpoelen. This looks great. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1099464757/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]