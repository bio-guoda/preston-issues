{"url":"https://api.github.com/repos/bio-guoda/preston/issues/113","repository_url":"https://api.github.com/repos/bio-guoda/preston","labels_url":"https://api.github.com/repos/bio-guoda/preston/issues/113/labels{/name}","comments_url":"https://api.github.com/repos/bio-guoda/preston/issues/113/comments","events_url":"https://api.github.com/repos/bio-guoda/preston/issues/113/events","html_url":"https://github.com/bio-guoda/preston/issues/113","id":841454086,"node_id":"MDU6SXNzdWU4NDE0NTQwODY=","number":113,"title":"use bloom filters to calculate common terms across datasets","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":14,"created_at":"2021-03-26T00:01:05Z","updated_at":"2021-08-19T23:20:27Z","closed_at":"2021-08-19T23:20:27Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Currently, Preston supports a \"grep\" onto all content in a biodiversity data graph. This ```preston grep``` digs into archives and compressed content to detect terms matching the provided regular expression.\r\n\r\nThis current functionality connects specific matching terms to content ids. Given that datasets may contain up to millions of matched terms (e.g., arctos identifiers), the resulting graphs become large and hard to handle by a modest triple store or graph database.\r\n\r\nBecause we are interested in how datasets connect, we first want to know _which_ datasets connect, then proceed to better understand _how_ they connect. Bloom filters help to approximate space/time efficient set memberships and calculate the cardinality of set intersects.\r\n\r\nIn our case, calculating a bloom filter with all matched terms for each dataset enable to compute the approximate overlap (intersect) between matched terms across datasets. \r\n\r\nImplementation sketch:\r\n\r\n1. match all content against provided regular expression\r\n2. add each matched term to a dataset specific bloomfilter (one bloom filter per content hash)\r\n3. on non-empty bloom filter, store a serialized copy of the resulting bloom filter in the biodiversity graph on completion of an individual content/dataset scan \r\n4. for each dataset, report number of shared matched terms for all other datasets using all reported bloom filters <--- requires knowledge of available bloom filters and suggests grid search with potential scalability issues. Assumption is that for suitable identifiers schemes, only a relatively small amount of datasets will have shared identifiers.  ","closed_by":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/113/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bio-guoda/preston/issues/113/timeline","performed_via_github_app":null,"state_reason":"completed"}