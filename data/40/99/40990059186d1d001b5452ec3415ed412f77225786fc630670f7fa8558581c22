[{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1190509854","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1190509854","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1190509854,"node_id":"IC_kwDOCMmefs5G9b0e","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T16:41:09Z","updated_at":"2022-07-20T16:42:29Z","body":"example request for hash://md5/e27c99a7f701dab97b7d09c467acf468\r\n\r\n```\r\n$ curl 'https://cn.dataone.org/cn/v2/query/solr/?q=checksum:e27c99a7f701dab97b7d09c467acf468&fl=identifier,size,formatId,checksum,checksumAlgorithm,replicaMN,dataUrl&rows=10&wt=json' | jq . \r\n{\r\n  \"responseHeader\": {\r\n    \"status\": 0,\r\n    \"QTime\": 2,\r\n    \"params\": {\r\n      \"q\": \"checksum:e27c99a7f701dab97b7d09c467acf468\",\r\n      \"fl\": \"identifier,size,formatId,checksum,checksumAlgorithm,replicaMN,dataUrl\",\r\n      \"rows\": \"10\",\r\n      \"wt\": \"json\"\r\n    }\r\n  },\r\n  \"response\": {\r\n    \"numFound\": 4,\r\n    \"start\": 0,\r\n    \"docs\": [\r\n      {\r\n        \"identifier\": \"ess-dive-0462dff585f94f8-20180716T160600643874\",\r\n        \"formatId\": \"text/plain\",\r\n        \"size\": 11036,\r\n        \"checksum\": \"e27c99a7f701dab97b7d09c467acf468\",\r\n        \"checksumAlgorithm\": \"MD5\",\r\n        \"replicaMN\": [\r\n          \"urn:node:ESS_DIVE\",\r\n          \"urn:node:UIC\",\r\n          \"urn:node:KNB\"\r\n        ],\r\n        \"dataUrl\": \"https://cn.dataone.org/cn/v2/resolve/ess-dive-0462dff585f94f8-20180716T160600643874\"\r\n      },\r\n      {\r\n        \"identifier\": \"ess-dive-642bb2e5bd48452-20180716T160320693400\",\r\n        \"formatId\": \"text/plain\",\r\n        \"size\": 11036,\r\n        \"checksum\": \"e27c99a7f701dab97b7d09c467acf468\",\r\n        \"checksumAlgorithm\": \"MD5\",\r\n        \"replicaMN\": [\r\n          \"urn:node:ESS_DIVE\",\r\n          \"urn:node:UIC\",\r\n          \"urn:node:KNB\"\r\n        ],\r\n        \"dataUrl\": \"https://cn.dataone.org/cn/v2/resolve/ess-dive-642bb2e5bd48452-20180716T160320693400\"\r\n      },\r\n      {\r\n        \"identifier\": \"ess-dive-f8d52384ece0ba9-20180716T154049822990\",\r\n        \"formatId\": \"text/plain\",\r\n        \"size\": 11036,\r\n        \"checksum\": \"e27c99a7f701dab97b7d09c467acf468\",\r\n        \"checksumAlgorithm\": \"MD5\",\r\n        \"replicaMN\": [\r\n          \"urn:node:ESS_DIVE\",\r\n          \"urn:node:KNB\",\r\n          \"urn:node:UIC\",\r\n          \"urn:node:mnORC1\"\r\n        ],\r\n        \"dataUrl\": \"https://cn.dataone.org/cn/v2/resolve/ess-dive-f8d52384ece0ba9-20180716T154049822990\"\r\n      },\r\n      {\r\n        \"identifier\": \"ess-dive-457358fdc81d3a5-20180726T203952542\",\r\n        \"formatId\": \"application/octet-stream\",\r\n        \"size\": 11036,\r\n        \"checksum\": \"e27c99a7f701dab97b7d09c467acf468\",\r\n        \"checksumAlgorithm\": \"MD5\",\r\n        \"replicaMN\": [\r\n          \"urn:node:KNB\",\r\n          \"urn:node:ESS_DIVE\",\r\n          \"urn:node:UIC\",\r\n          \"urn:node:mnORC1\"\r\n        ],\r\n        \"dataUrl\": \"https://cn.dataone.org/cn/v2/resolve/ess-dive-457358fdc81d3a5-20180726T203952542\"\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nwith \r\n\r\n```\r\n$ curl -L \"https://cn.dataone.org/cn/v2/resolve/ess-dive-0462dff585f94f8-20180716T160600643874\" | md5sum\r\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                 Dload  Upload   Total   Spent    Left  Speed\r\n100  1614    0  1614    0     0   4458      0 --:--:-- --:--:-- --:--:--  4458\r\n100 11036    0 11036    0     0  14040      0 --:--:-- --:--:-- --:--:-- 10.5M\r\ne27c99a7f701dab97b7d09c467acf468  -\r\n```\r\n\r\nnote the redirect.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1190509854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1190651215","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1190651215","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1190651215,"node_id":"IC_kwDOCMmefs5G9-VP","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T19:08:42Z","updated_at":"2022-07-20T19:24:02Z","body":"After implementing a first pass at supporting DataOne as a Preston remote, the following results where obtained:\r\n\r\n```\r\n$ preston cat --algo md5 --remote https://dataone.org hash://md5/e27c99a7f701dab97b7d09c467acf468 \r\n*******************************************************************************\r\n*** Historical CO2 Record from the Vostok Ice Core                          ***\r\n***                                                                         ***\r\n*** Source: J.M. Barnola                                                    ***\r\n***         D. Raynaud                                                      ***\r\n***         C. Lorius                                                       ***\r\n***         Laboratoire de Glaciologie et de Geophysique de l'Environnement ***\r\n***         38402 Saint Martin d'Heres Cedex, France                        ***\r\n***                                                                         ***\r\n***         N. I. Barkov                                                    ***\r\n***         Arctic and Antarctic Research Institute                         ***\r\n***         Beringa Street 38                                               ***\r\n***         St. Petersburg 199226, Russia                                   ***\r\n***                                                                         ***\r\n*** January 2003                                                             ***\r\n*******************************************************************************\r\n                Mean\r\n       Age of   age of    CO2\r\nDepth  the ice  the air concentration\r\n (m)   (yr BP)  (yr BP)  (ppmv)\r\n\r\n149.1\t5679\t2342\t284.7\r\n173.1\t6828\t3634\t272.8\r\n...\r\n3301.4\t417638\t415434\t286.9\r\n3304.4\t419328\t417160\t277.6\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1190651215/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1190653473","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1190653473","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1190653473,"node_id":"IC_kwDOCMmefs5G9-4h","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T19:11:11Z","updated_at":"2022-07-20T19:11:11Z","body":"@mbjones does DataOne support searching by sha256 hashes as well as md5 ? ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1190653473/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1190658281","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1190658281","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1190658281,"node_id":"IC_kwDOCMmefs5G-ADp","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T19:16:13Z","updated_at":"2022-07-20T19:23:39Z","body":"btw - note that zenodo also knows hash://md5/e27c99a7f701dab97b7d09c467acf468\r\n\r\n```\r\n$ preston cat --algo md5 --remote https://zenodo.org hash://md5/e27c99a7f701dab97b7d09c467acf468 \r\n[https://zenodo.org/api/r...dab97b7d09c467acf468%22] 3 kB at 0.02 MB/s completed in < 1 minute\r\n[https://zenodo.org/api/f...3dc2/vostok.icecore.co2] 100.0% of 10 kB at 1.17 MB/s completed in < 1 minute\r\n*******************************************************************************\r\n*** Historical CO2 Record from the Vostok Ice Core                          ***\r\n***                                                                         ***\r\n*** Source: J.M. Barnola                                                    ***\r\n***         D. Raynaud                                                      ***\r\n***         C. Lorius                                                       ***\r\n***         Laboratoire de Glaciologie et de Geophysique de l'Environnement ***\r\n***         38402 Saint Martin d'Heres Cedex, France                        ***\r\n***                                                                         ***\r\n***         N. I. Barkov                                                    ***\r\n***         Arctic and Antarctic Research Institute                         ***\r\n***         Beringa Street 38                                               ***\r\n***         St. Petersburg 199226, Russia                                   ***\r\n***                                                                         ***\r\n*** January 2003                                                             ***\r\n*******************************************************************************\r\n                Mean\r\n       Age of   age of    CO2\r\nDepth  the ice  the air concentration\r\n (m)   (yr BP)  (yr BP)  (ppmv)\r\n\r\n149.1\t5679\t2342\t284.7\r\n173.1\t6828\t3634\t272.8\r\n...\r\n3301.4\t417638\t415434\t286.9\r\n3304.4\t419328\t417160\t277.6\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1190658281/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1190664804","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1190664804","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1190664804,"node_id":"IC_kwDOCMmefs5G-Bpk","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T19:23:06Z","updated_at":"2022-07-20T19:23:06Z","body":"and . . . https://softwareheritage.org knows about it too . . . but only when the sha256 content id is known. Unfortunately, as far as I can tell appears that neither Zenodo nor DataOne support sha256. . . yet. @slint @mbjones\r\n\r\n```\r\n$ preston cat --remote https://softwareheritage.org hash://sha256/9412325831dab22aeebdd674b6eb53ba6b7bdd04bb99a4dbb21ddff646287e37\r\n[https://archive.software...dbb21ddff646287e37/raw/] 100.0% of 10 kB at 0.53 MB/s completed in < 1 minute\r\n*******************************************************************************\r\n*** Historical CO2 Record from the Vostok Ice Core                          ***\r\n***                                                                         ***\r\n*** Source: J.M. Barnola                                                    ***\r\n***         D. Raynaud                                                      ***\r\n***         C. Lorius                                                       ***\r\n***         Laboratoire de Glaciologie et de Geophysique de l'Environnement ***\r\n***         38402 Saint Martin d'Heres Cedex, France                        ***\r\n***                                                                         ***\r\n***         N. I. Barkov                                                    ***\r\n***         Arctic and Antarctic Research Institute                         ***\r\n***         Beringa Street 38                                               ***\r\n***         St. Petersburg 199226, Russia                                   ***\r\n***                                                                         ***\r\n*** January 2003                                                             ***\r\n*******************************************************************************\r\n                Mean\r\n       Age of   age of    CO2\r\nDepth  the ice  the air concentration\r\n (m)   (yr BP)  (yr BP)  (ppmv)\r\n\r\n149.1\t5679\t2342\t284.7\r\n...\r\n3301.4\t417638\t415434\t286.9\r\n3304.4\t419328\t417160\t277.6\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1190664804/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1190685848","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1190685848","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1190685848,"node_id":"IC_kwDOCMmefs5G-GyY","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T19:45:46Z","updated_at":"2022-07-20T19:46:31Z","body":"Also, after upgrading the https://linker.bio proxy to include both zenodo and dataone remotes (e.g., ```preston s --algo md5 --remotes https://zenodo.org,https://dataone.org```), you can now say:\r\n\r\n```\r\n$ preston cat --algo md5 --remote https://linker.bio hash://md5/e27c99a7f701dab97b7d09c467acf468\r\n[https://linker.bio/hash:...701dab97b7d09c467acf468] 100.0% of 10 kB at 0.75 MB/s completed in < 1 minute\r\n*******************************************************************************\r\n*** Historical CO2 Record from the Vostok Ice Core                          ***\r\n***                                                                         ***\r\n*** Source: J.M. Barnola                                                    ***\r\n***         D. Raynaud                                                      ***\r\n***         C. Lorius                                                       ***\r\n***         Laboratoire de Glaciologie et de Geophysique de l'Environnement ***\r\n***         38402 Saint Martin d'Heres Cedex, France                        ***\r\n***                                                                         ***\r\n***         N. I. Barkov                                                    ***\r\n***         Arctic and Antarctic Research Institute                         ***\r\n***         Beringa Street 38                                               ***\r\n***         St. Petersburg 199226, Russia                                   ***\r\n***                                                                         ***\r\n*** January 2003                                                             ***\r\n*******************************************************************************\r\n                Mean\r\n       Age of   age of    CO2\r\nDepth  the ice  the air concentration\r\n (m)   (yr BP)  (yr BP)  (ppmv)\r\n\r\n149.1\t5679\t2342\t284.7\r\n173.1\t6828\t3634\t272.8\r\n...\r\n3304.4\t419328\t417160\t277.6\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1190685848/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1190688013","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1190688013","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1190688013,"node_id":"IC_kwDOCMmefs5G-HUN","user":{"login":"mbjones","id":766407,"node_id":"MDQ6VXNlcjc2NjQwNw==","avatar_url":"https://avatars.githubusercontent.com/u/766407?v=4","gravatar_id":"","url":"https://api.github.com/users/mbjones","html_url":"https://github.com/mbjones","followers_url":"https://api.github.com/users/mbjones/followers","following_url":"https://api.github.com/users/mbjones/following{/other_user}","gists_url":"https://api.github.com/users/mbjones/gists{/gist_id}","starred_url":"https://api.github.com/users/mbjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbjones/subscriptions","organizations_url":"https://api.github.com/users/mbjones/orgs","repos_url":"https://api.github.com/users/mbjones/repos","events_url":"https://api.github.com/users/mbjones/events{/privacy}","received_events_url":"https://api.github.com/users/mbjones/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-07-20T19:48:15Z","updated_at":"2022-07-20T19:48:15Z","body":"Thanks @jhpoelen !","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1190688013/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1516697860","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1516697860","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1516697860,"node_id":"IC_kwDOCMmefs5aZvkE","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-20T17:29:51Z","updated_at":"2023-04-20T17:30:51Z","body":"In addition, you can now use:\r\n\r\nhttps://linker.bio/hash://md5/e27c99a7f701dab97b7d09c467acf468\r\n\r\nto retrieve content with specified md5 hash. https://linker.bio is currently configured as a caching proxy for various repositories, including zenodo.org and dataone.org . Note that the cache is temporary and is not archived (yet ;) )\r\n\r\nFor instance,\r\n\r\n```bash\r\ncurl --silent \"https://linker.bio/hash://md5/e27c99a7f701dab97b7d09c467acf468\"\\\r\n | head\r\n```\r\n\r\nproduced: \r\n\r\n```\r\n*******************************************************************************\r\n*** Historical CO2 Record from the Vostok Ice Core                          ***\r\n***                                                                         ***\r\n*** Source: J.M. Barnola                                                    ***\r\n***         D. Raynaud                                                      ***\r\n***         C. Lorius                                                       ***\r\n***         Laboratoire de Glaciologie et de Geophysique de l'Environnement ***\r\n***         38402 Saint Martin d'Heres Cedex, France                        ***\r\n***                                                                         ***\r\n***         N. I. Barkov                                                    ***\r\n```\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1516697860/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1517085227","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1517085227","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1517085227,"node_id":"IC_kwDOCMmefs5abOIr","user":{"login":"mbjones","id":766407,"node_id":"MDQ6VXNlcjc2NjQwNw==","avatar_url":"https://avatars.githubusercontent.com/u/766407?v=4","gravatar_id":"","url":"https://api.github.com/users/mbjones","html_url":"https://github.com/mbjones","followers_url":"https://api.github.com/users/mbjones/followers","following_url":"https://api.github.com/users/mbjones/following{/other_user}","gists_url":"https://api.github.com/users/mbjones/gists{/gist_id}","starred_url":"https://api.github.com/users/mbjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbjones/subscriptions","organizations_url":"https://api.github.com/users/mbjones/orgs","repos_url":"https://api.github.com/users/mbjones/repos","events_url":"https://api.github.com/users/mbjones/events{/privacy}","received_events_url":"https://api.github.com/users/mbjones/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T00:13:11Z","updated_at":"2023-04-21T00:13:11Z","body":"Awesome @jhpoelen . I tried it with a recent dataset we published to DataONE, and linker.bio already had it:\r\n\r\n```bash\r\ncurl -s -o ice_202303.nc https://linker.bio/hash://md5/14a12438fe3f97776e6739914d51c62e\r\n```\r\nHow are you updating the checksums from DataONE, and which algorithms are you supporting?\r\n\r\nOn a related note, we are in the process of revamping our system to be able to store multiple checksums for objects in the network (and not just the one submitted by the authoritative repo), which should improve coverage across the network without having to download and calculate all of the individual checksums. It would be good to chat about how to expose that metadata to linker.bio and similar services.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1517085227/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1517094380","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1517094380","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1517094380,"node_id":"IC_kwDOCMmefs5abQXs","user":{"login":"mbjones","id":766407,"node_id":"MDQ6VXNlcjc2NjQwNw==","avatar_url":"https://avatars.githubusercontent.com/u/766407?v=4","gravatar_id":"","url":"https://api.github.com/users/mbjones","html_url":"https://github.com/mbjones","followers_url":"https://api.github.com/users/mbjones/followers","following_url":"https://api.github.com/users/mbjones/following{/other_user}","gists_url":"https://api.github.com/users/mbjones/gists{/gist_id}","starred_url":"https://api.github.com/users/mbjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbjones/subscriptions","organizations_url":"https://api.github.com/users/mbjones/orgs","repos_url":"https://api.github.com/users/mbjones/repos","events_url":"https://api.github.com/users/mbjones/events{/privacy}","received_events_url":"https://api.github.com/users/mbjones/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T00:29:16Z","updated_at":"2023-04-21T00:29:16Z","body":"@jhpoelen I just noticed your earlier questions about whether DataONE supports searching by SHA-256 -- sorry I missed that before. DataONE indexes (and audits) whichever checksum is provided by the authoritative repository for each data object, and many of them use MD5 (just from historical implementation I think). If they provide SHA-256, then it will be discoverable using the same mechanism of a SOLR query that you showed above. For example, this works today:\r\n\r\n`curl -s -o GTH83_Sonar_Final_ADC.csv https://linker.bio/hash://sha256/bd2f8004d746be0b6e2abe08e7e21474bfd5ccd855734fe971a8631de1e2bf39`\r\n\r\nAs mentioned in my last comment, we're in process of adding code to systematically calculate a broader set of checksums (MD5, SHA-1, SHA-256, SHA-512, and open to suggestions) and make those accessible to the search and discovery system. I also think a new API method to retrieve an object based on it's checksum would be straightforward (e.g., hypothetically something like `https://api.dataone.org/objects/hash://sha256/bd2f8004d746be0b6e2abe08e7e21474bfd5ccd855734fe971a8631de1e2bf39` would be pretty tractable, but it would have to choose which replica in the object to redirect someone to when there are multiple). ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1517094380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1517883453","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1517883453","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1517883453,"node_id":"IC_kwDOCMmefs5aeRA9","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T14:02:25Z","updated_at":"2023-04-21T14:02:25Z","body":"@mbjones thanks for sharing your notes. \r\n\r\nWith your insights, I added supported for sha256 queries to the dataone.org data-verse. With this addition, I was able to say\r\n\r\n```\r\npreston cat\\\r\n --remote https://dataone.org\\ \r\n hash://sha256/bd2f8004d746be0b6e2abe08e7e21474bfd5ccd855734fe971a8631de1e2bf39\\\r\n | head \r\n```\r\n\r\nand retrieve \r\n\r\n```\r\nEasting,Northing,Depth\r\n400738.546,7608206.017,1.02\r\n400738.546,7608206.017,1.09\r\n400738.546,7608206.017,0.94\r\n400738.546,7608206.017,0.33\r\n400738.546,7608206.017,1.03\r\n400738.546,7608206.017,0.00\r\n400738.546,7608206.017,1.03\r\n400738.546,7608206.017,1.12\r\n400738.546,7608206.017,1.05\r\n```\r\n\r\nYay! \r\n\r\nWould you happen to have a list of all supported hashes that DataOne has? Currently, md5 and sha256 are supported, and I'd be happy to add others if needed. \r\n\r\nComing back to your earlier question:\r\n\r\n > How are you updating the checksums from DataONE, and which algorithms are you supporting?\r\n\r\nAt first only md5 queries were sent to DataOne, with the soon-to-be-release Preston version, sha256 will also be sent your way. \r\n\r\nThe proxy server using a pull-through cache - if a hash cannot be found, dataone is queried and if content is found, the results are cached until their storage space is recycled. You can find the configuration of the proxy server at:\r\n\r\n**nginx**  https://github.com/bio-guoda/preston-service/blob/eed54a707c3e73e910994056a84d254cef098f5b/nginx/repo.jhpoelen.nl#L25\r\n**preston servers**  \r\n**md5-land** https://github.com/bio-guoda/preston-service/blob/0176e77d3739c9dfc390ecda40e146e29941e89d/systemd/system/preston-server-md5.service\r\n**sha256-land** https://github.com/bio-guoda/preston-service/blob/0176e77d3739c9dfc390ecda40e146e29941e89d/systemd/system/preston-server-sha256.service\r\n\r\nI've just released and deployed Preston v0.6.1 and associated configuration changes to make this stuff available. \r\n\r\nSo, now, you should be able to retrieve the GTH83_Sonar_Final_ADC.csv dataset via :\r\n\r\n```\r\ncurl --silent https://linker.bio/hash://sha256/bd2f8004d746be0b6e2abe08e7e21474bfd5ccd855734fe971a8631de1e2bf39\r\n```\r\n\r\nThanks again for chiming in . . . these kinds of exchange make for fun integrations and spark all sorts of ideas. \r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1517883453/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1518263922","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1518263922","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1518263922,"node_id":"IC_kwDOCMmefs5aft5y","user":{"login":"mbjones","id":766407,"node_id":"MDQ6VXNlcjc2NjQwNw==","avatar_url":"https://avatars.githubusercontent.com/u/766407?v=4","gravatar_id":"","url":"https://api.github.com/users/mbjones","html_url":"https://github.com/mbjones","followers_url":"https://api.github.com/users/mbjones/followers","following_url":"https://api.github.com/users/mbjones/following{/other_user}","gists_url":"https://api.github.com/users/mbjones/gists{/gist_id}","starred_url":"https://api.github.com/users/mbjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbjones/subscriptions","organizations_url":"https://api.github.com/users/mbjones/orgs","repos_url":"https://api.github.com/users/mbjones/repos","events_url":"https://api.github.com/users/mbjones/events{/privacy}","received_events_url":"https://api.github.com/users/mbjones/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T19:44:35Z","updated_at":"2023-04-21T19:44:35Z","body":"Thanks @jhpoelen I'm excited this is there, especially given the demise of hash archive.\r\n\r\nRe; your question about checksum algorithms in DataONE... in theory we support any algorithm. But in practice DataONE recognizes the Library of Congress list of cryptographic hash algorithms that can be used as names in this field, and specifically uses the madsrdf:authoritativeLabel field as the name of the algorithm in this field. See: [Library of Congress Cryptographic Algorithm Vocabulary](http://id.loc.gov/vocabulary/cryptographicHashFunctions.rdf). All compliant implementations must support at least SHA-1 and MD5, but may support other algorithms as well. That list is pretty short and doesn't include many of the more modern algorithms. But at least its a stable vocabulary. In https://github.com/cboettig/contentid/issues/1 we've discussed the algorithm naming challenges with @cboettig -- I'd love to gain some consistency of use there.\r\n\r\nAlso, if we were to pick 4-6 algorithms to try to generate for all DataONE content, what would your preference be? I was thinking `md5`, `sha1`, `sha256`, `sha384`, and `sha512`. Anything better?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1518263922/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1518341879","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1518341879","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1518341879,"node_id":"IC_kwDOCMmefs5agA73","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T21:14:35Z","updated_at":"2023-04-21T21:14:35Z","body":"Sure `md5`, `sha1`, `sha256`, `sha384`, and `sha512` sounds pretty good.\r\n\r\nWe can also start with three: `md5` (dataone, zenodo), `sha1` (git internals), `sha256` (software heritage, deb packages). Do you have any sense for how much the `sha384` and `sha512` are used? ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1518341879/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1518342577","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1518342577","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1518342577,"node_id":"IC_kwDOCMmefs5agBGx","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T21:15:39Z","updated_at":"2023-04-21T21:15:39Z","body":"For `sha1` it would be neat to make all of the github, gitlab and friends addressable. . . . ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1518342577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1518388343","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1518388343","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1518388343,"node_id":"IC_kwDOCMmefs5agMR3","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T22:22:33Z","updated_at":"2023-04-21T22:22:33Z","body":"https://docs.github.com/en/rest/git/blobs?apiVersion=2022-11-28#get-a-blob","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1518388343/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1518428704","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1518428704","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1518428704,"node_id":"IC_kwDOCMmefs5agWIg","user":{"login":"mbjones","id":766407,"node_id":"MDQ6VXNlcjc2NjQwNw==","avatar_url":"https://avatars.githubusercontent.com/u/766407?v=4","gravatar_id":"","url":"https://api.github.com/users/mbjones","html_url":"https://github.com/mbjones","followers_url":"https://api.github.com/users/mbjones/followers","following_url":"https://api.github.com/users/mbjones/following{/other_user}","gists_url":"https://api.github.com/users/mbjones/gists{/gist_id}","starred_url":"https://api.github.com/users/mbjones/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbjones/subscriptions","organizations_url":"https://api.github.com/users/mbjones/orgs","repos_url":"https://api.github.com/users/mbjones/repos","events_url":"https://api.github.com/users/mbjones/events{/privacy}","received_events_url":"https://api.github.com/users/mbjones/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-21T23:52:25Z","updated_at":"2023-04-21T23:52:25Z","body":"@jhpoelen this is our current breakdown as submitted by repositories:\r\n\r\n```json\r\n\"facet_fields\": {\r\n      \"checksumAlgorithm\": [\r\n        \"MD5\", 313624,\r\n        \"SHA256\", 265511,\r\n        \"SHA-256\", 196135,\r\n        \"SHA1\", 215707,\r\n        \"SHA-1\", 100198,\r\n        \"SHA-512\", 112\r\n      ]\r\n }\r\n```\r\n\r\nThe `SHA256` and `SHA1` counts show groups that submitted under an alternate name than we recommend, and we'll get those to use our consistent naming vocabulary.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1518428704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1518710202","html_url":"https://github.com/bio-guoda/preston/issues/181#issuecomment-1518710202","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/181","id":1518710202,"node_id":"IC_kwDOCMmefs5aha26","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-04-22T17:14:51Z","updated_at":"2023-04-22T17:14:51Z","body":"Thanks for sharing! Sounds like `sha1`, `sha256`, and `md5` are used most commonly. Perhaps best to start with those?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1518710202/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]