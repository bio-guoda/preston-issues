{"url":"https://api.github.com/repos/bio-guoda/preston/issues/111","repository_url":"https://api.github.com/repos/bio-guoda/preston","labels_url":"https://api.github.com/repos/bio-guoda/preston/issues/111/labels{/name}","comments_url":"https://api.github.com/repos/bio-guoda/preston/issues/111/comments","events_url":"https://api.github.com/repos/bio-guoda/preston/issues/111/events","html_url":"https://github.com/bio-guoda/preston/issues/111","id":830123734,"node_id":"MDU6SXNzdWU4MzAxMjM3MzQ=","number":111,"title":"GBIF cached images are different from images at the source","user":{"login":"matdillen","id":37537540,"node_id":"MDQ6VXNlcjM3NTM3NTQw","avatar_url":"https://avatars.githubusercontent.com/u/37537540?v=4","gravatar_id":"","url":"https://api.github.com/users/matdillen","html_url":"https://github.com/matdillen","followers_url":"https://api.github.com/users/matdillen/followers","following_url":"https://api.github.com/users/matdillen/following{/other_user}","gists_url":"https://api.github.com/users/matdillen/gists{/gist_id}","starred_url":"https://api.github.com/users/matdillen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matdillen/subscriptions","organizations_url":"https://api.github.com/users/matdillen/orgs","repos_url":"https://api.github.com/users/matdillen/repos","events_url":"https://api.github.com/users/matdillen/events{/privacy}","received_events_url":"https://api.github.com/users/matdillen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1916643435,"node_id":"MDU6TGFiZWwxOTE2NjQzNDM1","url":"https://api.github.com/repos/bio-guoda/preston/labels/discussion","name":"discussion","color":"d93f0b","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-03-12T13:33:32Z","updated_at":"2024-03-07T21:21:14Z","closed_at":"2024-03-07T21:21:14Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"GBIF keeps a cache of the images referenced by data providers. This is done through [thumbor](http://thumbor.org/). These cached images differ from the original ones at the referenced source. There may be differences in file metadata, such as changes in print resolution and loss of some metadata, but also the JPEG quality itself.\r\n\r\nThumbor reproduces a cached image with certain requested parameters. If none are specified, the app will use some defaults and create an image accordingly. I don't think it's possible to recreate an identical JPEG image with this process, given the lossy nature of JPEG decompression. So we will need access to the original files, if that is possible? \r\n\r\nExamples:\r\n\r\nSlight difference:\r\n[Occurrence record](https://www.gbif.org/occurrence/2595657020)\r\n[Original image source](http://oxalis.br.fgov.be/images/V/BR0/000/025/856/880/BR0000025856880V.jpg)\r\n[GBIF cached image](https://api.gbif.org/v1/image/unsafe/http%3A%2F%2Foxalis.br.fgov.be%2Fimages%2FV%2FBR0%2F000%2F025%2F856%2F880%2FBR0000025856880V.jpg)\r\n\r\nBig difference:\r\n[Occurrence record](https://www.gbif.org/occurrence/465102905)\r\n[Original image source](http://mediaphoto.mnhn.fr/media/1441319501228J9DUIyjSgi6vMFSN)\r\n[GBIF cached image](https://api.gbif.org/v1/image/unsafe/http%3A%2F%2Fmediaphoto.mnhn.fr%2Fmedia%2F1441319501228J9DUIyjSgi6vMFSN)","closed_by":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/111/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bio-guoda/preston/issues/111/timeline","performed_via_github_app":null,"state_reason":"completed"}