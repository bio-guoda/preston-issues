[{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/946011886","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-946011886","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":946011886,"node_id":"IC_kwDOCMmefs44Yv7u","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-18T17:45:09Z","updated_at":"2021-10-18T17:45:09Z","body":"fyi @ekrimmel ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/946011886/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069682354","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1069682354","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1069682354,"node_id":"IC_kwDOCMmefs4_wg6y","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-16T22:08:16Z","updated_at":"2022-03-16T22:08:16Z","body":"@qgroom @seltmann do you happen to have a command-line image analysis program takes some image data and produces some results (e.g., some suggested classifications, trait measurements) ? If so, I can put together an example of how to analyze all UCSB-IZC images (or any other dwc-a or collection of dwc-a's) in a single command.\r\n\r\n ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069682354/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069687519","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1069687519","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1069687519,"node_id":"IC_kwDOCMmefs4_wiLf","user":{"login":"matdillen","id":37537540,"node_id":"MDQ6VXNlcjM3NTM3NTQw","avatar_url":"https://avatars.githubusercontent.com/u/37537540?v=4","gravatar_id":"","url":"https://api.github.com/users/matdillen","html_url":"https://github.com/matdillen","followers_url":"https://api.github.com/users/matdillen/followers","following_url":"https://api.github.com/users/matdillen/following{/other_user}","gists_url":"https://api.github.com/users/matdillen/gists{/gist_id}","starred_url":"https://api.github.com/users/matdillen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matdillen/subscriptions","organizations_url":"https://api.github.com/users/matdillen/orgs","repos_url":"https://api.github.com/users/matdillen/repos","events_url":"https://api.github.com/users/matdillen/events{/privacy}","received_events_url":"https://api.github.com/users/matdillen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-16T22:14:09Z","updated_at":"2022-03-16T22:14:09Z","body":"Maybe just tesseract? Or am I misunderstanding the question?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069687519/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069698903","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1069698903","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1069698903,"node_id":"IC_kwDOCMmefs4_wk9X","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-16T22:27:04Z","updated_at":"2022-03-16T22:27:04Z","body":"@matdillen that might work. Do you have a specific example with input, output and the tools + arguments + config (model?) that connects the two? I am a bit of a tesseract newbie, so a copy-paste example would be great!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1069698903/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1070611015","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1070611015","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1070611015,"node_id":"IC_kwDOCMmefs4_0DpH","user":{"login":"matdillen","id":37537540,"node_id":"MDQ6VXNlcjM3NTM3NTQw","avatar_url":"https://avatars.githubusercontent.com/u/37537540?v=4","gravatar_id":"","url":"https://api.github.com/users/matdillen","html_url":"https://github.com/matdillen","followers_url":"https://api.github.com/users/matdillen/followers","following_url":"https://api.github.com/users/matdillen/following{/other_user}","gists_url":"https://api.github.com/users/matdillen/gists{/gist_id}","starred_url":"https://api.github.com/users/matdillen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matdillen/subscriptions","organizations_url":"https://api.github.com/users/matdillen/orgs","repos_url":"https://api.github.com/users/matdillen/repos","events_url":"https://api.github.com/users/matdillen/events{/privacy}","received_events_url":"https://api.github.com/users/matdillen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T09:23:43Z","updated_at":"2022-03-17T09:23:43Z","body":"```\r\nsudo apt-get install tesseract-ocr\r\ntesseract filename.jpg output\r\n```\r\nYou can add other arguments, such as languages and output modes, but this is the simplest method. The output is a txt file with only the captured text.\r\n\r\nhttps://tesseract-ocr.github.io/tessdoc/Command-Line-Usage.html","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1070611015/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1070897366","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1070897366","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1070897366,"node_id":"IC_kwDOCMmefs4_1JjW","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T12:59:33Z","updated_at":"2022-03-17T12:59:33Z","body":"@matdillen thanks for taking the time to share the example. Great to see that tesseract plays nice on the command-line.\r\n\r\nMore later on the example of how to build an image corpus ocr workflow on a well defined, citable image dataset of known provenance. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1070897366/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1070918893","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1070918893","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1070918893,"node_id":"IC_kwDOCMmefs4_1Ozt","user":{"login":"PietrH","id":48065851,"node_id":"MDQ6VXNlcjQ4MDY1ODUx","avatar_url":"https://avatars.githubusercontent.com/u/48065851?v=4","gravatar_id":"","url":"https://api.github.com/users/PietrH","html_url":"https://github.com/PietrH","followers_url":"https://api.github.com/users/PietrH/followers","following_url":"https://api.github.com/users/PietrH/following{/other_user}","gists_url":"https://api.github.com/users/PietrH/gists{/gist_id}","starred_url":"https://api.github.com/users/PietrH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PietrH/subscriptions","organizations_url":"https://api.github.com/users/PietrH/orgs","repos_url":"https://api.github.com/users/PietrH/repos","events_url":"https://api.github.com/users/PietrH/events{/privacy}","received_events_url":"https://api.github.com/users/PietrH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T13:20:09Z","updated_at":"2022-03-17T13:20:09Z","body":"I dug up an example of how I actually use tesseract on herbarium specimens:\r\n\r\n```\r\ntesseract RED_Roses_3_005.jpg RED_Roses_3_005 -l fra+lat -c tessedit_char_whitelist=\"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ ()\"\r\n```\r\n\r\nIn this case I know the language of my specimen, but I also want to capture latin (for scientific names), I only allow a fixed character set to dodge things like Cyrillic characters. In this case I wasn't interested in numbers, but you could easily do the opposite to just get numbers. Tesseract output requires cleaning, so you want to optimize your command for the information you are looking to extract. There are also a number of preprocessing parameters you can edit. For the best results you can train it on a specific typeface.\r\n\r\nIn fact, I think pre-processing, things like scaling, setting a threshold, that sort of thing is an important step that often precedes (or comes built in) these tools, that could also be applied to en entire corpus as preparation for an analysis pipeline.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1070918893/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1070954766","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1070954766","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1070954766,"node_id":"IC_kwDOCMmefs4_1XkO","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T13:56:27Z","updated_at":"2022-03-17T15:49:36Z","body":"@matdillen @PietrH good to know! I agree that pre-processing steps are important to include. What kind of program do you use for that typically? Imagemagick ? ffmpeg?  If you have some real world example, I'd very much like to incorporate them into the example workflow.\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1070954766/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1070956358","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1070956358","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1070956358,"node_id":"IC_kwDOCMmefs4_1X9G","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T13:58:00Z","updated_at":"2022-03-17T13:58:00Z","body":"btw - would you happen to you have the catalog number, collection code, institution code, occurrence id for the herbarium example? ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1070956358/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1070981771","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1070981771","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1070981771,"node_id":"IC_kwDOCMmefs4_1eKL","user":{"login":"PietrH","id":48065851,"node_id":"MDQ6VXNlcjQ4MDY1ODUx","avatar_url":"https://avatars.githubusercontent.com/u/48065851?v=4","gravatar_id":"","url":"https://api.github.com/users/PietrH","html_url":"https://github.com/PietrH","followers_url":"https://api.github.com/users/PietrH/followers","following_url":"https://api.github.com/users/PietrH/following{/other_user}","gists_url":"https://api.github.com/users/PietrH/gists{/gist_id}","starred_url":"https://api.github.com/users/PietrH/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PietrH/subscriptions","organizations_url":"https://api.github.com/users/PietrH/orgs","repos_url":"https://api.github.com/users/PietrH/repos","events_url":"https://api.github.com/users/PietrH/events{/privacy}","received_events_url":"https://api.github.com/users/PietrH/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T15:17:27Z","updated_at":"2022-03-17T15:17:27Z","body":"@jhpoelen I use both ffmpeg and image magick, this was quite an old example I just pulled from my gists. \r\n\r\nTurns out, it's not an herbarium specimen after all, but a page from a book from the collection of the Royal Botanical Garden of Madrid. That explains why I didn't want any digits, didn't want to bother with getting rid of page numbers, but just wanted to extract the scientific names and vernaculars so I could couple those to their respective pages in the book. \r\n\r\n\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1070981771/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1071001255","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1071001255","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1071001255,"node_id":"IC_kwDOCMmefs4_1i6n","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T15:48:37Z","updated_at":"2022-03-17T15:48:37Z","body":"@PietrH Thanks for clarifying. In case you have a reference to the book and specific page, I'd be happy to include it. Also, good to know that ffmpeg amd image magick are continuing to flex their muscles after all these years. \r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1071001255/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1071015602","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1071015602","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1071015602,"node_id":"IC_kwDOCMmefs4_1may","user":{"login":"matdillen","id":37537540,"node_id":"MDQ6VXNlcjM3NTM3NTQw","avatar_url":"https://avatars.githubusercontent.com/u/37537540?v=4","gravatar_id":"","url":"https://api.github.com/users/matdillen","html_url":"https://github.com/matdillen","followers_url":"https://api.github.com/users/matdillen/followers","following_url":"https://api.github.com/users/matdillen/following{/other_user}","gists_url":"https://api.github.com/users/matdillen/gists{/gist_id}","starred_url":"https://api.github.com/users/matdillen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matdillen/subscriptions","organizations_url":"https://api.github.com/users/matdillen/orgs","repos_url":"https://api.github.com/users/matdillen/repos","events_url":"https://api.github.com/users/matdillen/events{/privacy}","received_events_url":"https://api.github.com/users/matdillen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T16:00:29Z","updated_at":"2022-03-17T16:00:29Z","body":"I used Irfanview before, but imagemagick should work as well and be easier to implement. The pre-processing I did was mainly reducing dimensions if the MP number was too high and increasing JPEG compression if the file size was too high. My thresholds were in function of the model I was running (Google Vision), so 70MP and, if I recall correctly, 4MB.\r\n\r\nIf you want a set to work on, [this one](https://zenodo.org/communities/icedigtest) has some language metadata as well. It may be a bit tricky to scrape it all off of Zenodo though.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1071015602/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1071053127","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1071053127","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1071053127,"node_id":"IC_kwDOCMmefs4_1vlH","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T16:29:40Z","updated_at":"2022-03-17T16:29:58Z","body":"@matdillen thanks for pointing out your publication at:\r\n\r\nDillen Mathias. (2018). A benchmark dataset of herbarium specimen images with label data: Summary [Data set]. Zenodo. https://doi.org/10.5281/zenodo.3697797\r\n\r\nIn looking at ```Data and links.csv``` row 4, I found reference to specimen http://data.rbge.org.uk/herb/E00065282 and associated media. \r\n\r\nOn retrieving the original digital image associated with the specimen using\r\n\r\n```\r\n$ curl -L \"http://repo.rbge.org.uk/image_server.php?kind=1500&path_base64=L2hlcmJhcml1bV9zcGVjaW1lbl9zY2Fucy9FMDAvMDY1LzI4Mi81NzIyMzcuanBn\" > E00065282_orig.jpg\r\n```\r\n\r\n, and comparing to the content associated via your associated publication via:\r\n\r\n```\r\n$ curl -L https://zenodo.org/record/1483641/files/E00065282.jpg > E00065282_zenodo.jpg\r\n```\r\n\r\nI found that the two images are different:\r\n\r\n```\r\n$ ls -1 E00065282* | xargs -L1 sha256sum\r\n5db4e3a422df8796a59aee7aa3cc0ca12451aa690193ac374493ae1775ce17ec  E00065282_orig.jpg\r\nd22eedf8781e15a2ce48bd2680f55d466b465306a5a6cd640b11e75868c9d183  E00065282_zenodo.jpg\r\n```\r\n\r\nI would have expected the original image to be bigger, but found the opposite:\r\n\r\n```\r\n$ ls -lha E00065282* \r\n[...] 111K Mar 17 11:27 E00065282_orig.jpg\r\n[...] 1.4M Mar 17 11:27 E00065282_zenodo.jpg\r\n```\r\nI am assuming that you did some kind of processing to the original image. Did you keep the original as well as the processed image? ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1071053127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1071091214","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1071091214","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1071091214,"node_id":"IC_kwDOCMmefs4_144O","user":{"login":"matdillen","id":37537540,"node_id":"MDQ6VXNlcjM3NTM3NTQw","avatar_url":"https://avatars.githubusercontent.com/u/37537540?v=4","gravatar_id":"","url":"https://api.github.com/users/matdillen","html_url":"https://github.com/matdillen","followers_url":"https://api.github.com/users/matdillen/followers","following_url":"https://api.github.com/users/matdillen/following{/other_user}","gists_url":"https://api.github.com/users/matdillen/gists{/gist_id}","starred_url":"https://api.github.com/users/matdillen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matdillen/subscriptions","organizations_url":"https://api.github.com/users/matdillen/orgs","repos_url":"https://api.github.com/users/matdillen/repos","events_url":"https://api.github.com/users/matdillen/events{/privacy}","received_events_url":"https://api.github.com/users/matdillen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T17:00:20Z","updated_at":"2022-03-17T17:00:20Z","body":"If I recall correctly, I acquired those images as archive quality TIFFs and converted them myself to 50% quality JPEGs. So that would explain the difference. It's also possible that the IIIF presentation on their portal causes some changes.\r\n\r\nThose TIFFs are also on Zenodo. I don't know what transformations RBGE did to generate their JPEGs.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1071091214/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1071251840","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1071251840","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1071251840,"node_id":"IC_kwDOCMmefs4_2gGA","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T19:26:27Z","updated_at":"2022-03-17T19:26:27Z","body":"@matdillen thanks for clarifying. What is the provenance or origin of the TIFFs ? Did you have special access, or are these images available openly? Am curious to learn more about how the pieces of your extensive image corpus fit together. \r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1071251840/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1071346791","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1071346791","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1071346791,"node_id":"IC_kwDOCMmefs4_23Rn","user":{"login":"matdillen","id":37537540,"node_id":"MDQ6VXNlcjM3NTM3NTQw","avatar_url":"https://avatars.githubusercontent.com/u/37537540?v=4","gravatar_id":"","url":"https://api.github.com/users/matdillen","html_url":"https://github.com/matdillen","followers_url":"https://api.github.com/users/matdillen/followers","following_url":"https://api.github.com/users/matdillen/following{/other_user}","gists_url":"https://api.github.com/users/matdillen/gists{/gist_id}","starred_url":"https://api.github.com/users/matdillen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matdillen/subscriptions","organizations_url":"https://api.github.com/users/matdillen/orgs","repos_url":"https://api.github.com/users/matdillen/repos","events_url":"https://api.github.com/users/matdillen/events{/privacy}","received_events_url":"https://api.github.com/users/matdillen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T20:10:51Z","updated_at":"2022-03-17T20:10:51Z","body":"It varies. For RBGE, they allow users to acquire TIFFs through their portal. See the options at the bottom here: https://data.rbge.org.uk/search/herbarium/?specimen_num=70338&cfg=zoom.cfg&filename=E00065282.zip\r\n\r\nI don't know for sure how it is set up, but it's possible they use TIFFs to generate the images presented through their IIIF endpoint. The 'Get TIFF' service in their portal then allows access to those TIFFs through a PHP script. I did not acquire the TIFFs this way, rather we transferred them ad hoc through a temporary folder in Google Drive. I haven't used the script in their portal, but I presume there are some limits set up for the 'get TIFF' script.\r\n\r\nMost other collections that contributed to this dataset did it differently. I don't have detailed info on how they store TIFFs locally, but I can tell how I acquired them (always after personal contact with someone at the institution):\r\n\r\n- The Paris museum does not store TIFFs at all.\r\n- Naturalis could not make them available.\r\n- BGBM hosted them temporarily on a server.\r\n- Kew loaded them on a USB drive and we transferred the images at a physical meeting.\r\n- Luomus hosted them temporarily on a server. Some of their images were scanned in two steps, each half of the specimen. They could stitch these together fairly well as JPEG, but not the TIFFs. For the paper, we stitched these TIFF halves together in a semi-automated workflow in Photoshop. This sort of issue may also impact hash-based identification.\r\n- Tartu hosts TIFFs in their system. I believe the URLs are not easily publicly findable, but they are web-available and I downloaded them this way.\r\n- The NHM London loaded them temporarily to a box.com bucket.\r\n- At Meise, we have a local server that stores all our images as lossless compressed JPEG2000. We extracted them locally from the server and uncompressed them back into TIFFs.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1071346791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1071690194","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1071690194","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1071690194,"node_id":"IC_kwDOCMmefs4_4LHS","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T22:35:31Z","updated_at":"2022-03-17T22:35:31Z","body":"@matdillen awesome to see how different institutions make use of their creativity and find ways to share their valuable digital assets. Thanks for elaborating - to me this shows the valuable of curating these image corpora and carefully document their origins.  ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1071690194/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1072448160","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1072448160","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1072448160,"node_id":"IC_kwDOCMmefs4_7EKg","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-18T14:09:46Z","updated_at":"2022-03-18T14:11:48Z","body":"As I was working towards getting a demo together, I noticed that some of the URLs in your csv index look a little suspicious.\r\n\r\nFor instance:\r\n\r\n```\r\n$ preston track \"https://zenodo.org/record/3697797/files/Data%20and%20links%20excl%20extensions.csv\"\r\n[...]\r\n$ preston ls | preston grep \"0003200.tif\"\r\n<urn:uuid:41ecfda0-8086-47de-bc22-bf64cd5d3a9c> <http://www.w3.org/1999/02/22-rdf-syntax-ns#type> <http://www.w3.org/ns/prov#Activity> <urn:uuid:41ecfda0-8086-47de-bc22-bf64cd5d3a9c> .\r\n<urn:uuid:41ecfda0-8086-47de-bc22-bf64cd5d3a9c> <http://www.w3.org/ns/prov#wasInformedBy> <urn:uuid:402f5d61-64c6-4af3-a4c1-a474c86cf3bc> <urn:uuid:41ecfda0-8086-47de-bc22-bf64cd5d3a9c> .\r\n<urn:uuid:41ecfda0-8086-47de-bc22-bf64cd5d3a9c> <http://www.w3.org/ns/prov#used> <hash://sha256/e1ef80add87b0493d31720e4f11bfdbd3e353d2b0a9f8727c9814e825912a362> <urn:uuid:41ecfda0-8086-47de-bc22-bf64cd5d3a9c> .\r\n<urn:uuid:41ecfda0-8086-47de-bc22-bf64cd5d3a9c> <http://purl.org/dc/terms/description> \"An activity that finds the locations of text matching the regular expression '0003200.tif' inside any encountered content (e.g., hash://sha256/... identifiers).\"@en <urn:uuid:41ecfda0-8086-47de-bc22-bf64cd5d3a9c> .\r\n<line:hash://sha256/e1ef80add87b0493d31720e4f11bfdbd3e353d2b0a9f8727c9814e825912a362!/L1700> <http://www.w3.org/ns/prov#value> \"PreservedSpecimen,Ficus membranacea C. Wright,species,JM,http://herbarium.bgbm.org/object/B100003200,B 10 0003200,Ficus,membranacea,Jamaica,1894,1894-02-15,\\\"Jamaica, Blue Mountains\\\",\\\"Harris,W.\\\",,,,,B,1894-02-15,,,M. VÃ¡squez Avila,,Middle and South America,,,,,,5221,,,,,,,,,,,,C. Wright,Plantae,,,Moraceae,,Herbarium Berolinense,,Plantae; Moraceae,,B,,Middle and South America,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,http://herbarium.bgbm.org/object/B100003200,,,,,,,,,,,,,,eng,,http://herbarium.bgbm.org/object/B100003200,https://zenodo.org/record/1479068/files/B 10 0003200.jpg,https://zenodo.org/record/1479068/files/B 10 0003200.tif,https://zenodo.org/record/1479068/files/B 10 0003200.json,https://zenodo.org/record/1479068/files/B 10 0003200_all.png,https://zenodo.org/record/1479068/files/B 10 0003200_sel.png,http://dx.doi.org/10.5281/zenodo.1479068,,\" <urn:uuid:41ecfda0-8086-47de-bc22-bf64cd5d3a9c> .\r\n```\r\n\r\nshows that line 1700 contains a urls with whitespaces. \r\n\r\nFor instance:\r\n\r\n ```https://zenodo.org/record/1479068/files/B 10 0003200.tif```\r\n\r\nfor instance, Zenodo's webserver does like the url request sent via curl:\r\n\r\n```\r\n$ $ curl -I \"https://zenodo.org/record/1479068/files/B 10 0003200.json\"\r\nHTTP/1.0 400 Bad request\r\nCache-Control: no-cache\r\nConnection: close\r\nContent-Type: text/html\r\n```\r\n\r\nI would expect whitespaces in URLs to be escaped using ```%20```\r\n\r\n```https://zenodo.org/record/1479068/files/B%2010%200003200.tif```\r\n\r\n```$ curl -I \"https://zenodo.org/record/1479068/files/B%2010%200003200.tif\"\r\nHTTP/1.1 200 OK\r\nServer: nginx\r\nContent-Type: image/tiff\r\nContent-Length: 48026662\r\nContent-MD5: 1fd820b4b016ae799c6a36c45da2f68a\r\nContent-Security-Policy: default-src 'none';\r\nX-Content-Type-Options: nosniff\r\nX-Download-Options: noopen\r\nX-Permitted-Cross-Domain-Policies: none\r\nX-Frame-Options: sameorigin\r\nX-XSS-Protection: 1; mode=block\r\nContent-Disposition: attachment; filename=\"B 10 0003200.tif\"\r\nETag: \"md5:1fd820b4b016ae799c6a36c45da2f68a\"\r\nLast-Modified: Wed, 16 Mar 2022 14:35:25 GMT\r\nDate: Fri, 18 Mar 2022 14:08:54 GMT\r\nAccept-Ranges: none\r\nX-RateLimit-Limit: 60\r\nX-RateLimit-Remaining: 59\r\nX-RateLimit-Reset: 1647612595\r\nRetry-After: 60\r\nStrict-Transport-Security: max-age=0\r\nReferrer-Policy: strict-origin-when-cross-origin\r\nSet-Cookie: session=2eb12e8dbd8aab02_62349276.TBC7mkxax-Te-Pc22uWh1gODNTw; Expires=Mon, 18-Apr-2022 14:08:54 GMT; Secure; HttpOnly; Path=/\r\nX-Session-ID: 2eb12e8dbd8aab02_62349276\r\nX-Request-ID: e6c51a3512c0f51588031b6d2e1153eb\r\n```\r\n\r\nAny chance I can convince you to publish an updated version of the summary publication?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1072448160/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1072588813","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1072588813","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1072588813,"node_id":"IC_kwDOCMmefs4_7mgN","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-18T16:39:43Z","updated_at":"2022-03-18T16:40:56Z","body":"@seltmann suggested that processing in Google's AutoML https://cloud.google.com/products/ai https://cloud.google.com/automl might be useful. \r\n\r\nSo, I was thinking, in addition to tesseract and similar command-line tools, you should be able to do\r\n\r\n```\r\ntrack images  | automl | track results \r\n```\r\n\r\n\r\n\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1072588813/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1073674201","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1073674201","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1073674201,"node_id":"IC_kwDOCMmefs4__vfZ","user":{"login":"matdillen","id":37537540,"node_id":"MDQ6VXNlcjM3NTM3NTQw","avatar_url":"https://avatars.githubusercontent.com/u/37537540?v=4","gravatar_id":"","url":"https://api.github.com/users/matdillen","html_url":"https://github.com/matdillen","followers_url":"https://api.github.com/users/matdillen/followers","following_url":"https://api.github.com/users/matdillen/following{/other_user}","gists_url":"https://api.github.com/users/matdillen/gists{/gist_id}","starred_url":"https://api.github.com/users/matdillen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/matdillen/subscriptions","organizations_url":"https://api.github.com/users/matdillen/orgs","repos_url":"https://api.github.com/users/matdillen/repos","events_url":"https://api.github.com/users/matdillen/events{/privacy}","received_events_url":"https://api.github.com/users/matdillen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-21T09:26:24Z","updated_at":"2022-03-21T09:26:24Z","body":"@jhpoelen I'll update the Zenodo record so the URLs have formatted spaces. Still, I thought there was a way curl would do this for you?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1073674201/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1075341204","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1075341204","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1075341204,"node_id":"IC_kwDOCMmefs5AGGeU","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-22T15:41:58Z","updated_at":"2022-03-22T15:41:58Z","body":"@matdillen Thanks for making the update to your image corpus index file. For some reason, curl doesn't insert the ```%20``` when it encounters whitespaces in a URL. I believe that browsers like firefox and chrome do reformat the URLs when whitespaces are encountered. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1075341204/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1077645248","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1077645248","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1077645248,"node_id":"IC_kwDOCMmefs5AO4_A","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-24T13:45:10Z","updated_at":"2022-03-24T13:47:40Z","body":"@matdillen @PietrH Am in process of building the \"dillen 2018\" image dataset. . . takes a day or so to retrieve the tiff images from Zenodo across the Atlantic via my 500Mb/s fiber internet connection. Once this is done, you should be able to clone the images from wherever convenient image repository (e.g., local hard disk, internet archive, institutional image repository), or just use Zenodo as a \"remote\" or image repository. This way, you'd have a lightweight publication including the json snippets and csv summary, and have the ability to inflate the images when needed via secure references by md5 hashes.\r\n\r\nIn order to make this work I had to implement #152 and #149 . Your herbarium image corpus has really helped to drive the development of these Preston features.\r\n\r\nCan you feel the excitement? ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1077645248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1078510249","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1078510249","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1078510249,"node_id":"IC_kwDOCMmefs5ASMKp","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-24T23:48:21Z","updated_at":"2022-03-24T23:48:21Z","body":"@matdillen @PietrH you can now find an example of how to process the Dillen 2018 image corpus via:\r\n\r\nhttps://github.com/bio-guoda/preston-dillen-2018\r\n\r\nIn the readme, I've included a method to generate a thumbnail from a TIFF image in your corpus. \r\n\r\nPlease confirm that you can reproduce and curious to hear your thoughts.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1078510249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1082560632","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1082560632","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1082560632,"node_id":"IC_kwDOCMmefs5AhpB4","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T02:41:03Z","updated_at":"2022-03-30T13:13:36Z","body":"@matdillen asked the following questions in a separate thread - \r\n\r\n> - How long did it take you to scrape the set off of Zenodo?\r\n\r\nstart of process:\r\n\r\n```\r\n$ preston ls --algo md5 --remote https://raw.githubusercontent.com/bio-guoda/preston-dillen-2018/main/data | grep -o -E \"2022-03-[0-9]{2}T[0-9:.]*\" | head -n1\r\n2022-03-23T21:16:44.606\r\n```\r\n\r\nend of process:\r\n\r\n```\r\n$ preston ls --algo md5 --remote https://raw.githubusercontent.com/bio-guoda/preston-dillen-2018/main/data | grep -o -E \"2022-03-[0-9]{2}T[0-9:.]*\" | tail\r\n2022-03-24T18:59:50.907\r\n2022-03-24T19:00:38.611\r\n2022-03-24T19:01:17.955\r\n2022-03-24T19:01:58.863\r\n2022-03-24T19:02:30.410\r\n2022-03-24T19:03:05.947\r\n2022-03-24T19:48:23.438\r\n2022-03-24T19:48:25.162\r\n2022-03-25T13:46:15.043\r\n2022-03-25T13:49:01.494\r\n```\r\n\r\nNote that the last timestamps are space out due to manual patching of the intermittently available Zenodo assets (see https://github.com/bio-guoda/preston-dillen-2018/issues/1). \r\n\r\nSo all, and all, the period was about 2022-03-23T21:16:44/2022-03-24T19:48:25 , so about 24 hours. Process was running sequential downloads from a 10+ year old laptop in the US Midwest using a consumer fiber internet connection connected over wifi. \r\n\r\n\r\n> - Any other access problems than the weird 404s already discussed in the issue on github?\r\n\r\nYou can find missing content by looking for skolemized blank hasVersion statements. Here's two:\r\n```\r\n$ preston ls --algo md5 --remote https://raw.githubusercontent.com/bio-guoda/preston-dillen-2018/main/data | grep \"well-known\" | grep hasVersion | head -n2\r\n<https://zenodo.org/record/1485797/files/K000242782.json> <http://purl.org/pav/hasVersion> <https://deeplinker.bio/.well-known/genid/701a8262-1549-32d1-a95b-fed8cc0b811d> <urn:uuid:71328f10-6f7d-4051-b883-f4127af1248a> .\r\n<https://zenodo.org/record/1483808/files/E00189317.tif> <http://purl.org/pav/hasVersion> <https://deeplinker.bio/.well-known/genid/bbde6fe8-023d-3d88-b04f-d960d125e420> <urn:uuid:805bd303-f22d-43aa-9601-08a394a3bbd3> .\r\n```\r\nI re-ran the tracker for missing content until all eventually resolved. \r\n\r\nThe total amount of \"blanks\" was 19 \r\n\r\n```\r\n$ preston ls --algo md5 --remote https://raw.githubusercontent.com/bio-guoda/preston-dillen-2018/main/data | grep \"well-known\" | grep hasVersion | wc -l\r\n19\r\n```\r\n\r\nand, I haven't carefully looked at the root cause of all of them. I just reported the one in https://github.com/bio-guoda/preston-dillen-2018/issues/1 . \r\n\r\n\r\n\r\n> - How scalable do you think this would be? \r\n\r\nYou can parallelize the tracking process across different machines. So, I'd say that process scales on the client side. However, I imagine that the Zenodo infrastructure has some limits. Note that once you make a location agnostic version of your image corpus, you can also scale the data provider end of things, bit-torrent style, or by using Content Distributions Network (CDN) strategies. The tricky thing is be careful make a mirror of the original location based dataset.\r\n\r\n> Could be interesting to try and harvest the other Zenodo dataset compiled in the ICEDIG project, https://zenodo.org/communities/belgiumherbarium/ This one is ca. 250-260k records with an image (JPEG, no TIFF) in each record, and sparse metadata (although you could enrich these with GBIF data). Quite a few things went wrong during the publication process of this dataset, though, so a significant number of records will be broken at different steps of the publication process. Due to leaks in the logging, I didn't have a clear picture at the time which records were faulty.\r\n\r\nYes, tracking your https://zenodo.org/communities/belgiumherbarium/ image corpus  sounds like fun. I can see\r\nhow this process can serve many purposes - review of mobility of large image datasets, demonstration of ability to cite large datasets without having to keeping the data in a single location, or reviewing the access dynamics of data repositories and the network connects it to the data tracker. \r\n \r\n> - I wonder how this approach holds up to taking images off of GBIF's image cache or from the distributed image URLs as indexed on GBIF.\r\n\r\nI don't see any issue on the Preston side of things. Preston implements content addressed storage in combination with  lightweight, stream-enabled, provenance logs that are securely linked. Preliminary results show that this design strategy fits nicely into the massively scalable infrastructures built on Apache Kafka, Apache Spark, (content-addressed) blob storage, and friends. \r\n\r\nBut hey, let's give it a try!\r\n\r\nRight now, my focus is on @seltmann 's https://big-bee.net/ to build image corpora and my collaboration with University of Florida (@mielliott) on the Preston core.  And your use-case / image corpus fits nicely for both projects. \r\n\r\nCurious to hear your thoughts and ideas!\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1082560632/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1082666245","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1082666245","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1082666245,"node_id":"IC_kwDOCMmefs5AiC0F","user":{"login":"qgroom","id":5530576,"node_id":"MDQ6VXNlcjU1MzA1NzY=","avatar_url":"https://avatars.githubusercontent.com/u/5530576?v=4","gravatar_id":"","url":"https://api.github.com/users/qgroom","html_url":"https://github.com/qgroom","followers_url":"https://api.github.com/users/qgroom/followers","following_url":"https://api.github.com/users/qgroom/following{/other_user}","gists_url":"https://api.github.com/users/qgroom/gists{/gist_id}","starred_url":"https://api.github.com/users/qgroom/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/qgroom/subscriptions","organizations_url":"https://api.github.com/users/qgroom/orgs","repos_url":"https://api.github.com/users/qgroom/repos","events_url":"https://api.github.com/users/qgroom/events{/privacy}","received_events_url":"https://api.github.com/users/qgroom/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T06:17:44Z","updated_at":"2022-03-30T06:17:44Z","body":"I hope you will blog about all of this when you're done ;-)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1082666245/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1083109297","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1083109297","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1083109297,"node_id":"IC_kwDOCMmefs5Aju-x","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-30T12:58:49Z","updated_at":"2022-03-30T12:58:49Z","body":"@qgroom great idea! What do you think would be a good blog for this? ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1083109297/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1222770241","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1222770241","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1222770241,"node_id":"IC_kwDOCMmefs5I4f5B","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-08-22T18:41:31Z","updated_at":"2022-08-22T18:41:31Z","body":"Hey @matdillen - how's life? I have a 200GB image dataset of yours sitting on one of my hard disks. And, I was wondering - what would you like to do with this copy of the images that you also posted on https://github.com/bio-guoda/preston-dillen-2018 ? Or would you be ok if I ditch it? ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1222770241/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null},{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1573948447","html_url":"https://github.com/bio-guoda/preston/issues/139#issuecomment-1573948447","issue_url":"https://api.github.com/repos/bio-guoda/preston/issues/139","id":1573948447,"node_id":"IC_kwDOCMmefs5d0Iwf","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-02T15:44:44Z","updated_at":"2023-06-02T15:44:44Z","body":"Also see Poelen, Jorrit H., & Best, Jason. (2023, June 2). Signed Biodiversity Data Packages: A Method to Cite, Verify, Mobilize, and Future Proof, Large Image Corpora. hash://sha256/0154b9ddce4d2e280e627a08d1a2d42884201af6ac1ec19606e393deda57f4bb hash://md5/bae7f441cdd2648d2356b2330e4b71e8. Zenodo. https://doi.org/10.5281/zenodo.7998190 . ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/comments/1573948447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null}]