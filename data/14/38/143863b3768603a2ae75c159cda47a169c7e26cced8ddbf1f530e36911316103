{"url":"https://api.github.com/repos/bio-guoda/preston/issues/256","repository_url":"https://api.github.com/repos/bio-guoda/preston","labels_url":"https://api.github.com/repos/bio-guoda/preston/issues/256/labels{/name}","comments_url":"https://api.github.com/repos/bio-guoda/preston/issues/256/comments","events_url":"https://api.github.com/repos/bio-guoda/preston/issues/256/events","html_url":"https://github.com/bio-guoda/preston/issues/256","id":1869818596,"node_id":"I_kwDOCMmefs5vcyrk","number":256,"title":"append provenance index file on anchored preston track cmd","user":{"login":"jhpoelen","id":1084872,"node_id":"MDQ6VXNlcjEwODQ4NzI=","avatar_url":"https://avatars.githubusercontent.com/u/1084872?v=4","gravatar_id":"","url":"https://api.github.com/users/jhpoelen","html_url":"https://github.com/jhpoelen","followers_url":"https://api.github.com/users/jhpoelen/followers","following_url":"https://api.github.com/users/jhpoelen/following{/other_user}","gists_url":"https://api.github.com/users/jhpoelen/gists{/gist_id}","starred_url":"https://api.github.com/users/jhpoelen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jhpoelen/subscriptions","organizations_url":"https://api.github.com/users/jhpoelen/orgs","repos_url":"https://api.github.com/users/jhpoelen/repos","events_url":"https://api.github.com/users/jhpoelen/events{/privacy}","received_events_url":"https://api.github.com/users/jhpoelen/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-08-28T13:55:22Z","updated_at":"2023-08-28T16:42:29Z","closed_at":null,"author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"In situation of existing Preston package (like [1]), I'd like to be able to _append_ a new version without having to clone to entire package with history from the beginning of time.\r\n\r\nHowever, while, \r\n\r\n```bash\r\npreston track\\\r\n --remote https://zenodo.org/record/8125362/files\\\r\n --anchor hash://sha256/0e9bc57bc082b58a2c7a509bb73362b258ec8ddfc6664898e25c639786413fda\\ \"https://www.discoverlife.org/mp/20q/?act=x_checklist&guide=Apoidea_species&flags=HAS\"\r\n```\r\n\r\nproduces a linked provenance log (```preston ls | grep \"0e9bc57bc082b58a2c7a509bb73362b258ec8ddfc6664898e25c639786413fda\"``` with statement:\r\n\r\n```\r\n<hash://sha256/0e9bc57bc082b58a2c7a509bb73362b258ec8ddfc6664898e25c639786413fda> <http://www.w3.org/ns/prov#usedBy> <urn:uuid:c93732f1-58dc-4bd2-9fca-db6ad9301748> <urn:uuid:c93732f1-58dc-4bd2-9fca-db6ad9301748> .\r\n```\r\n\r\nit does *not* produce a provenance query index. Instead, a \"root\" query index is generated with query hash `hash://sha256/2a5de79372318317a382ea9a2cef069780b852b01210ef59e06b640a3539cb5a` is generated.\r\n\r\ne.g., \r\n\r\n```bash\r\nfind .\r\n``` \r\n\r\nproduced:\r\n\r\n```\r\n.\r\n./data\r\n./data/2a\r\n./data/2a/5d\r\n./data/2a/5d/2a5de79372318317a382ea9a2cef069780b852b01210ef59e06b640a3539cb5a\r\n./data/c4\r\n./data/c4/fc\r\n./data/c4/fc/c4fc072c4977b8a55fc386402b6b2b3128f9de27349e61b369c887ce88e525e8\r\n./data/37\r\n./data/37/48\r\n./data/37/48/37489fc6e5bcfb53e996ddfbc28ef0bb8c00470891f31bb91370953f05235a1d\r\n```\r\n\r\nThis means that when the provenance query index file is added to an existing publication, the corpus would not allow for traversing from the first version (the provenance \"root\") to the most recently added version.\r\n\r\nSuggest to instead generate a provenance query index that answers the question: what is the provenance log that came after  `0e9bc57bc082b58a2c7a509bb73362b258ec8ddfc6664898e25c639786413fda` ? Instead of the current provenance query index that answers the question : what is the first provenance log? \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n# References \r\n\r\n[1] Poelen, Jorrit H. (2023). Nomer Corpus of Taxonomic Resources hash://sha256/0e9bc57bc082b58a2c7a509bb73362b258ec8ddfc6664898e25c639786413fda hash://md5/91dd844e787ffae8f0a2bbb8c1f29192 (0.16) [Data set]. Zenodo. https://doi.org/10.5281/zenodo.8125362","closed_by":null,"reactions":{"url":"https://api.github.com/repos/bio-guoda/preston/issues/256/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/bio-guoda/preston/issues/256/timeline","performed_via_github_app":null,"state_reason":null}